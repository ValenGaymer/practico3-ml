
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Physical Therapy Dataset &#8212; Tercer parcial de Machine Learning</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'regression_ex';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Satisfacción de clientes" href="clas_ex.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Tercer parcial de Machine Learning - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Tercer parcial de Machine Learning - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Ejercicio 1
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="clas_ex.html">Satisfacción de clientes</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Physical Therapy Dataset</a></li>






</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fregression_ex.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/regression_ex.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Physical Therapy Dataset</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Physical Therapy Dataset</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sobre-los-datos">Sobre los datos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estructura-de-los-datos">Estructura de los datos</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio">Análisis exploratorio</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comportamiento-de-las-series">Comportamiento de las series</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primer-ejercicio">Primer ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segundo-ejercicio">Segundo ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tercer-ejercicio">Tercer ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuarto-ejercicio">Cuarto ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quinto-ejercicio">Quinto ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sexto-ejercicio">Sexto ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#septimo-ejercicio">Séptimo ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#octavo-ejercicio">Octavo ejercicio</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#correlacion">Correlación</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-uno-unidad-2-y-3">Ejercicio uno: unidad 2 y 3</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-dos-unidad-5">Ejercicio dos: unidad 5</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-cinco-unidad-2-y-3">Ejercicio cinco: unidad 2 y 3</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#descomposicion-estacional">Descomposición estacional</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-tomado">Ejercicio tomado</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primer-ejercicio-y-sujeto-uno">Primer ejercicio y sujeto uno</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-1">Unidad 1</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-2">Unidad 2</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-3">Unidad 3</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-4">Unidad 4</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-5">Unidad 5</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-de-dickey-fuller">Test de Dickey - Fuller</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#que-significa-estacionaria">¿Qué significa “estacionaria”?</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hipotesis-del-test-de-dickey-fuller">Hipótesis del test de Dickey-Fuller</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados">Resultados</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacion">Interpretación</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#acf-y-pacf">ACF y PACF</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-de-autocorrelacion-acf">Función de Autocorrelación (ACF)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-de-autocorrelacion-parcial-pacf">Función de Autocorrelación Parcial (PACF)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicios-tomados">Ejercicios tomados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Primer ejercicio y sujeto uno</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos">Modelos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pliegues">Pliegues</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mejores-modelos-finales-por-ejercicio-unidad-y-variable">Mejores modelos finales por ejercicio, unidad y variable</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-1">Ejercicio 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-2">Ejercicio 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-3">Ejercicio 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-4">Ejercicio 4</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-5">Ejercicio 5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-6">Ejercicio 6</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-7">Ejercicio 7</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-8">Ejercicio 8</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-modelos-elegidos">Análisis de modelos elegidos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#knn">KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-lineal">Regresión lineal</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-lasso">Regresión Lasso</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-ridge">Regresión Ridge</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest">Random Forest</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#xgboost">XGBoost</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#svr">SVR</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados-finales">Resultados finales</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="physical-therapy-dataset">
<h1>Physical Therapy Dataset<a class="headerlink" href="#physical-therapy-dataset" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">faux</span> <span class="k">as</span> <span class="nn">f</span>
<span class="kn">from</span> <span class="nn">statsmodels.graphics.tsaplots</span> <span class="kn">import</span> <span class="n">plot_acf</span><span class="p">,</span> <span class="n">plot_pacf</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.seasonal</span> <span class="kn">import</span> <span class="n">seasonal_decompose</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.stattools</span> <span class="kn">import</span> <span class="n">adfuller</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span><span class="p">,</span> <span class="n">Ridge</span><span class="p">,</span> <span class="n">Lasso</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_absolute_percentage_error</span><span class="p">,</span> <span class="n">mean_squared_error</span><span class="p">,</span> <span class="n">mean_absolute_error</span><span class="p">,</span> <span class="n">r2_score</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVR</span>
<span class="kn">from</span> <span class="nn">xgboost</span> <span class="kn">import</span> <span class="n">XGBRegressor</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="sobre-los-datos">
<h1>Sobre los datos<a class="headerlink" href="#sobre-los-datos" title="Link to this heading">#</a></h1>
<p>El conjunto de datos utilizado en este ejercicio contiene información obtenida de sensores inerciales y magnéticos portátiles durante la ejecución de ejercicios de fisioterapia. Incluye ocho tipos de ejercicios, cada uno realizado en tres modalidades diferentes (correcta, rápida y de baja amplitud), repetidos varias veces por cinco sujetos. Los participantes usaron cinco unidades de sensores MTx fabricadas por XSens, cada una equipada con acelerómetro, giroscopio y magnetómetro tri-axiales, muestreados a 25 Hz. Los datos fueron recolectados bajo la aprobación del Comité de Ética de la Universidad de Bilkent, garantizando el anonimato de los participantes y con su consentimiento informado. Este conjunto de datos respalda investigaciones sobre la detección automatizada y evaluación de ejercicios de fisioterapia.</p>
<section id="estructura-de-los-datos">
<h2>Estructura de los datos<a class="headerlink" href="#estructura-de-los-datos" title="Link to this heading">#</a></h2>
<p>La estructura de los datos están distribuidos en carpetas de la siguiente manera:</p>
<ul class="simple">
<li><p><strong>s1, …, s5</strong>: representan los sujetos 1 a 5.</p></li>
<li><p><strong>e1, …, e8</strong>: representan los 8 tipos de ejercicios.</p></li>
<li><p><strong>u1, …, u5</strong>: representan las 5 unidades de sensores utilizadas.</p></li>
</ul>
<p>La organización de los archivos es la siguiente:</p>
<ol class="arabic simple">
<li><p><strong>Sesiones de plantilla (template_session.txt)</strong>: Para cada sujeto, tipo de ejercicio y unidad de sensor, este archivo contiene datos recolectados durante una sesión de grabación que incluye tres ejecuciones para cada uno de los tres tipos de ejecución (correcta, rápida y de baja amplitud). Los intervalos de tiempo de las plantillas seleccionadas están disponibles en archivos adicionales denominados <code class="docutils literal notranslate"><span class="pre">template_times.txt</span></code>.</p></li>
<li><p><strong>Intervalos de tiempo de plantillas seleccionadas (template_times.txt)</strong>: Estos archivos, disponibles para cada sujeto y tipo de ejercicio, especifican los índices de tiempo de inicio y fin de las plantillas seleccionadas en los archivos <code class="docutils literal notranslate"><span class="pre">template_session.txt</span></code>.</p></li>
<li><p><strong>Sesiones de prueba (test.txt)</strong>: Para cada sujeto, tipo de ejercicio y unidad de sensor, este archivo contiene datos de una sesión de prueba con 10 repeticiones para cada tipo de ejecución.</p></li>
</ol>
<p>Cada fila de los archivos <code class="docutils literal notranslate"><span class="pre">template_session.txt</span></code> y <code class="docutils literal notranslate"><span class="pre">test.txt</span></code> incluye el índice de tiempo (𝑛 = 1, 2, … , 𝑁) y las mediciones en los ejes 𝑥, 𝑦 y 𝑧 de los sensores de acelerómetro (acc), giroscopio (gyr) y magnetómetro (mag), cuyo orden se indica en las filas de encabezado. Los datos están muestreados a una frecuencia de 25 Hz (𝑓𝑠 = 25 Hz), permitiendo calcular el tiempo como 𝑡 = (𝑛 − 1)/𝑓𝑠 = 0.04 (𝑛 − 1) segundos.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="analisis-exploratorio">
<h1>Análisis exploratorio<a class="headerlink" href="#analisis-exploratorio" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
            <span class="n">var_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="n">var_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">rf</span><span class="s1">&#39;C:\Users\Valen\Desktop\fisioterapia_dataset_regresion\s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">\e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">\u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">\template_session.txt&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">templates</span> <span class="o">=</span> <span class="p">{</span><span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)}</span>
</pre></div>
</div>
</div>
</div>
<p>En total son 200 bases de datos con las combinaciones entre sujeto, ejercicio y unidad de sensor. Se declaró la ausencia de datos faltantes.</p>
<section id="comportamiento-de-las-series">
<h2>Comportamiento de las series<a class="headerlink" href="#comportamiento-de-las-series" title="Link to this heading">#</a></h2>
<p>El análisis comenzará explorando cada combinación de las series de datos obtenidas para los diferentes sujetos, tipos de ejercicios y unidades de sensores. Esto permitirá observar y comparar el comportamiento específico de las mediciones según cada sujeto, considerando los ocho ejercicos distitos y las cinco unidades de sensores utilizadas.</p>
<p>Para ello, se procesarán y visualizarán las señales de acelerómetro, giroscopio y magnetómetro en los ejes 𝑥, 𝑦 y 𝑧, obtenidas. Se analizarán las tendencias, patrones y variaciones en las series temporales para identificar características relevantes en el contexto de la detección automatizada y evaluación de ejercicios de fisioterapia.</p>
<section id="primer-ejercicio">
<h3>Primer ejercicio<a class="headerlink" href="#primer-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en sentarse en una superficie plana y elevada. Desde esa posición, debes levantar la pierna derecha manteniéndola completamente recta. Luego, sostén esa postura durante 5 segundos, asegurándote de que la rodilla derecha permanezca extendida. Finalmente, baja la pierna con control y regresa a la posición inicial. Al ser un ejercicio de piernas, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en rodilla derecha, 4 en rodilla izquierda y 5 en pecho.</p>
</div>
<p><img alt="" src="_images/sensor_leg.png" /></p>
<p><img alt="" src="_images/ex1.png" /></p>
<p><em>Figuras tomada de Yurtman, A., &amp; Barshan, B. (2024). Automated evaluation of physical therapy exercises using multi-template dynamic time warping on wearable sensor signals. Journal of Sensor Technology, 15(4), 123-134. <a class="reference external" href="https://doi.org/10.1016/j.cmpb.2014.07.003">https://doi.org/10.1016/j.cmpb.2014.07.003</a></em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_dens</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">variables</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Genera una gráfica con una matriz 3x5 mostrando la densidad (density plot)</span>
<span class="sd">    para las señales de los sensores.</span>

<span class="sd">    Parámetros:</span>
<span class="sd">    s (int): Número del sujeto.</span>
<span class="sd">    e (int): Número del ejercicio.</span>
<span class="sd">    variables (dict): Diccionario con las variables de datos.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Paleta de colores personalizada</span>
    <span class="n">colores</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;acc_x&#39;</span><span class="p">:</span> <span class="s1">&#39;#003f5c&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">:</span> <span class="s1">&#39;#2f4b7c&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">:</span> <span class="s1">&#39;#665191&#39;</span><span class="p">,</span>
               <span class="s1">&#39;gyr_x&#39;</span><span class="p">:</span> <span class="s1">&#39;#a05195&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">:</span> <span class="s1">&#39;#d45087&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">:</span> <span class="s1">&#39;#f95d6a&#39;</span><span class="p">,</span>
               <span class="s1">&#39;mag_x&#39;</span><span class="p">:</span> <span class="s1">&#39;#ff7c43&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffa600&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffd026&#39;</span><span class="p">}</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Sujeto </span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1"> - Ejercicio </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1"> (template)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

    <span class="n">sensor_axes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;acc&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">]</span>
    <span class="n">units</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sensor_axes</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">units</span><span class="p">):</span>
            <span class="n">var_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">variables</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span>

            <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>

            <span class="c1"># Graficar densidad con colores personalizados</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_x&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_x&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_x&#39;</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_y&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_y&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_y&#39;</span><span class="p">])</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_z&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_z&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_z&#39;</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unidad </span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>



<span class="k">def</span> <span class="nf">plot_dist</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">variables</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Genera una gráfica con una matriz 3x5 para las señales de los sensores.</span>

<span class="sd">    Parámetros:</span>
<span class="sd">    s (int): Número del sujeto.</span>
<span class="sd">    e (int): Número del ejercicio.</span>
<span class="sd">    variables (dict): Diccionario con las variables de datos.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Paleta de colores personalizada</span>
    <span class="n">colores</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;acc_x&#39;</span><span class="p">:</span> <span class="s1">&#39;#003f5c&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">:</span> <span class="s1">&#39;#2f4b7c&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">:</span> <span class="s1">&#39;#665191&#39;</span><span class="p">,</span>
               <span class="s1">&#39;gyr_x&#39;</span><span class="p">:</span> <span class="s1">&#39;#a05195&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">:</span> <span class="s1">&#39;#d45087&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">:</span> <span class="s1">&#39;#f95d6a&#39;</span><span class="p">,</span>
               <span class="s1">&#39;mag_x&#39;</span><span class="p">:</span> <span class="s1">&#39;#ff7c43&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffa600&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">:</span> <span class="s1">&#39;#ffd026&#39;</span><span class="p">}</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Sujeto </span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1"> - Ejercicio </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1"> (template)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

    <span class="n">sensor_axes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;acc&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">]</span>
    <span class="n">units</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sensor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sensor_axes</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">units</span><span class="p">):</span>
            <span class="n">var_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">variables</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span>

            <span class="n">time</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;time index&#39;</span><span class="p">]</span>

            <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_x&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_x&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_x&#39;</span><span class="p">])</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_y&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_y&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_y&#39;</span><span class="p">])</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_z&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_z&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="si">}</span><span class="s1">_z&#39;</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unidad </span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sensor</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ebe66478064af2e614c77a11eaac3bcd71a749716246f861c5d929c66a4b1533.png" src="_images/ebe66478064af2e614c77a11eaac3bcd71a749716246f861c5d929c66a4b1533.png" />
<img alt="_images/5c9d4d68e72e51a0b9b3aa0580c568570a50e002b099202d74534c9557c5447a.png" src="_images/5c9d4d68e72e51a0b9b3aa0580c568570a50e002b099202d74534c9557c5447a.png" />
<img alt="_images/337962f91e63208d6d44487e6f8db9d71a9aeaa456f61253250e7822a67c2643.png" src="_images/337962f91e63208d6d44487e6f8db9d71a9aeaa456f61253250e7822a67c2643.png" />
<img alt="_images/7f7b02fe8dd2445f113d179ec14b305f5fc17775906c957161086b064aef3e5a.png" src="_images/7f7b02fe8dd2445f113d179ec14b305f5fc17775906c957161086b064aef3e5a.png" />
<img alt="_images/9a0760a10630956bfeaa0763ac4157ae2b395a58a762d8469c6ecab0efd462de.png" src="_images/9a0760a10630956bfeaa0763ac4157ae2b395a58a762d8469c6ecab0efd462de.png" />
</div>
</div>
<p>Dado que los sensores involucrados en este ejercicio están mayormente asociados con la extremidad inferior derecha, era de esperarse una mayor actividad en las unidades de sensores 2 y 3. Se identifican claramente las nueve repeticiones descritas en los datos proporcionados, así como la agrupación en los tres tipos de ejecución realizados por cada sujeto. Este patrón es particularmente evidente en el caso del tercer sujeto, donde se observan picos pronunciados en las señales del acelerómetro, atribuibles a la ejecución del tipo 1, es decir, en modalidad rápida. Además, los cambios en las mediciones del giroscopio, especialmente en el eje z, son notables y reflejan el movimiento de elevación y descenso realizado predominantemente por el tobillo derecho (unidad 2).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5eb0cd14a16a37e88b278b91aa28a2401ee19b1c2b922f52a569c83db19da38b.png" src="_images/5eb0cd14a16a37e88b278b91aa28a2401ee19b1c2b922f52a569c83db19da38b.png" />
<img alt="_images/4670c05960907a8c80f1c441cea58711c6af5b41fcaff936f0eb815b8c0eb37d.png" src="_images/4670c05960907a8c80f1c441cea58711c6af5b41fcaff936f0eb815b8c0eb37d.png" />
<img alt="_images/77158fce5d0a1e5bd2791c57517974155c8590647e8111bad1bb7f332b3714b9.png" src="_images/77158fce5d0a1e5bd2791c57517974155c8590647e8111bad1bb7f332b3714b9.png" />
<img alt="_images/ef9dedd36797e089ff4b131bcf20f74f021f46fd36dd0b2f7e8a914510e11163.png" src="_images/ef9dedd36797e089ff4b131bcf20f74f021f46fd36dd0b2f7e8a914510e11163.png" />
<img alt="_images/49e592841f19ec14b5a9839ff0952137723a39ac67d1cc6c6559208391bfe0f4.png" src="_images/49e592841f19ec14b5a9839ff0952137723a39ac67d1cc6c6559208391bfe0f4.png" />
</div>
</div>
<p>Se puede observar los casos de la unidad dos y tres, las distribuciones en el acelerómetro para la coordenada z parece estar siempre entre la distribución de las coordenadas x y y en todos los sujetos. Las figuras reflejan distribuciones similares y bastantes leptokurticas (punteadas), como las asociadas a las medidas del giroscopío.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.007554</td>
      <td>0.003</td>
      <td>-0.003678</td>
      <td>-9.533232</td>
      <td>-1.630793</td>
      <td>-0.244513</td>
      <td>0.580823</td>
      <td>0.469654</td>
      <td>0.002841</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.007685</td>
      <td>0.003388</td>
      <td>-0.00375</td>
      <td>-9.647643</td>
      <td>-1.710451</td>
      <td>-0.237421</td>
      <td>0.586989</td>
      <td>0.459703</td>
      <td>-0.012382</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.025491</td>
      <td>0.023479</td>
      <td>0.027695</td>
      <td>0.248346</td>
      <td>1.508149</td>
      <td>0.581099</td>
      <td>0.069072</td>
      <td>0.098615</td>
      <td>0.069846</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.007159</td>
      <td>0.019697</td>
      <td>-0.002799</td>
      <td>-5.815661</td>
      <td>5.924555</td>
      <td>0.226042</td>
      <td>0.149879</td>
      <td>-0.629556</td>
      <td>0.07758</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.004266</td>
      <td>0.019747</td>
      <td>-0.003886</td>
      <td>-6.638964</td>
      <td>6.954605</td>
      <td>0.126491</td>
      <td>0.125992</td>
      <td>-0.656313</td>
      <td>0.080676</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.184964</td>
      <td>0.134206</td>
      <td>0.799696</td>
      <td>4.025359</td>
      <td>3.760253</td>
      <td>1.327514</td>
      <td>0.404617</td>
      <td>0.117234</td>
      <td>0.146752</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.007064</td>
      <td>0.004701</td>
      <td>-0.020392</td>
      <td>-2.04856</td>
      <td>9.343125</td>
      <td>1.338649</td>
      <td>-0.335044</td>
      <td>-0.751875</td>
      <td>-0.115305</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.000331</td>
      <td>0.006135</td>
      <td>-0.02006</td>
      <td>-2.483286</td>
      <td>9.322949</td>
      <td>1.519057</td>
      <td>-0.300484</td>
      <td>-0.768408</td>
      <td>-0.163164</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.189605</td>
      <td>0.066329</td>
      <td>0.127228</td>
      <td>1.475255</td>
      <td>0.365531</td>
      <td>1.553813</td>
      <td>0.119276</td>
      <td>0.053029</td>
      <td>0.124773</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.008586</td>
      <td>0.002321</td>
      <td>0.001144</td>
      <td>9.462405</td>
      <td>1.404986</td>
      <td>1.37732</td>
      <td>-0.662494</td>
      <td>0.061083</td>
      <td>-0.463567</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.008299</td>
      <td>0.003532</td>
      <td>0.001447</td>
      <td>9.566833</td>
      <td>1.531519</td>
      <td>1.091514</td>
      <td>-0.686296</td>
      <td>0.034125</td>
      <td>-0.449966</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.041857</td>
      <td>0.051819</td>
      <td>0.024175</td>
      <td>0.290021</td>
      <td>0.945753</td>
      <td>1.121267</td>
      <td>0.068535</td>
      <td>0.086465</td>
      <td>0.067927</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.000246</td>
      <td>-0.001976</td>
      <td>-0.005683</td>
      <td>-3.427367</td>
      <td>-8.441707</td>
      <td>-1.132555</td>
      <td>-0.091534</td>
      <td>0.724615</td>
      <td>-0.04333</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.000213</td>
      <td>-0.001404</td>
      <td>-0.006034</td>
      <td>-4.108644</td>
      <td>-8.073672</td>
      <td>-1.739244</td>
      <td>-0.008729</td>
      <td>0.72781</td>
      <td>-0.002036</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.060915</td>
      <td>0.018883</td>
      <td>0.043641</td>
      <td>1.744735</td>
      <td>0.845009</td>
      <td>2.920452</td>
      <td>0.15075</td>
      <td>0.045161</td>
      <td>0.227751</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Las unidades 2 (tobillo derecho) y 3 (rodilla derecha) muestran las mayores variaciones en todas las mediciones, lo que confirma su participación activa en el levantamiento y mantenimiento de la pierna derecha extendida. Estas unidades tienen desviaciones estándar elevadas en el acelerómetro, giroscopio y magnetómetro, reflejando tanto el levantamiento como los ajustes durante el ejercicio. Las unidades 1 (tobillo izquierdo) y 4 (rodilla izquierda) presentan señales muy estables, reflejando su papel de soporte durante el movimiento. La unidad 5 (pecho) muestra señales estables con ligeras variaciones en el acelerómetro, probablemente debido a ajustes posturales mínimos.</p>
</section>
<section id="segundo-ejercicio">
<h3>Segundo ejercicio<a class="headerlink" href="#segundo-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en sentarse erguido en un taburete con los brazos colgando hacia abajo. Desde esa posición, inclinar el torso hacia adelante a un ángulo de 30°, manteniendo la postura durante 5 segundos. Finalmente, regresa a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en la rodilla derecha, 2 en la muñeca derecha, 3 en el codo derecho, 4 en el hombro derecho y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/sensor_arm.png" /></p>
<p><img alt="" src="_images/ex2.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/24d947c776216af6e533d0688e280e486000e012c911a96405d485138c1ecffd.png" src="_images/24d947c776216af6e533d0688e280e486000e012c911a96405d485138c1ecffd.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/28ce6c4220d09667cbbeba92bcb7aaeaf50b9c969ab0ef32389cf4222e79d60f.png" src="_images/28ce6c4220d09667cbbeba92bcb7aaeaf50b9c969ab0ef32389cf4222e79d60f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/59f025f7ece9bb6aa14835002062648f3740331194cf9f5e20dcb2eb99759cde.png" src="_images/59f025f7ece9bb6aa14835002062648f3740331194cf9f5e20dcb2eb99759cde.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/06fd30542b6c6eee9cdd4656443f9465407ac71623e1e9f8b1e04fd3330148e7.png" src="_images/06fd30542b6c6eee9cdd4656443f9465407ac71623e1e9f8b1e04fd3330148e7.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2f4a550a049dd1200b5aae313f5328d03d5f40bc29df90a8425b780c88532a8c.png" src="_images/2f4a550a049dd1200b5aae313f5328d03d5f40bc29df90a8425b780c88532a8c.png" />
</div>
</div>
<p>Debido a la naturaleza del ejercicio y los movimientos realizados, era de esperarse que el acelerómetro mostrara mayores cambios en la unidad del sensor localizada en el hombro (4), el cual presenta una mayor variabilidad en las mediciones de los tres instrumentos (acelerómetro, giroscopio y magnetómetro). Asimismo, el sensor ubicado en el pecho (5) refleja una actividad significativa en todos los ejes del acelerómetro. Por otro lado, debido a que los brazos permanecen colgando durante el ejercicio, se observa poca actividad en la unidad 2, correspondiente al sensor ubicado en la muñeca, como era de esperarse dada la posición requerida.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/41ef3b0b2a68505c3406433d7b36bf619443111c32f5f1ce34a2712e50be8768.png" src="_images/41ef3b0b2a68505c3406433d7b36bf619443111c32f5f1ce34a2712e50be8768.png" />
<img alt="_images/f2d1a7f3fd50689dfe7af6b51cc56535d329010c1e2a78a44e258afc54b1eb1e.png" src="_images/f2d1a7f3fd50689dfe7af6b51cc56535d329010c1e2a78a44e258afc54b1eb1e.png" />
<img alt="_images/68dfbd8c156c03d1c0ad10e53c0b39dbf2fd68fd943ad0e7ac7a348fc4d02128.png" src="_images/68dfbd8c156c03d1c0ad10e53c0b39dbf2fd68fd943ad0e7ac7a348fc4d02128.png" />
<img alt="_images/cef88be05d15f0de42ecea34d48f008520ad015ca7069dd3b71058f2c4568bd2.png" src="_images/cef88be05d15f0de42ecea34d48f008520ad015ca7069dd3b71058f2c4568bd2.png" />
<img alt="_images/148fc0733870491b7c57c80511574f1e56770a6f8f5015d3fd27b025fb32873f.png" src="_images/148fc0733870491b7c57c80511574f1e56770a6f8f5015d3fd27b025fb32873f.png" />
</div>
</div>
<p>En la unidad 1, las distribuciones son muy concentradas con variaciones mínimas, indicando que la rodilla derecha se mantiene estable y actúa como punto de soporte durante el ejercicio, las densidades en el giroscopio están centradas cerca de 0, lo que sugiere que no hubo rotaciones significativas en esta unidad. Además de señales muy consistentes en el magnetómetro, lo que confirma que la orientación magnética de la rodilla derecha no cambió.</p>
<p>Para la segunda unidad, las distribuciones muestran ligeras variaciones, lo que podría estar relacionado con pequeños ajustes posturales o movimientos involuntarios del brazo derecho. En el codo, o tercera unidad, las densidades del acelerómetro presentan más dispersión en comparación con la unidad 2, lo que podría reflejar mayor actividad en el codo como punto de equilibrio durante la inclinación.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.006921</td>
      <td>0.00392</td>
      <td>-0.004318</td>
      <td>-9.512067</td>
      <td>0.352322</td>
      <td>-0.47394</td>
      <td>0.659888</td>
      <td>0.334242</td>
      <td>0.137898</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.008068</td>
      <td>0.002641</td>
      <td>-0.004704</td>
      <td>-9.533207</td>
      <td>1.024937</td>
      <td>-0.72645</td>
      <td>0.709466</td>
      <td>0.29983</td>
      <td>0.109687</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.034862</td>
      <td>0.038495</td>
      <td>0.038859</td>
      <td>0.222854</td>
      <td>2.278719</td>
      <td>0.717935</td>
      <td>0.09401</td>
      <td>0.150005</td>
      <td>0.097661</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.005227</td>
      <td>0.020675</td>
      <td>-0.00298</td>
      <td>-9.602408</td>
      <td>0.167304</td>
      <td>-0.015894</td>
      <td>0.656832</td>
      <td>-0.300212</td>
      <td>-0.089362</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.005337</td>
      <td>0.020513</td>
      <td>-0.003393</td>
      <td>-9.596688</td>
      <td>0.228972</td>
      <td>-0.580989</td>
      <td>0.647689</td>
      <td>-0.376215</td>
      <td>-0.135287</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.032824</td>
      <td>0.031647</td>
      <td>0.033781</td>
      <td>0.100898</td>
      <td>1.403836</td>
      <td>0.981764</td>
      <td>0.050285</td>
      <td>0.187195</td>
      <td>0.164465</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.006985</td>
      <td>0.003047</td>
      <td>-0.019992</td>
      <td>-1.811427</td>
      <td>9.492468</td>
      <td>-0.443186</td>
      <td>-0.225574</td>
      <td>-0.708077</td>
      <td>-0.060215</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.002167</td>
      <td>0.004571</td>
      <td>-0.01493</td>
      <td>-1.625933</td>
      <td>9.700836</td>
      <td>0.246319</td>
      <td>-0.154159</td>
      <td>-0.703192</td>
      <td>0.05514</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.08031</td>
      <td>0.048905</td>
      <td>0.070028</td>
      <td>0.516049</td>
      <td>0.471286</td>
      <td>1.833983</td>
      <td>0.141036</td>
      <td>0.043545</td>
      <td>0.184719</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.00897</td>
      <td>0.003554</td>
      <td>0.002327</td>
      <td>8.682101</td>
      <td>1.144819</td>
      <td>-1.068367</td>
      <td>-0.663819</td>
      <td>-0.156636</td>
      <td>-0.23058</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.008577</td>
      <td>0.000203</td>
      <td>0.003072</td>
      <td>9.059381</td>
      <td>1.077403</td>
      <td>-0.163758</td>
      <td>-0.678507</td>
      <td>-0.196295</td>
      <td>-0.295961</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.122227</td>
      <td>0.459045</td>
      <td>0.092407</td>
      <td>1.226649</td>
      <td>0.891372</td>
      <td>3.975968</td>
      <td>0.093511</td>
      <td>0.161256</td>
      <td>0.289136</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.001239</td>
      <td>-0.002013</td>
      <td>-0.006179</td>
      <td>-2.800657</td>
      <td>-8.76137</td>
      <td>-0.335887</td>
      <td>-0.142841</td>
      <td>0.696956</td>
      <td>0.110131</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.001827</td>
      <td>-0.001358</td>
      <td>-0.005891</td>
      <td>-4.391821</td>
      <td>-8.77505</td>
      <td>0.535535</td>
      <td>-0.026287</td>
      <td>0.678733</td>
      <td>0.096228</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.06293</td>
      <td>0.050864</td>
      <td>0.063265</td>
      <td>3.000858</td>
      <td>0.822057</td>
      <td>1.517653</td>
      <td>0.256615</td>
      <td>0.073182</td>
      <td>0.185716</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>En la primera unidad, la rodilla derecha, el acelerómetro presenta media y mediana cercanas a valores bajos, lo que indica estabilidad y poca actividad en esta unidad, las desviaciones estándar son muy pequeñas, reflejando un rol pasivo de soporte. En cuanto al giroscopi y magnetómetro, las distribuciones tienen valores cercanos a 0 con desviaciones estándar muy bajas, indicando que no hubo rotaciones significativas y al ser valores son estables y consistentes, la orientación magnética no cambió.</p>
<p>Para la segunda unidad, la muñeca derecha, se notan ligeras variaciones en los ejes x y y, posiblemente debido a pequeños ajustes en la posición de la muñeca al inclinar el torso. El codo derecho y hombro derecho presentan variaciones similares a la unidad 2. En cuanto al pecho o quinta unidad, las medias y desviaciones estándar en el acelerómetro reflejan una alta actividad en el eje z, lo que es consistente con el movimiento principal de inclinación hacia adelante y retorno a la posición inicial. Los ejes x e y también muestran actividad, probablemente debido a pequeños ajustes posturales. En el giroscipio, las desviaciones estándar son más altas en esta unidad, lo que indica rotaciones asociadas al movimiento del torso, y en elmagnetómetro, las variaciones son más altas en comparación con las demás unidades, reflejando los cambios de orientación del torso durante el movimiento.</p>
<p>Los datos confirman que el torso es el punto de actividad principal en el ejercicio, con el acelerómetro y giroscopio mostrando las mayores variaciones.</p>
</section>
<section id="tercer-ejercicio">
<h3>Tercer ejercicio<a class="headerlink" href="#tercer-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en acostarse boca arriba sobre una superficie plana. Desde esa posición, debes levantar la pierna derecha desde la articulación de la cadera, manteniendo tanto la rodilla derecha como la pierna izquierda completamente rectas. Luego, sostén la postura durante 5 segundos. Finalmente, regresa la pierna derecha a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en la rodilla derecha, 4 en la rodilla izquierda y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/ex3.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/4345939e651386e8d40c2737ba59f0b714d039c29c46cf26bd0176b3b6b7faa7.png" src="_images/4345939e651386e8d40c2737ba59f0b714d039c29c46cf26bd0176b3b6b7faa7.png" />
<img alt="_images/bc369481217ba40e5fd137cb86f0cde92b8ec947711f8bcc6da45cb7f89d55d5.png" src="_images/bc369481217ba40e5fd137cb86f0cde92b8ec947711f8bcc6da45cb7f89d55d5.png" />
<img alt="_images/d78dc6b846112d21067c16fe663d0cd54e0a04e674c5387fac1dc57334aa375b.png" src="_images/d78dc6b846112d21067c16fe663d0cd54e0a04e674c5387fac1dc57334aa375b.png" />
<img alt="_images/076804e0f6ae477e55d958cd7c908063eea783fd2a7db0695cc1be0296d6c7b8.png" src="_images/076804e0f6ae477e55d958cd7c908063eea783fd2a7db0695cc1be0296d6c7b8.png" />
<img alt="_images/82a1dd515fc971e019042a285df45c0bb1c37c00c1692d782a019eb923b240b4.png" src="_images/82a1dd515fc971e019042a285df45c0bb1c37c00c1692d782a019eb923b240b4.png" />
</div>
</div>
<p>Durante la ejecución del tercer ejercicio, las señales obtenidas muestran que el tobillo derecho o unidad 2 registra la mayor variabilidad en el acelerómetro, especialmente en el eje <code class="docutils literal notranslate"><span class="pre">y</span></code>, lo que refleja el movimiento principal de levantamiento y descenso de la pierna derecha desde la cadera. Este comportamiento es consistente con la descripción del ejercicio, donde el tobillo derecho es el punto de mayor actividad. Por otro lado, la rodilla derecha (unidad 3) también muestra una actividad notable, aunque de menor intensidad, reflejando el esfuerzo asociado a mantener la pierna completamente recta durante el movimiento. En contraste, el tobillo izquierdo, rodilla izquierda y pecho presentan señales más estables, como era de esperarse, ya que estas partes del cuerpo permanecen relativamente inmóviles o actúan como soporte durante el ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3cbb9e836892a9222a09abaa1795184a1f45f29a195b29ea279827a65dd2d81d.png" src="_images/3cbb9e836892a9222a09abaa1795184a1f45f29a195b29ea279827a65dd2d81d.png" />
<img alt="_images/ff88557fb9f2edd9fdde5ee709d2563c328e3b73255be81b8b011b6446a7ead3.png" src="_images/ff88557fb9f2edd9fdde5ee709d2563c328e3b73255be81b8b011b6446a7ead3.png" />
<img alt="_images/dcbf1b689346e1565edcad0495dd006d8e67cd08025499dbec7539e7744d3cd3.png" src="_images/dcbf1b689346e1565edcad0495dd006d8e67cd08025499dbec7539e7744d3cd3.png" />
<img alt="_images/65f784add11f7aa7605b68f7127a03205b3c36610ad8c9f1e718ce4093643557.png" src="_images/65f784add11f7aa7605b68f7127a03205b3c36610ad8c9f1e718ce4093643557.png" />
<img alt="_images/14906e1fdf18cc205c2eae7ae961b49544984a0fb08d836b2877255a7b6b4c94.png" src="_images/14906e1fdf18cc205c2eae7ae961b49544984a0fb08d836b2877255a7b6b4c94.png" />
</div>
</div>
<p>El análisis confirma que las unidades 2 y 3 son las más involucradas en el movimiento principal, mientras que las demás unidades actúan como puntos de soporte y estabilización. Este comportamiento es completamente consistente con la naturaleza del ejercicio descrito.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>

<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.006173</td>
      <td>0.002239</td>
      <td>-0.003759</td>
      <td>0.454445</td>
      <td>-8.740137</td>
      <td>-3.424129</td>
      <td>-0.349173</td>
      <td>0.83737</td>
      <td>0.224786</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.009018</td>
      <td>0.002138</td>
      <td>-0.003915</td>
      <td>0.036086</td>
      <td>-9.422724</td>
      <td>-2.356303</td>
      <td>-0.330465</td>
      <td>0.907531</td>
      <td>0.131622</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.108195</td>
      <td>0.023377</td>
      <td>0.036051</td>
      <td>1.006954</td>
      <td>1.162316</td>
      <td>2.044203</td>
      <td>0.12665</td>
      <td>0.139945</td>
      <td>0.22045</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.005463</td>
      <td>0.023552</td>
      <td>-0.001944</td>
      <td>3.523818</td>
      <td>8.02174</td>
      <td>-0.001215</td>
      <td>-0.586082</td>
      <td>-0.505464</td>
      <td>0.079228</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.006947</td>
      <td>0.019714</td>
      <td>-0.003611</td>
      <td>2.771555</td>
      <td>8.728392</td>
      <td>0.088897</td>
      <td>-0.625973</td>
      <td>-0.523481</td>
      <td>0.048867</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.251922</td>
      <td>0.119331</td>
      <td>0.581666</td>
      <td>2.877375</td>
      <td>3.605163</td>
      <td>2.317971</td>
      <td>0.169588</td>
      <td>0.356637</td>
      <td>0.139426</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.008781</td>
      <td>0.007313</td>
      <td>-0.019913</td>
      <td>1.973588</td>
      <td>9.163748</td>
      <td>1.650512</td>
      <td>-0.511142</td>
      <td>-0.484654</td>
      <td>-0.044651</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.002618</td>
      <td>0.004353</td>
      <td>-0.021097</td>
      <td>1.648724</td>
      <td>9.565624</td>
      <td>1.427833</td>
      <td>-0.496226</td>
      <td>-0.570872</td>
      <td>-0.034433</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.21081</td>
      <td>0.096521</td>
      <td>0.58686</td>
      <td>2.106246</td>
      <td>1.43251</td>
      <td>1.390169</td>
      <td>0.172833</td>
      <td>0.296314</td>
      <td>0.095234</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.007266</td>
      <td>0.003036</td>
      <td>0.001286</td>
      <td>0.248173</td>
      <td>-2.647943</td>
      <td>8.516944</td>
      <td>0.329147</td>
      <td>0.334318</td>
      <td>-0.463428</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.008885</td>
      <td>0.002638</td>
      <td>0.000463</td>
      <td>0.24192</td>
      <td>-0.917765</td>
      <td>9.66997</td>
      <td>0.338745</td>
      <td>0.269273</td>
      <td>-0.543905</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.059174</td>
      <td>0.065214</td>
      <td>0.04802</td>
      <td>0.74981</td>
      <td>3.530576</td>
      <td>1.954218</td>
      <td>0.043084</td>
      <td>0.149026</td>
      <td>0.148606</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.00053</td>
      <td>-0.002466</td>
      <td>-0.00492</td>
      <td>0.636994</td>
      <td>-9.039432</td>
      <td>-0.567584</td>
      <td>-0.338296</td>
      <td>0.625453</td>
      <td>-0.104378</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.001412</td>
      <td>-0.002518</td>
      <td>-0.005765</td>
      <td>0.256263</td>
      <td>-9.210984</td>
      <td>-0.099232</td>
      <td>-0.362024</td>
      <td>0.6341</td>
      <td>-0.028473</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.131853</td>
      <td>0.050292</td>
      <td>0.044114</td>
      <td>1.781174</td>
      <td>0.806533</td>
      <td>3.217269</td>
      <td>0.116869</td>
      <td>0.071568</td>
      <td>0.224148</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>El tobillo izquerdo o unidad 1 mostró un comportamiento estable durante el ejercicio, actuando como soporte. Las señales del acelerómetro presentan medias y medianas cercanas a cero, con desviaciones estándar bajas en todos los ejes, excepto ligeros ajustes en el eje z, posiblemente debido a compensaciones menores al sostener la posición. El giroscopio confirma esta estabilidad con rotaciones insignificantes y señales centradas en cero. El magnetómetro presenta señales constantes y de baja dispersión, indicando que la orientación del tobillo izquierdo permaneció fija durante todo el ejercicio. La rodilla izquierda actuó como un punto de soporte pasivo durante el ejercicio. Las señales del acelerómetro son estables, con medias cercanas a cero y desviaciones estándar bajas en todos los ejes, lo que indica que permaneció prácticamente inmóvil. Las señales del giroscopio también muestran rotaciones mínimas, confirmando su papel estático. El magnetómetro refleja una orientación estable y constante, con poca variabilidad en las señales, lo que sugiere que la rodilla izquierda no experimentó cambios significativos durante el ejercicio. El pecho, actuando como soporte general para el cuerpo, mostró actividad mínima durante el ejercicio. Las señales del acelerómetro reflejan pequeños ajustes posturales, especialmente en los ejes x y z, probablemente para mantener la estabilidad del torso mientras se realiza el movimiento. El giroscopio muestra desviaciones estándar muy bajas, lo que confirma que no hubo rotaciones significativas en esta unidad. El magnetómetro presenta señales estables y bien definidas, indicando que la orientación del torso permaneció constante a lo largo del ejercicio.</p>
<p>El tobillo derecho, involucrado directamente en el movimiento principal, mostró una alta actividad en el acelerómetro, particularmente en el eje z, que capturó el levantamiento y descenso de la pierna. La desviación estándar es notable en este eje, lo que refleja la variabilidad inherente al movimiento dinámico. Aunque los ejes x e y son menos activos, también registran pequeñas variaciones. Las señales del giroscopio reflejan rotaciones moderadas asociadas con el control del movimiento. El magnetómetro muestra mayor dispersión, particularmente en los ejes x y z, lo que indica cambios de orientación del tobillo durante el levantamiento y descenso. La rodilla derecha desempeñó un papel crucial en el ejercicio, como lo muestran las señales del acelerómetro, con altas medias y desviaciones estándar en los ejes x y z, que reflejan la elevación de la pierna y su mantenimiento en posición. El giroscopio indica rotaciones más evidentes en comparación con otras unidades, especialmente en el eje z, que podrían estar relacionadas con ajustes posturales para sostener la pierna. El magnetómetro muestra dispersión en sus señales, consistente con los cambios de orientación de la rodilla durante el movimiento.</p>
</section>
<section id="cuarto-ejercicio">
<h3>Cuarto ejercicio<a class="headerlink" href="#cuarto-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en acostarse sobre el lado izquierdo en una superficie plana. Desde esa posición, debes levantar la pierna derecha desde la articulación de la cadera, manteniendo tanto la rodilla derecha como la pierna izquierda completamente rectas. Luego, sostén la postura durante 5 segundos. Finalmente, regresa la pierna derecha a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en la rodilla derecha, 4 en la rodilla izquierda y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/ex4.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0c09f55800f158ac538af95df0da6b937e7e2be41ad53cc7376daab695713228.png" src="_images/0c09f55800f158ac538af95df0da6b937e7e2be41ad53cc7376daab695713228.png" />
<img alt="_images/7e70507c262f3656e4a364c960385c26d0d887adc538d90dfb9040180c04e7f4.png" src="_images/7e70507c262f3656e4a364c960385c26d0d887adc538d90dfb9040180c04e7f4.png" />
<img alt="_images/b118927558d0c6c2275859e861d60f14db72b49e629f880cbd416fd2a465e03b.png" src="_images/b118927558d0c6c2275859e861d60f14db72b49e629f880cbd416fd2a465e03b.png" />
<img alt="_images/fb424d3355a236692d932c840cd09bf0aaa7aa2c965e0aa04dfe0fc289f67ca9.png" src="_images/fb424d3355a236692d932c840cd09bf0aaa7aa2c965e0aa04dfe0fc289f67ca9.png" />
<img alt="_images/7049584e96d7b0672f7feb43fb73599543163387c1012d61db8b856e1d91b7c1.png" src="_images/7049584e96d7b0672f7feb43fb73599543163387c1012d61db8b856e1d91b7c1.png" />
</div>
</div>
<p>Al igual que con el ejercicio anterior, el análisis de las señales destacan una mayor actividad en las unidades 2 y 3, mientras que las demás unidades presentan menor variabilidad, consistente con su rol de soporte estático.</p>
<p>La unidad 2 muestra picos notables en el eje z del acelerómetro, reflejando el movimiento vertical de levantamiento y descenso de la pierna. Asimismo, en la unidad 3, se observa actividad destacada en los ejes y y z, relacionada con la estabilización y control de la pierna al mantenerla recta durante el movimiento. En contraste, las Unidades 1 y 4 (tobillo izquierdo y rodilla izquierda, respectivamente) presentan señales más estables, ya que estas partes del cuerpo permanecen mayormente inmóviles, sirviendo como soporte. Por otro lado, la unidad 5 (pecho) registra actividad baja y consistente en todos los ejes, lo cual se alinea con la expectativa de que esta parte del cuerpo permanece estática durante el ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bca26619369c81e151380dc7411fa2cbe92eba3e0c6c836c0658ccd16f5984a5.png" src="_images/bca26619369c81e151380dc7411fa2cbe92eba3e0c6c836c0658ccd16f5984a5.png" />
<img alt="_images/b7dc4809cc5a4266f5ce158466421896c2798d99c1d01273aa0271b87fd71b52.png" src="_images/b7dc4809cc5a4266f5ce158466421896c2798d99c1d01273aa0271b87fd71b52.png" />
<img alt="_images/ce4e9c674b456f19b9b44edaebec70d71aa581f37d5fefd7314f0b883f37ac38.png" src="_images/ce4e9c674b456f19b9b44edaebec70d71aa581f37d5fefd7314f0b883f37ac38.png" />
<img alt="_images/e4faaffd1cedb52277de8f260005023dc836a0374607365ce744b1024811fc4d.png" src="_images/e4faaffd1cedb52277de8f260005023dc836a0374607365ce744b1024811fc4d.png" />
<img alt="_images/964f78000c420aa308824d3f5a72d1a7df0e9fde84c646b6b08981aed8d5bdec.png" src="_images/964f78000c420aa308824d3f5a72d1a7df0e9fde84c646b6b08981aed8d5bdec.png" />
</div>
</div>
<p>En cuanto a las unidades 1 y 4, las señales son estables y consistentes, con poca variabilidad en los acelerómetros, giroscopios y magnetómetros, estas unidades actúan como puntos de soporte pasivo, con cambios mínimos durante el ejercicio. En las unidades 2 y 3, las señales presentan mayores variaciones, especialmente en los acelerómetros y giroscopios, esto es coherente con el papel activo de estas unidades en el levantamiento y descenso controlado de la pierna derecha. La actividad en el pecho es limitada, con señales principalmente estables, reflejando su rol en la estabilización general del torso durante el ejercicio.</p>
<p>Aunque el patrón general de las señales es similar, hay diferencias en la amplitud y dispersión de los datos. Esto puede deberse a que algunos participantes muestran una mayor estabilidad en el movimiento o diferencias en la ejecución del molvimiento.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.00672</td>
      <td>0.002553</td>
      <td>-0.004199</td>
      <td>0.741896</td>
      <td>0.585781</td>
      <td>-9.376544</td>
      <td>-0.355458</td>
      <td>0.019857</td>
      <td>0.827244</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.007088</td>
      <td>0.00296</td>
      <td>-0.00418</td>
      <td>0.880537</td>
      <td>-0.553284</td>
      <td>-9.604019</td>
      <td>-0.309241</td>
      <td>-0.077301</td>
      <td>0.881322</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.09885</td>
      <td>0.053121</td>
      <td>0.031459</td>
      <td>0.377151</td>
      <td>2.531922</td>
      <td>0.831034</td>
      <td>0.12884</td>
      <td>0.323999</td>
      <td>0.118512</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.008275</td>
      <td>0.0174</td>
      <td>-0.004231</td>
      <td>1.404896</td>
      <td>1.489271</td>
      <td>8.416667</td>
      <td>-0.472469</td>
      <td>-0.070819</td>
      <td>-0.57369</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.007794</td>
      <td>0.023922</td>
      <td>-0.000988</td>
      <td>0.245868</td>
      <td>0.578145</td>
      <td>9.239168</td>
      <td>-0.403689</td>
      <td>-0.034923</td>
      <td>-0.600807</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.295276</td>
      <td>0.386438</td>
      <td>0.339342</td>
      <td>2.754925</td>
      <td>3.541923</td>
      <td>2.516519</td>
      <td>0.173854</td>
      <td>0.31055</td>
      <td>0.227171</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.012383</td>
      <td>0.002397</td>
      <td>-0.022837</td>
      <td>0.21849</td>
      <td>-1.031991</td>
      <td>9.457278</td>
      <td>-0.43543</td>
      <td>0.015857</td>
      <td>-0.564081</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.002989</td>
      <td>0.009258</td>
      <td>-0.013935</td>
      <td>-0.553872</td>
      <td>-1.266548</td>
      <td>9.560234</td>
      <td>-0.390769</td>
      <td>0.099936</td>
      <td>-0.632241</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.257214</td>
      <td>0.42937</td>
      <td>0.308532</td>
      <td>2.154675</td>
      <td>1.477441</td>
      <td>1.302125</td>
      <td>0.173956</td>
      <td>0.213364</td>
      <td>0.178247</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.008181</td>
      <td>0.001251</td>
      <td>0.001872</td>
      <td>0.912423</td>
      <td>9.464533</td>
      <td>0.946057</td>
      <td>0.29074</td>
      <td>-0.535961</td>
      <td>-0.170466</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.008889</td>
      <td>0.001321</td>
      <td>0.001803</td>
      <td>1.067163</td>
      <td>9.517756</td>
      <td>1.092793</td>
      <td>0.274678</td>
      <td>-0.494388</td>
      <td>-0.109846</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.101977</td>
      <td>0.061402</td>
      <td>0.047277</td>
      <td>0.852746</td>
      <td>0.287053</td>
      <td>1.915765</td>
      <td>0.044127</td>
      <td>0.084203</td>
      <td>0.1278</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.00102</td>
      <td>-0.002524</td>
      <td>-0.006182</td>
      <td>0.927887</td>
      <td>-2.068603</td>
      <td>-9.308691</td>
      <td>-0.339001</td>
      <td>0.233786</td>
      <td>0.586086</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.001842</td>
      <td>-0.002046</td>
      <td>-0.006453</td>
      <td>0.766468</td>
      <td>-1.878629</td>
      <td>-9.532468</td>
      <td>-0.346495</td>
      <td>0.257757</td>
      <td>0.618777</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.057739</td>
      <td>0.050814</td>
      <td>0.012875</td>
      <td>0.551801</td>
      <td>1.763369</td>
      <td>0.521506</td>
      <td>0.068335</td>
      <td>0.178952</td>
      <td>0.114926</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>El tobillo izquierdo presenta una actividad mínima en todas las señales, con valores de media y mediana cercanos a cero y desviaciones estándar bajas. Esto refleja su rol pasivo como punto de soporte durante el ejercicio. Las pequeñas variaciones observadas podrían ser atribuibles a ajustes menores en la estabilidad del cuerpo. La rodilla izquierda, que sirve como soporte, tiene señales estables con poca variabilidad en todas las mediciones. Las medias y medianas son bajas, confirmando su rol estático durante el ejercicio. Las desviaciones estándar también son consistentes con la estabilidad de esta unidad. El pecho muestra señales similares a las unidades de soporte. Las desviaciones estándar son bajas en todas las mediciones, indicando estabilidad durante la ejecución del ejercicio. Pequeñas variaciones en el acelerómetro podrían deberse a ajustes posturales para mantener el equilibrio del torso.</p>
<p>El tobillo derecho, siendo parte del movimiento principal, muestra una actividad elevada en el acelerómetro, especialmente en el eje z, correspondiente a la elevación de la pierna derecha. El giroscopio y magnetómetro también reflejan una mayor variabilidad en comparación con las otras unidades, lo que es coherente con el movimiento dinámico del tobillo en este ejercicio. Las desviaciones estándar son particularmente altas en los acelerómetros, lo que indica un rango amplio de movimiento. La rodilla derecha, que es clave en la ejecución del ejercicio, muestra patrones similares al tobillo derecho, con altas desviaciones estándar en el acelerómetro, reflejando la dinámica del movimiento. Las señales del giroscopio presentan mayor actividad, particularmente en los ejes relacionados con la flexión y extensión. El magnetómetro muestra dispersión en las señales, reflejando cambios en la orientación de la rodilla durante el levantamiento y descenso de la pierna.</p>
</section>
<section id="quinto-ejercicio">
<h3>Quinto ejercicio<a class="headerlink" href="#quinto-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en acostarse boca abajo en una superficie plana. Desde esa posición, debes levantar la pierna derecha desde la articulación de la cadera, manteniendo tanto la rodilla derecha como la pierna izquierda completamente rectas. Luego, sostén la postura durante 5 segundos. Finalmente, regresa la pierna derecha a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en la rodilla derecha, 4 en la rodilla izquierda y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/ex5.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/91d2824d59cbdc65731bf6bfa41d9f753cc1ca010550a8ce5f4264a1fc94148b.png" src="_images/91d2824d59cbdc65731bf6bfa41d9f753cc1ca010550a8ce5f4264a1fc94148b.png" />
<img alt="_images/92887253d89e2f547fe211f7f6fc2e6eee4c42929ddaeb3f64b0011a8b41c749.png" src="_images/92887253d89e2f547fe211f7f6fc2e6eee4c42929ddaeb3f64b0011a8b41c749.png" />
<img alt="_images/1fa97823cc631114cea4ef4eb3c153c615ae70fa261d8c3fa8431bcedfa51d11.png" src="_images/1fa97823cc631114cea4ef4eb3c153c615ae70fa261d8c3fa8431bcedfa51d11.png" />
<img alt="_images/c4b69b52949645834ccb6527d90d5a0bcf3a9b639190c39168a6401a2606ad4c.png" src="_images/c4b69b52949645834ccb6527d90d5a0bcf3a9b639190c39168a6401a2606ad4c.png" />
<img alt="_images/74e824b71bd40310a012bbc85352ae3552520aa68a2863c8f624aae83141d6fb.png" src="_images/74e824b71bd40310a012bbc85352ae3552520aa68a2863c8f624aae83141d6fb.png" />
</div>
</div>
<p>En este ejercicio, los datos reflejan un patrón claro relacionado con la naturaleza del movimiento descrito. El levantamiento de la pierna derecha desde la articulación de la cadera genera variaciones significativas en las señales del acelerómetro, particularmente en el sensor ubicado en el tobillo derecho y el sensor de la rodilla derecha, que están directamente involucrados en el movimiento activo del ejercicio. El sensor ubicado en el pecho también muestra actividad moderada en el acelerómetro, especialmente en los ejes x y y, lo que sugiere un ligero ajuste postural durante la ejecución del ejercicio. Las señales del giroscopio (GYR) son más sutiles, con una ligera variación en los sensores del tobillo derecho y la rodilla derecha, indicando pequeños movimientos rotacionales durante el levantamiento y descenso de la pierna. Las mediciones son coherentes con la descripción del ejercicio y confirman la naturaleza lineal del movimiento, con poca actividad rotacional o magnética.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7f100cc73aa51cfeab12f899520c9dbe3e7bc3ffdd74e776ba4ffa0dad680616.png" src="_images/7f100cc73aa51cfeab12f899520c9dbe3e7bc3ffdd74e776ba4ffa0dad680616.png" />
<img alt="_images/6fd96e5818a8cc129ab7efeee74330c55f0f221264e5587a5d8b6359c6acf1ac.png" src="_images/6fd96e5818a8cc129ab7efeee74330c55f0f221264e5587a5d8b6359c6acf1ac.png" />
<img alt="_images/5bc32bfe3b4e3722ae25883afaabf9cb7461e86860a381bbb75eea215fc9e82e.png" src="_images/5bc32bfe3b4e3722ae25883afaabf9cb7461e86860a381bbb75eea215fc9e82e.png" />
<img alt="_images/b3b2b1d1fb8fbe11f6a8e94bc2ae4c147db886f067dc50daeafaeade4e3f5c89.png" src="_images/b3b2b1d1fb8fbe11f6a8e94bc2ae4c147db886f067dc50daeafaeade4e3f5c89.png" />
<img alt="_images/175efd0fa2839646c65aea11117a805f7ad6e7840ca40463c42d6829ac9b4f84.png" src="_images/175efd0fa2839646c65aea11117a805f7ad6e7840ca40463c42d6829ac9b4f84.png" />
</div>
</div>
<p>La unidad en el tobillo y rodilla izquierda, 1 y 4 respectivamente, en el acelerómetro las señales son muy estables, con densidades concentradas alrededor de valores bajos o cercanos a cero. Esto refleja el rol pasivo de estas unidades, que sirven como soporte durante el ejercicio. Las distribuciones en el giroscopio son muy estrechas y centradas en cero, indicando rotaciones insignificantes en estas áreas. Las señales en el magnetómetro tienen poca variabilidad, indicando que la orientación de estas unidades no cambió significativamente. En el pecho, o unidad 5, en el aceleróemtro las densidades son estrechas con valores bajos, indicando pequeños ajustes posturales para mantener la estabilidad del torso.</p>
<p>En cuanto a la unidad 2 y 3, correspondientes al tobillo y rodilla derecha, en el acelerómetro muestran las mayores variaciones. Las densidades están distribuidas en rangos más amplios, con picos que reflejan las diferentes fases del movimiento (levantamiento, sostén y descenso de la pierna). En el giroscopio, las densidades son más amplias comparadas con las unidades de soporte, indicando rotaciones moderadas en estas áreas durante el movimiento dinámico. Se observa mayor dispersión en las señales del magnetómetro, particularmente en los ejes x y z, reflejando los cambios de orientación asociados al movimiento de la pierna derecha.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.005279</td>
      <td>0.003121</td>
      <td>-0.00462</td>
      <td>1.023084</td>
      <td>7.590599</td>
      <td>-3.425876</td>
      <td>-0.411113</td>
      <td>-0.580744</td>
      <td>0.259319</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.005029</td>
      <td>0.002525</td>
      <td>-0.004418</td>
      <td>0.991413</td>
      <td>9.239965</td>
      <td>-2.488083</td>
      <td>-0.440569</td>
      <td>-0.822201</td>
      <td>0.264196</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.20109</td>
      <td>0.040485</td>
      <td>0.049297</td>
      <td>0.925424</td>
      <td>2.978701</td>
      <td>4.07216</td>
      <td>0.080557</td>
      <td>0.426083</td>
      <td>0.270893</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.005182</td>
      <td>0.020771</td>
      <td>-0.00289</td>
      <td>1.087619</td>
      <td>-6.759683</td>
      <td>5.618384</td>
      <td>-0.443575</td>
      <td>0.467864</td>
      <td>-0.504911</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.004547</td>
      <td>0.020858</td>
      <td>0.000458</td>
      <td>0.629865</td>
      <td>-7.48143</td>
      <td>5.734184</td>
      <td>-0.402516</td>
      <td>0.49166</td>
      <td>-0.467028</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.422513</td>
      <td>0.251122</td>
      <td>0.379147</td>
      <td>2.087666</td>
      <td>3.353341</td>
      <td>2.906198</td>
      <td>0.125747</td>
      <td>0.241775</td>
      <td>0.213834</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.005015</td>
      <td>0.007174</td>
      <td>-0.022431</td>
      <td>-0.48243</td>
      <td>-9.241229</td>
      <td>1.218006</td>
      <td>-0.338451</td>
      <td>0.56823</td>
      <td>-0.293228</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.005153</td>
      <td>0.005002</td>
      <td>-0.008512</td>
      <td>-1.000873</td>
      <td>-9.503871</td>
      <td>0.673967</td>
      <td>-0.311467</td>
      <td>0.583148</td>
      <td>-0.358073</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.429086</td>
      <td>0.157366</td>
      <td>0.319311</td>
      <td>1.440524</td>
      <td>1.43802</td>
      <td>2.178651</td>
      <td>0.134026</td>
      <td>0.176422</td>
      <td>0.203202</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.009142</td>
      <td>0.003332</td>
      <td>0.001911</td>
      <td>1.471169</td>
      <td>5.111747</td>
      <td>-7.803397</td>
      <td>0.228177</td>
      <td>-0.386632</td>
      <td>0.410379</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.008236</td>
      <td>0.003909</td>
      <td>0.002249</td>
      <td>1.818278</td>
      <td>4.144243</td>
      <td>-8.541441</td>
      <td>0.241873</td>
      <td>-0.420262</td>
      <td>0.430445</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.202359</td>
      <td>0.08767</td>
      <td>0.053005</td>
      <td>1.13055</td>
      <td>1.605796</td>
      <td>1.688592</td>
      <td>0.081506</td>
      <td>0.117189</td>
      <td>0.142634</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.001924</td>
      <td>-0.001757</td>
      <td>-0.005493</td>
      <td>0.485463</td>
      <td>8.241637</td>
      <td>-3.78197</td>
      <td>-0.324297</td>
      <td>-0.525536</td>
      <td>0.34504</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.002787</td>
      <td>-0.001636</td>
      <td>-0.005024</td>
      <td>0.462983</td>
      <td>8.315906</td>
      <td>-3.904922</td>
      <td>-0.318202</td>
      <td>-0.571898</td>
      <td>0.37907</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.202543</td>
      <td>0.065825</td>
      <td>0.058565</td>
      <td>1.604969</td>
      <td>1.225901</td>
      <td>3.015104</td>
      <td>0.140856</td>
      <td>0.175624</td>
      <td>0.17945</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>La actividad en el tobillo izquierdo es baja, con valores de media y mediana cercanos a cero en la mayoría de las variables. Esto refleja su rol estático como soporte durante el ejercicio. Sin embargo, las desviaciones estándar en el acelerómetro sugieren pequeños ajustes en la estabilidad del pie izquierdo. La rodilla izquierda presenta señales mayormente estables con bajas variaciones. Las desviaciones estándar son menores en comparación con las unidades activas, confirmando su rol como punto de soporte. Sin embargo, los valores del acelerómetro en el eje y muestran ligeros cambios relacionados con la estabilidad postural. El pecho, que proporciona estabilidad general al torso, muestra señales consistentes con un rol estático. Las desviaciones estándar en el acelerómetro reflejan ajustes menores del torso para mantener el equilibrio, mientras que las señales del giroscopio y magnetómetro indican cambios mínimos en la rotación y orientación.</p>
<p>El tobillo derecho, que participa activamente en el levantamiento de la pierna derecha, muestra altos valores de media y desviación estándar en el acelerómetro, especialmente en los ejes x y z. Esto corresponde al movimiento dinámico de la pierna. Las señales del magnetómetro y giroscopio también presentan variaciones, indicando cambios en la orientación y rotación del tobillo durante el ejercicio. La rodilla derecha, siendo una articulación clave en el movimiento, refleja una actividad significativa en el acelerómetro, con altos valores de media y desviaciones estándar en los ejes x y z. Las señales del giroscopio muestran rotaciones moderadas, mientras que el magnetómetro indica cambios consistentes en la orientación de esta unidad durante el movimiento.</p>
</section>
<section id="sexto-ejercicio">
<h3>Sexto ejercicio<a class="headerlink" href="#sexto-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en sentarse en una silla sosteniendo un peso de 1 kg en la mano derecha. Desde esa posición, extiende el brazo derecho al frente del cuerpo, justo por encima de la rodilla derecha, con la palma de la mano orientada hacia arriba. Luego, flexiona la articulación del codo para levantar el peso hasta que el antebrazo quede perpendicular al muslo. Mantén esta posición durante 5 segundos. Finalmente, regresa el brazo a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en la rodilla derecha, 2 en la muñeca derecha, 3 en el codo derecho, 4 en el hombro derecho y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/ex6.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8df7486d10e5c20352f63d89da5b8081da71dfb143899556a89f1acbc832b0a0.png" src="_images/8df7486d10e5c20352f63d89da5b8081da71dfb143899556a89f1acbc832b0a0.png" />
<img alt="_images/16c73b657f1e8f771c3a6a92993fc8f227cf3588e2309506f24ec0821b7196cc.png" src="_images/16c73b657f1e8f771c3a6a92993fc8f227cf3588e2309506f24ec0821b7196cc.png" />
<img alt="_images/f0ae2c69a3a677000f135c34ba5e7b483729893e7c29becb39488bdcfcb893b3.png" src="_images/f0ae2c69a3a677000f135c34ba5e7b483729893e7c29becb39488bdcfcb893b3.png" />
<img alt="_images/5a7e601aa6441b2c4c0d1763f87cca293963fb185a3284d440e3470df4d4b242.png" src="_images/5a7e601aa6441b2c4c0d1763f87cca293963fb185a3284d440e3470df4d4b242.png" />
<img alt="_images/6c8c5dc52f4cba5b70a89d3d3ac05c6f5dc0d6acfcb0ca7ff1faf247f881c0f0.png" src="_images/6c8c5dc52f4cba5b70a89d3d3ac05c6f5dc0d6acfcb0ca7ff1faf247f881c0f0.png" />
</div>
</div>
<p>La muñeca derecha (sensor 2) y el codo derecho (sensor 3) muestran la mayor actividad, ya que son las partes directamente responsables de levantar y sostener el peso. En el acelerómetro, se observan variaciones significativas en los ejes x, y y z de estas unidades, probablemente durante la flexión y extensión del codo para realizar el movimiento. El sensor en el hombro derecho (unidad 4) registra actividad moderada, reflejando un posible ajuste postural para estabilizar el brazo mientras se realiza el levantamiento del peso. En contraste, el sensor en la rodilla derecha (unidad 1) y el sensor ubicado en el pecho (unidad 5) muestran señales más estables, como era de esperarse, ya que estas áreas del cuerpo permanecen mayormente inmóviles durante el ejercicio.</p>
<p>Las señales del giroscopio (GYR) reflejan rotaciones asociadas con el movimiento de flexión y extensión en la muñeca derecha y el codo derecho, mientras que las demás unidades presentan cambios mínimos, consistentes con sus roles secundarios en el movimiento. En cuanto al magnetómetro (MAG), las señales permanecen estables en todas las unidades, indicando que no hubo cambios significativos en la orientación magnética del cuerpo durante la ejecución del ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/41dcd29e2df48abe58640042280b0eee9beb86e7a14faa612d85be8529b52e63.png" src="_images/41dcd29e2df48abe58640042280b0eee9beb86e7a14faa612d85be8529b52e63.png" />
<img alt="_images/ad61f12a6923d4bfe62ab0ac42990670aef8a62868b468fd09094ff08d7ed54e.png" src="_images/ad61f12a6923d4bfe62ab0ac42990670aef8a62868b468fd09094ff08d7ed54e.png" />
<img alt="_images/0773d94409fce354429c3c2bd166abde11c745b6b444d03948b7f4928714c26c.png" src="_images/0773d94409fce354429c3c2bd166abde11c745b6b444d03948b7f4928714c26c.png" />
<img alt="_images/811eab4df321dbf9120634691cd23735e12fbedcad09976123f2076e993ddfc0.png" src="_images/811eab4df321dbf9120634691cd23735e12fbedcad09976123f2076e993ddfc0.png" />
<img alt="_images/023ae6bbe68b4d6b43e022393585bb45389fa22e77099b802431fa2aadd70667.png" src="_images/023ae6bbe68b4d6b43e022393585bb45389fa22e77099b802431fa2aadd70667.png" />
</div>
</div>
<p>En la unidad 1, la rodilla derecha, la densidad muestra valores consistentes y relativamente bajos para la aceleración y el giroscopio, reflejando la estabilidad de la rodilla durante el ejercicio. La actividad mínima detectada podría ser atribuida a ligeros ajustes posturales para mantener el equilibrio mientras el peso es levantado. en cambio, en la unidad 2 correspondiente a la muñeca derecha los gráficos de densidad de aceleración muestran picos marcados, especialmente en el eje relacionado con el movimiento del peso. El giroscopio también refleja movimientos significativos debido a la flexión y extensión de la muñeca mientras el peso es elevado y bajado.</p>
<p>En la unidad 3, las densidades del giroscopio y la aceleración presentan mayores picos en comparación con otras unidades, particularmente en los ejes que corresponden a la flexión del codo. Esto es esperado ya que el codo es la articulación principal involucrada en la elevación del peso. La densidad del sensor en el hombro muestra actividad moderada en la aceleración y el giroscopio, ya que el hombro actúa como un punto de soporte y estabilización. Aunque no es la articulación principal en el movimiento, contribuye al control del brazo durante el ejercicio. Los sensores en los pechos de los sujetos reflejan valores consistentes en densidad, con poca variación. Esto sugiere que el torso permanece relativamente estable durante el ejercicio, sirviendo como base para soportar los movimientos del brazo derecho.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.00641</td>
      <td>0.002639</td>
      <td>-0.004336</td>
      <td>-3.155471</td>
      <td>9.166457</td>
      <td>0.40957</td>
      <td>0.015087</td>
      <td>-0.68991</td>
      <td>-0.225097</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.007123</td>
      <td>0.003085</td>
      <td>-0.004544</td>
      <td>-3.76827</td>
      <td>9.11919</td>
      <td>0.322591</td>
      <td>0.047056</td>
      <td>-0.704754</td>
      <td>-0.25359</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.013693</td>
      <td>0.014544</td>
      <td>0.00878</td>
      <td>1.320111</td>
      <td>0.339182</td>
      <td>1.052692</td>
      <td>0.118046</td>
      <td>0.066384</td>
      <td>0.246963</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.013973</td>
      <td>0.014549</td>
      <td>0.008332</td>
      <td>-0.323018</td>
      <td>-3.939196</td>
      <td>4.268121</td>
      <td>-0.157171</td>
      <td>0.417063</td>
      <td>-0.210452</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.013839</td>
      <td>0.017547</td>
      <td>-0.004969</td>
      <td>0.087091</td>
      <td>-3.979781</td>
      <td>4.440175</td>
      <td>-0.275294</td>
      <td>0.514258</td>
      <td>-0.304451</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.342458</td>
      <td>1.286044</td>
      <td>0.610766</td>
      <td>7.291134</td>
      <td>1.74581</td>
      <td>3.011699</td>
      <td>0.470071</td>
      <td>0.251827</td>
      <td>0.325595</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.008773</td>
      <td>0.001103</td>
      <td>-0.022868</td>
      <td>7.948316</td>
      <td>2.157286</td>
      <td>5.346815</td>
      <td>-0.344198</td>
      <td>-0.193236</td>
      <td>-0.526148</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.005054</td>
      <td>0.004754</td>
      <td>-0.017975</td>
      <td>7.988181</td>
      <td>2.484572</td>
      <td>5.370817</td>
      <td>-0.377626</td>
      <td>-0.149425</td>
      <td>-0.571428</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.17331</td>
      <td>0.182378</td>
      <td>0.196991</td>
      <td>0.574066</td>
      <td>0.981924</td>
      <td>0.728668</td>
      <td>0.269337</td>
      <td>0.322517</td>
      <td>0.137485</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.009814</td>
      <td>0.001281</td>
      <td>-0.000172</td>
      <td>4.603562</td>
      <td>-1.500985</td>
      <td>7.868454</td>
      <td>-0.094222</td>
      <td>0.202929</td>
      <td>-0.718557</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.009267</td>
      <td>0.001608</td>
      <td>-0.000086</td>
      <td>4.295979</td>
      <td>-2.848831</td>
      <td>8.133631</td>
      <td>-0.145975</td>
      <td>0.307016</td>
      <td>-0.700132</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.045825</td>
      <td>0.050692</td>
      <td>0.051855</td>
      <td>1.133673</td>
      <td>2.93723</td>
      <td>0.920767</td>
      <td>0.112621</td>
      <td>0.173569</td>
      <td>0.035407</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.00053</td>
      <td>-0.00295</td>
      <td>-0.006363</td>
      <td>8.676247</td>
      <td>-0.012468</td>
      <td>2.673841</td>
      <td>-0.563762</td>
      <td>-0.139771</td>
      <td>-0.379351</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.000233</td>
      <td>-0.001195</td>
      <td>-0.005931</td>
      <td>8.909928</td>
      <td>1.316466</td>
      <td>3.505467</td>
      <td>-0.598405</td>
      <td>-0.196216</td>
      <td>-0.487122</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.031226</td>
      <td>0.030019</td>
      <td>0.022449</td>
      <td>0.773182</td>
      <td>1.910766</td>
      <td>2.979359</td>
      <td>0.157404</td>
      <td>0.23828</td>
      <td>0.223165</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>La unidad ubicada en la rodilla derecha muestra variaciones relativamente bajas en las estadísticas de aceleración (ejes acc_x, acc_y, acc_z) y giroscopio (ejes gyr_x, gyr_y, gyr_z). Esto refleja que la rodilla permanece estable durante el ejercicio, actuando principalmente como soporte. La aceleración en acc_z muestra ligeras fluctuaciones, probablemente relacionadas con el ajuste postural al sostener el peso. En esta unidad, la actividad es más pronunciada, como lo indican las medias y desviaciones estándar más altas en los ejes de aceleración, especialmente en acc_x y acc_z, y en los ejes del giroscopio (gyr_x, gyr_y). Esto es consistente con la biomecánica del movimiento, ya que la muñeca está directamente involucrada en la elevación y el control del peso.</p>
<p>El codo derecho presenta mayores valores de aceleración en el eje acc_x, reflejando su rol como punto clave para la flexión y extensión del brazo. Las desviaciones estándar en el giroscopio (gyr_x, gyr_y) son moderadas, indicando movimientos controlados durante la flexión y la pausa al mantener el peso perpendicular al muslo. El hombro muestra variaciones moderadas en aceleración y giroscopio. Las estadísticas en acc_x y acc_y indican que el hombro actúa como estabilizador durante el movimiento, especialmente para controlar la posición del brazo y el peso sostenido. Las desviaciones estándar más bajas en comparación con la muñeca y el codo reflejan movimientos más suaves. La unidad del pecho registra valores consistentes con poca variabilidad en aceleración y giroscopio, lo que confirma que el torso permanece relativamente inmóvil. Este patrón es esperado, ya que el torso sirve como base para estabilizar el cuerpo durante el ejercicio.</p>
</section>
<section id="septimo-ejercicio">
<h3>Séptimo ejercicio<a class="headerlink" href="#septimo-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en permanecer de pie, con la espalda recta, sosteniendo un peso de 1 kg en la mano derecha, con el brazo colgando recto hacia abajo. Desde esa posición, eleva el peso hacia el lado derecho desde la articulación del hombro hasta alcanzar una posición horizontal, manteniendo el codo completamente recto. Luego, mantén esta posición durante 5 segundos. Finalmente, regresa el brazo a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en la rodilla derecha, 2 en la muñeca derecha, 3 en el codo derecho, 4 en el hombro derecho y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/ex7.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/58cab5483b35faf746a2f631c5750f8a118ce99a909c9962579e184b2ab87dd2.png" src="_images/58cab5483b35faf746a2f631c5750f8a118ce99a909c9962579e184b2ab87dd2.png" />
<img alt="_images/01abeb1f6471a3faeecb0dc8b82ed3516a5447026653b96bd6178383ba663ba7.png" src="_images/01abeb1f6471a3faeecb0dc8b82ed3516a5447026653b96bd6178383ba663ba7.png" />
<img alt="_images/e1d60e88b1a639a2ae8bff3ab23fec401d65af9c818c1565019da7ac96f4b023.png" src="_images/e1d60e88b1a639a2ae8bff3ab23fec401d65af9c818c1565019da7ac96f4b023.png" />
<img alt="_images/e394fe7e0b082a970dc29a876e8be32ed5e514ccf976d4dc30485c2f26c2ce7f.png" src="_images/e394fe7e0b082a970dc29a876e8be32ed5e514ccf976d4dc30485c2f26c2ce7f.png" />
<img alt="_images/6fe3c558498de0c46d5a664083eae6dbc231d2abbdf8660e1747aa847e8cab1a.png" src="_images/6fe3c558498de0c46d5a664083eae6dbc231d2abbdf8660e1747aa847e8cab1a.png" />
</div>
</div>
<p>La mayor actividad se observa en las señales del sensor ubicado en el hombro derecho (unidad 4) y en el sensor de la muñeca derecha (unidad 2), que son las partes del cuerpo más involucradas en el movimiento. En el acelerómetro, se observan picos significativos en los ejes x, y y z, debido probablemente a la elevación y descenso del peso. El sensor en el codo derecho (unidad 3) también muestra actividad, aunque de menor magnitud, probablemente debido al papel estabilizador del codo durante el ejercicio. Por otro lado, las señales del sensor en la rodilla derecha (unidad 1) y del sensor en el pecho (unidad 5) permanecen más estables, lo que refleja la relativa inmovilidad de estas partes del cuerpo que actúan como puntos de soporte. Las señales del giroscopio (GYR) reflejan rotaciones en el hombro derecho y la muñeca derecha, indicando el movimiento de rotación asociado al levantamiento lateral del peso.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0cf7447d02c54fe416fb3c8bc16e749c114f7a92a93287975f53b1a541fa2128.png" src="_images/0cf7447d02c54fe416fb3c8bc16e749c114f7a92a93287975f53b1a541fa2128.png" />
<img alt="_images/6bf4f9d113820d52fa723d61c850d7bb09d5ea2441e02569b1731ac742bb721f.png" src="_images/6bf4f9d113820d52fa723d61c850d7bb09d5ea2441e02569b1731ac742bb721f.png" />
<img alt="_images/a22f0ddfeb83b8df00b4084e7f5754ac7fbc0582c21d649ac7465baee35f1c31.png" src="_images/a22f0ddfeb83b8df00b4084e7f5754ac7fbc0582c21d649ac7465baee35f1c31.png" />
<img alt="_images/4978fb6897c317872ae9b2bc67f3899a596f174aa72b4edac12ced851d0ef5fb.png" src="_images/4978fb6897c317872ae9b2bc67f3899a596f174aa72b4edac12ced851d0ef5fb.png" />
<img alt="_images/8f2591e376f5018e6572368f2b66c4033a07dcb998530f68a2e870bdc33cafc6.png" src="_images/8f2591e376f5018e6572368f2b66c4033a07dcb998530f68a2e870bdc33cafc6.png" />
</div>
</div>
<p>En la unidad ubicada en la rodilla derecha (Unidad 1), las distribuciones de aceleración muestran poca actividad significativa en los ejes X e Y, mientras que el eje Z presenta ligeros picos que indican un movimiento limitado en esta articulación. Los datos giroscópicos son bastante estables y están centrados cerca de cero, lo que sugiere que no hay cambios angulares destacados en la rodilla. Por otro lado, los datos magnéticos presentan variabilidad en los tres ejes, probablemente debido a interferencias locales o pequeñas oscilaciones. En la muñeca derecha (Unidad 2), las señales capturadas muestran mayor variabilidad, especialmente en los datos de aceleración en los ejes X e Y, lo cual es consistente con el movimiento dinámico del brazo al levantar el peso. Los giroscopios en esta unidad registran amplitudes más amplias, con picos que reflejan el movimiento angular durante la elevación lateral del peso. Los datos magnéticos en esta unidad presentan múltiples picos, lo que podría estar relacionado con cambios en la orientación de la muñeca o influencias externas.</p>
<p>La unidad en el codo derecho (Unidad 3) registra señales de aceleración moderadas, particularmente en el eje X, que reflejan el movimiento del antebrazo al elevar el peso. Los datos giroscópicos son estables pero con amplitudes ligeramente más pronunciadas que las de la muñeca, lo que sugiere rotaciones controladas en la articulación del codo. En cuanto a los datos magnéticos, estos muestran variaciones menores, indicando una menor influencia de factores externos en esta región. En el hombro derecho (Unidad 4), las señales de aceleración tienen mayores amplitudes en los ejes X e Y, lo que refleja el esfuerzo principal del movimiento al elevar el peso desde el brazo completo. Los giroscopios en esta unidad muestran variaciones más amplias que en las otras unidades, lo cual es consistente con la rotación del brazo desde el hombro. Los datos magnéticos permanecen relativamente consistentes, con menos interferencias o variaciones notables en comparación con las otras unidades. Finalmente, en el pecho (Unidad 5), las señales registradas son las más estables. Los datos de aceleración tienen picos mínimos, reflejando que el torso se mantiene mayormente fijo durante el ejercicio, con solo ajustes menores para mantener el equilibrio. Los giroscopios y magnetómetros en esta unidad muestran patrones muy constantes, con variaciones mínimas en todos los ejes, lo que confirma que esta región del cuerpo sirve como un punto de estabilización durante la actividad.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.006352</td>
      <td>0.00324</td>
      <td>-0.004106</td>
      <td>-9.507729</td>
      <td>-0.153401</td>
      <td>-1.915493</td>
      <td>0.705842</td>
      <td>-0.305663</td>
      <td>0.047561</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.007615</td>
      <td>0.003721</td>
      <td>-0.004731</td>
      <td>-9.558949</td>
      <td>0.078569</td>
      <td>-1.457858</td>
      <td>0.718734</td>
      <td>-0.299566</td>
      <td>0.055668</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.047173</td>
      <td>0.033883</td>
      <td>0.021083</td>
      <td>0.203584</td>
      <td>1.168574</td>
      <td>0.947428</td>
      <td>0.037718</td>
      <td>0.111458</td>
      <td>0.165604</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.009636</td>
      <td>0.019932</td>
      <td>0.019329</td>
      <td>-6.048496</td>
      <td>-1.746921</td>
      <td>-1.937823</td>
      <td>0.333589</td>
      <td>0.249347</td>
      <td>0.033068</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.012185</td>
      <td>0.015362</td>
      <td>-0.003162</td>
      <td>-8.25685</td>
      <td>-1.543523</td>
      <td>-2.250226</td>
      <td>0.484319</td>
      <td>0.433321</td>
      <td>0.090237</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.356765</td>
      <td>0.921224</td>
      <td>0.344534</td>
      <td>4.363761</td>
      <td>2.54679</td>
      <td>5.560788</td>
      <td>0.327867</td>
      <td>0.39314</td>
      <td>0.469187</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.003847</td>
      <td>-0.002223</td>
      <td>-0.032706</td>
      <td>6.911483</td>
      <td>0.777201</td>
      <td>4.167826</td>
      <td>-0.219414</td>
      <td>-0.022529</td>
      <td>-0.412515</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.002448</td>
      <td>0.004328</td>
      <td>-0.02044</td>
      <td>7.605083</td>
      <td>-0.502968</td>
      <td>3.762884</td>
      <td>-0.327799</td>
      <td>-0.051311</td>
      <td>-0.410213</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.340051</td>
      <td>0.615397</td>
      <td>0.519892</td>
      <td>2.964919</td>
      <td>3.827233</td>
      <td>2.564482</td>
      <td>0.486165</td>
      <td>0.407831</td>
      <td>0.207675</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.010715</td>
      <td>0.000831</td>
      <td>-0.003731</td>
      <td>2.284755</td>
      <td>-0.536776</td>
      <td>9.072403</td>
      <td>-0.112617</td>
      <td>0.3509</td>
      <td>-0.66198</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.007633</td>
      <td>0.00195</td>
      <td>-0.001571</td>
      <td>2.613412</td>
      <td>-1.073372</td>
      <td>9.26909</td>
      <td>-0.103998</td>
      <td>0.312675</td>
      <td>-0.658145</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.131752</td>
      <td>0.329636</td>
      <td>0.132663</td>
      <td>2.142963</td>
      <td>1.894524</td>
      <td>0.644724</td>
      <td>0.215235</td>
      <td>0.140619</td>
      <td>0.067722</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.000099</td>
      <td>-0.001522</td>
      <td>-0.006125</td>
      <td>9.045885</td>
      <td>1.5824</td>
      <td>2.689593</td>
      <td>-0.546129</td>
      <td>-0.077742</td>
      <td>-0.495297</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.00125</td>
      <td>-0.000685</td>
      <td>-0.005812</td>
      <td>9.18758</td>
      <td>1.613175</td>
      <td>2.890089</td>
      <td>-0.560387</td>
      <td>0.022544</td>
      <td>-0.539902</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.089455</td>
      <td>0.061952</td>
      <td>0.074413</td>
      <td>0.534683</td>
      <td>1.738648</td>
      <td>0.762124</td>
      <td>0.099032</td>
      <td>0.258189</td>
      <td>0.093525</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>En la unidad 1 (rodilla derecha), las señales de aceleración (acc_x, acc_y y acc_z) presentan valores bajos, siendo acc_z la más destacada debido a la influencia gravitacional. Los giroscopios (gyr_x, gyr_y y gyr_z) muestran rotación mínima, mientras que los magnetómetros registran valores bajos y estables, indicando poca variabilidad. En la unidad 2 (muñeca derecha), acc_x y acc_y reflejan mayor actividad, correspondiente al movimiento dinámico del brazo al levantar el peso. Los giroscopios muestran valores elevados, especialmente en gyr_y y gyr_z, indicando rotación en diferentes planos. Los magnetómetros presentan variabilidad, posiblemente debido a cambios en la orientación de la muñeca. En la unidad 3 (codo derecho), las señales de aceleración son moderadas, especialmente en acc_x y acc_y, indicando movimiento del antebrazo en el plano horizontal. Los giroscopios tienen amplitudes similares a las de la unidad 2, reflejando su rol complementario. Los magnetómetros son consistentes, con mínima variación.</p>
<p>En la unidad 4 (hombro derecho), acc_x y acc_y muestran las mayores amplitudes, ya que esta articulación lidera el movimiento. Los giroscopios registran los valores más altos, reflejando el esfuerzo y la rotación en el hombro. Los magnetómetros, aunque estables, muestran ligeras variaciones por cambios de orientación. Finalmente, en la unidad 5 (pecho), las señales de aceleración son bajas y constantes, indicando un torso principalmente estático con pequeños ajustes para mantener el equilibrio. Los giroscopios registran rotación insignificante, y los magnetómetros muestran valores uniformes, con poca influencia externa.</p>
</section>
<section id="octavo-ejercicio">
<h3>Octavo ejercicio<a class="headerlink" href="#octavo-ejercicio" title="Link to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este ejercicio consiste en acostarse boca abajo sobre una superficie plana y elevada, dejando el brazo derecho colgando por el lado desde el codo. Desde esa posición, eleva el antebrazo derecho hasta extender completamente el codo. Mantén esta posición durante 5 segundos. Finalmente, regresa el brazo a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en la rodilla derecha, 2 en la muñeca derecha, 3 en el codo derecho, 4 en el hombro derecho y 5 en el pecho.</p>
</div>
<p><img alt="" src="_images/ex8.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_dist</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/69569c2c08983243f12d61128ebf8f01659f6be658faeeb811a5814a7446efd4.png" src="_images/69569c2c08983243f12d61128ebf8f01659f6be658faeeb811a5814a7446efd4.png" />
<img alt="_images/523d1c2caa43882ee22bbd011f9401b3aebf2b582d577809cc95a201e26f04d2.png" src="_images/523d1c2caa43882ee22bbd011f9401b3aebf2b582d577809cc95a201e26f04d2.png" />
<img alt="_images/848e22b6406f4198e84d48a6a9863d78646b521180cccc5c22c94e97fac599b4.png" src="_images/848e22b6406f4198e84d48a6a9863d78646b521180cccc5c22c94e97fac599b4.png" />
<img alt="_images/7913504f4914bb4dae38eb542d7fc2e4ad52b289518479342ff681af20bb6fca.png" src="_images/7913504f4914bb4dae38eb542d7fc2e4ad52b289518479342ff681af20bb6fca.png" />
<img alt="_images/84ff02171fcc30f90d0877cf154fe7253d18215e179976b0bf451284c35b0f23.png" src="_images/84ff02171fcc30f90d0877cf154fe7253d18215e179976b0bf451284c35b0f23.png" />
</div>
</div>
<p>Los sensores muestran un patrón de actividad concentrado principalmente en la muñeca derecha (sensor 2) y el codo derecho (sensor 3), ya que estas áreas están directamente involucradas en el levantamiento del antebrazo. En el acelerómetro, se observan picos significativos en los ejes x, y y z de estas unidades durante la fase de elevación y descenso del antebrazo. La muñeca derecha registra las mayores variaciones debido a su rol principal en la dinámica del movimiento. El hombro derecho (sensor 4) presenta una actividad moderada, reflejando su papel estabilizador durante el ejercicio, mientras que las señales de la rodilla derecha (sensor 1) y el pecho (sensor 5) son más estables, lo cual coincide con su papel de soporte en la postura. Las señales del giroscopio (GYR) muestran cambios notables en las unidades de la muñeca derecha y el codo derecho, reflejando las rotaciones asociadas al movimiento de flexión y extensión. Por el contrario, el hombro derecho, la rodilla derecha y el pecho mantienen señales más uniformes en el giroscopio, consistentes con su menor participación en el movimiento dinámico.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span><span class="o">.</span><span class="n">plot_dens</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/19da6f2ddfcc42725025e9db76fc1b8e93479443c3d1476e44f14761b5daca3c.png" src="_images/19da6f2ddfcc42725025e9db76fc1b8e93479443c3d1476e44f14761b5daca3c.png" />
<img alt="_images/22db590c04006ed7526b7dd49d39d11c3fe367b169a65a6454f2b03793636593.png" src="_images/22db590c04006ed7526b7dd49d39d11c3fe367b169a65a6454f2b03793636593.png" />
<img alt="_images/b1683f9c9610c7306bdb8e55f675bd5479fc8db1175542e10ca19be7c2cbc7ea.png" src="_images/b1683f9c9610c7306bdb8e55f675bd5479fc8db1175542e10ca19be7c2cbc7ea.png" />
<img alt="_images/474c31751e15b5ee5a0270c08e352394d9b77fd9a6c8906e7721244d5c96c6f0.png" src="_images/474c31751e15b5ee5a0270c08e352394d9b77fd9a6c8906e7721244d5c96c6f0.png" />
<img alt="_images/73d5b1a3adf35362cb12365f621ba8f9d25d8d7cbb0ec4eaa42c63dc9c0247bd.png" src="_images/73d5b1a3adf35362cb12365f621ba8f9d25d8d7cbb0ec4eaa42c63dc9c0247bd.png" />
</div>
</div>
<p>En la unidad 1, situada en la rodilla derecha, se observa una actividad mínima en los ejes de aceleración, con señales casi uniformes debido a la estabilidad de esta zona durante el ejercicio. Los giroscopios muestran valores muy bajos, reflejando una ausencia de rotación significativa en esta articulación. Los magnetómetros mantienen una señal constante y de baja amplitud, indicando una orientación estable respecto al campo magnético. La unidad 2, ubicada en la muñeca derecha, registra mayor variabilidad en los ejes de aceleración y giroscopio, especialmente en los ejes acc_x y gyr_y, lo que refleja la participación dinámica de la muñeca al guiar el movimiento del antebrazo. Los datos de magnetómetros presentan variaciones moderadas, probablemente debido a los cambios de orientación del brazo durante el movimiento. En la unidad 3, correspondiente al codo derecho, las señales de aceleración y giroscopio son más prominentes, especialmente en acc_y y gyr_x, lo que indica que esta articulación desempeña un papel clave en la ejecución del movimiento de extensión. Los valores de los magnetómetros son relativamente estables, sugiriendo que los cambios de orientación en esta articulación son controlados.</p>
<p>La unidad 4, en el hombro derecho, muestra las mayores amplitudes en las señales de aceleración y giroscopio, reflejando el esfuerzo necesario para estabilizar el brazo durante el movimiento. Los datos de magnetómetros presentan ligeras oscilaciones, que pueden estar relacionadas con la inclinación y rotación del torso para mantener el equilibrio. En la unidad 5, situada en el pecho, los datos son notablemente estables, con valores bajos en los sensores de aceleración y giroscopio, lo que refleja una postura mayormente fija del torso. Los valores de magnetómetros son uniformes, indicando poca variación en la orientación general de esta zona durante el ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">stats_por_unidad</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
<span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>-0.006729</td>
      <td>0.003053</td>
      <td>-0.004709</td>
      <td>-2.477218</td>
      <td>-7.761472</td>
      <td>2.841368</td>
      <td>0.336844</td>
      <td>0.59012</td>
      <td>-0.087028</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.007057</td>
      <td>0.002935</td>
      <td>-0.004696</td>
      <td>-1.572966</td>
      <td>-8.888831</td>
      <td>3.867282</td>
      <td>0.370594</td>
      <td>0.598221</td>
      <td>-0.150041</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.027586</td>
      <td>0.010253</td>
      <td>0.009434</td>
      <td>2.623855</td>
      <td>1.752079</td>
      <td>3.360902</td>
      <td>0.180465</td>
      <td>0.144007</td>
      <td>0.294411</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>9</th>
      <th>10</th>
      <th>11</th>
      <th>12</th>
      <th>13</th>
      <th>14</th>
      <th>15</th>
      <th>16</th>
      <th>17</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.00655</td>
      <td>0.012348</td>
      <td>-0.00444</td>
      <td>-5.288699</td>
      <td>1.389301</td>
      <td>-4.551438</td>
      <td>0.263941</td>
      <td>-0.160267</td>
      <td>0.614444</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.005064</td>
      <td>0.019046</td>
      <td>-0.002882</td>
      <td>-6.093561</td>
      <td>1.807768</td>
      <td>-4.44317</td>
      <td>0.278497</td>
      <td>-0.092782</td>
      <td>0.624035</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.410286</td>
      <td>0.569317</td>
      <td>0.878341</td>
      <td>3.877869</td>
      <td>4.812106</td>
      <td>3.176277</td>
      <td>0.278065</td>
      <td>0.238205</td>
      <td>0.176909</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18</th>
      <th>19</th>
      <th>20</th>
      <th>21</th>
      <th>22</th>
      <th>23</th>
      <th>24</th>
      <th>25</th>
      <th>26</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.008155</td>
      <td>0.002918</td>
      <td>-0.023111</td>
      <td>4.004659</td>
      <td>6.015762</td>
      <td>-6.261269</td>
      <td>-0.081797</td>
      <td>-0.390076</td>
      <td>0.086488</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>-0.000442</td>
      <td>0.00577</td>
      <td>-0.01309</td>
      <td>3.804028</td>
      <td>6.01802</td>
      <td>-5.971709</td>
      <td>-0.142645</td>
      <td>-0.56624</td>
      <td>0.267618</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.23971</td>
      <td>0.146244</td>
      <td>0.201976</td>
      <td>1.920927</td>
      <td>1.10863</td>
      <td>1.092</td>
      <td>0.274944</td>
      <td>0.399466</td>
      <td>0.56771</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>27</th>
      <th>28</th>
      <th>29</th>
      <th>30</th>
      <th>31</th>
      <th>32</th>
      <th>33</th>
      <th>34</th>
      <th>35</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.009251</td>
      <td>0.00327</td>
      <td>0.001539</td>
      <td>3.034807</td>
      <td>7.414803</td>
      <td>1.908391</td>
      <td>-0.222025</td>
      <td>-0.432212</td>
      <td>-0.275867</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.009246</td>
      <td>0.002818</td>
      <td>0.002027</td>
      <td>3.010411</td>
      <td>7.46921</td>
      <td>3.98754</td>
      <td>-0.242438</td>
      <td>-0.377045</td>
      <td>-0.653728</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.092693</td>
      <td>0.126716</td>
      <td>0.090867</td>
      <td>1.944991</td>
      <td>1.285933</td>
      <td>4.747749</td>
      <td>0.148394</td>
      <td>0.193606</td>
      <td>0.591629</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>36</th>
      <th>37</th>
      <th>38</th>
      <th>39</th>
      <th>40</th>
      <th>41</th>
      <th>42</th>
      <th>43</th>
      <th>44</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Variable</th>
      <td>gyr_x</td>
      <td>gyr_y</td>
      <td>gyr_z</td>
      <td>acc_x</td>
      <td>acc_y</td>
      <td>acc_z</td>
      <td>mag_x</td>
      <td>mag_y</td>
      <td>mag_z</td>
    </tr>
    <tr>
      <th>Media</th>
      <td>0.00174</td>
      <td>-0.002004</td>
      <td>-0.006203</td>
      <td>1.804484</td>
      <td>2.759582</td>
      <td>-9.10019</td>
      <td>-0.186721</td>
      <td>-0.191049</td>
      <td>0.720421</td>
    </tr>
    <tr>
      <th>Mediana</th>
      <td>0.001841</td>
      <td>-0.002315</td>
      <td>-0.006405</td>
      <td>1.91706</td>
      <td>3.282683</td>
      <td>-9.119206</td>
      <td>-0.289404</td>
      <td>-0.166308</td>
      <td>0.779461</td>
    </tr>
    <tr>
      <th>Desviación estándar</th>
      <td>0.032391</td>
      <td>0.014694</td>
      <td>0.008577</td>
      <td>0.664062</td>
      <td>1.091608</td>
      <td>0.269776</td>
      <td>0.221256</td>
      <td>0.223595</td>
      <td>0.137617</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>En la unidad 1, ubicada en la rodilla derecha, los datos de aceleración presentan una baja actividad promedio, lo que refleja el rol estático de esta articulación durante el ejercicio. Los giroscopios también indican mínimos movimientos rotacionales. Los valores del magnetómetro son bajos y estables, evidenciando una orientación constante.</p>
<p>La unidad 2, posicionada en la muñeca derecha, muestra un aumento en la actividad de aceleración, especialmente en los ejes acc_x y acc_y, reflejando el movimiento dinámico del brazo al levantar el antebrazo. Los datos de giroscopios también destacan, con mayor variabilidad en los ejes gyr_y y gyr_z, indicando rotaciones propias del movimiento de la muñeca. Los magnetómetros presentan oscilaciones, coherentes con los cambios de orientación durante el ejercicio. En la unidad 3, correspondiente al codo derecho, se registran valores más prominentes de aceleración en los ejes acc_x y acc_y, indicando su participación activa en el movimiento de extensión. Los giroscopios reflejan moderada actividad rotacional en el eje gyr_x, mientras que los magnetómetros mantienen valores consistentes, sugiriendo un control estable del codo. La unidad 4, situada en el hombro derecho, registra las mayores amplitudes de aceleración, especialmente en los ejes acc_x y acc_y, lo que refleja el papel estabilizador del hombro durante el ejercicio. Los giroscopios presentan una mayor actividad, evidenciando rotaciones significativas. Los magnetómetros muestran ligeras oscilaciones, coherentes con el esfuerzo de estabilización.</p>
<p>La unidad 5, colocada en el pecho, refleja una estabilidad general con bajas amplitudes en los sensores de aceleración y giroscopios, confirmando que el torso se mantiene mayormente fijo. Los valores de los magnetómetros son consistentes y de baja variabilidad, indicando una orientación estable durante la actividad.</p>
</section>
</section>
<section id="correlacion">
<h2>Correlación<a class="headerlink" href="#correlacion" title="Link to this heading">#</a></h2>
<p>Por lo extenso que podría tornarse el análisis, se limitó a un solo sujeto, tres ejercicios y las unidades correspondientes al movimiento principal.</p>
<section id="ejercicio-uno-unidad-2-y-3">
<h3>Ejercicio uno: unidad 2 y 3<a class="headerlink" href="#ejercicio-uno-unidad-2-y-3" title="Link to this heading">#</a></h3>
<p>Este ejercicio consiste en sentarse en una superficie plana y elevada. Desde esa posición, debes levantar la pierna derecha manteniéndola completamente recta. Luego, sostén esa postura durante 5 segundos, asegurándote de que la rodilla derecha permanezca extendida. Finalmente, baja la pierna con control y regresa a la posición inicial. Al ser un ejercicio de piernas, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en rodilla derecha, 4 en rodilla izquierda y 5 en pecho.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 2000x2000 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/dffaefa43a3f711b33dfd57f2687f5491620e7f5728c38f33bd8b10b1778c7b0.png" src="_images/dffaefa43a3f711b33dfd57f2687f5491620e7f5728c38f33bd8b10b1778c7b0.png" />
</div>
</div>
<p>Se pueden notar la correlación directa existente entre los diferentes ejes del acelerómetro, además de una correlación negativa entre el magnetómetro. Pasa algo muy curioso con el giroscopio y las demás variables y es que los gráficos tienen patrones simétricos que podrían indicar una relación cíclica u oscilatoria entre las variables. Las zonas más densas (con puntos agrupados) reflejan momentos de menor cambio, probablemente durante el tiempo que la pierna se mantiene recta: levantada, sostenida o en reposo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 2000x2000 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/240a7cd0d2282ea8d925800866d458c01fc6923c593add0c42880e3fc7c22294.png" src="_images/240a7cd0d2282ea8d925800866d458c01fc6923c593add0c42880e3fc7c22294.png" />
</div>
</div>
<p>Este corresponde a la correlación entre las variables asociadas al sensor de la rodilla, estas presentan patrones menos obvios, pero que están presentes. La fuerte concentración en el centro para el magnetómetro y giroscopio sugiere que la orientación y rotación del sensor son relativamente estables en la mayoría de los momentos. Sin embargo, hay una dispersión significativa en algunos gráficos como gyr_x con mag_y lo que puede indicar que en ciertos puntos del ejercicio (levantamiento o descenso de la pierna) hay una interacción más notable entre la orientación magnética y las rotaciones.</p>
</section>
<section id="ejercicio-dos-unidad-5">
<h3>Ejercicio dos: unidad 5<a class="headerlink" href="#ejercicio-dos-unidad-5" title="Link to this heading">#</a></h3>
<p>Este ejercicio consiste en sentarse erguido en un taburete con los brazos colgando hacia abajo. Desde esa posición, inclinar el torso hacia adelante a un ángulo de 30°, manteniendo la postura durante 5 segundos. Finalmente, regresa a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en la rodilla derecha, 2 en la muñeca derecha, 3 en el codo derecho, 4 en el hombro derecho y 5 en el pecho.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 2000x2000 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/643dcdc1fce1735cebfc2d3d0fa02a4b8f9449e2d00ee14d00ac1d837d1ca57e.png" src="_images/643dcdc1fce1735cebfc2d3d0fa02a4b8f9449e2d00ee14d00ac1d837d1ca57e.png" />
</div>
</div>
<p>Las variables del magnetómetro (mag_x, mag_y, mag_z) presentan patrones más dispersos, con cierta correlación lineal con los datos del acelerómetro, especialmente en acc_x y acc_y. Esto indica que la orientación del pecho respecto al campo magnético cambia de manera consistente durante el movimiento de inclinación y retorno. Las relaciones entre las variables del giroscopio y el magnetómetro son más dispersas y tienen una acumulación significativa cerca de cero, especialmente en gyr_x y gyr_y. Esto sugiere que las rotaciones del torso son suaves y limitadas durante el ejercicio, particularmente al mantener la postura. Las rotaciones (giroscopio) son limitadas, lo que es consistente con la estabilidad esperada en este ejercicio. El magnetómetro complementa al acelerómetro al proporcionar información sobre la orientación relativa del torso respecto al campo magnético.</p>
</section>
<section id="ejercicio-cinco-unidad-2-y-3">
<h3>Ejercicio cinco: unidad 2 y 3<a class="headerlink" href="#ejercicio-cinco-unidad-2-y-3" title="Link to this heading">#</a></h3>
<p>Este ejercicio consiste en acostarse boca abajo en una superficie plana. Desde esa posición, debes levantar la pierna derecha desde la articulación de la cadera, manteniendo tanto la rodilla derecha como la pierna izquierda completamente rectas. Luego, sostén la postura durante 5 segundos. Finalmente, regresa la pierna derecha a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en la rodilla derecha, 4 en la rodilla izquierda y 5 en el pecho.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 2000x2000 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/3d3a51af766e79e8517d9736c0cef06f89f88b1f371503878ab74a81dfde2cfd.png" src="_images/3d3a51af766e79e8517d9736c0cef06f89f88b1f371503878ab74a81dfde2cfd.png" />
</div>
</div>
<p>Se observa una correlación inversa entre acc_x y acc_z, lo que podría reflejar la interacción entre la aceleración gravitacional y la dinámica del movimiento al levantar y bajar la pierna derecha. La dispersión más centrada en gyr_y y gyr_z indica que las rotaciones son mínimas en estos ejes, lo cual es esperable si el tobillo permanece relativamente estable mientras la pierna se eleva y baja. Los patrones dispersos entre gyr_x y acc_x sugieren que ambos están fuertemente influenciados por el movimiento principal de la pierna. Las relaciones entre mag_x, mag_y, y mag_z son más consistentes, indicando un cambio gradual de orientación a medida que la pierna se mueve hacia arriba y vuelve a la posición inicial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">plot_scatter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 2000x2000 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/32058b3ee796e2600bbbafa8c7d54a22de4dd62d0587bc2029678ddbc0330d75.png" src="_images/32058b3ee796e2600bbbafa8c7d54a22de4dd62d0587bc2029678ddbc0330d75.png" />
</div>
</div>
<p>acc_y muestra una menor correlación con los otros ejes, probablemente porque captura movimientos laterales o ajustes mínimos en la posición de la rodilla. Los sensores gyr_x y gyr_z muestran mayor dispersión, sugiriendo que estos ejes registran rotaciones más significativas, posiblemente relacionadas con los ajustes de la rodilla al iniciar o terminar el movimiento. La relación entre gyr_x y acc_x refleja una interacción dinámica significativa, ya que ambos ejes están alineados con el movimiento principal de la pierna.Los patrones inclinados entre los datos del acelerómetro y giroscopio reflejan la sincronización entre la aceleración lineal y las rotaciones en la articulación de la rodilla.  Nuevamente se aprecian patrones cíclicos entre gyr_z y mag_x y mag_y.</p>
</section>
</section>
<section id="descomposicion-estacional">
<h2>Descomposición estacional<a class="headerlink" href="#descomposicion-estacional" title="Link to this heading">#</a></h2>
<p>La descomposición estacional es un método que permite modelar los factores estacionales de una serie temporal. Se utiliza para descomponer una serie temporal en sus componentes de tendencia, estacional y resto. La estacionalidad es la repetición de variaciones en una variable cada cierto período, que suele ser igual o menor a un año. Los fenómenos estacionales pueden ocurrir diariamente en una hora determinada, todos los días, o en un mes determinado a cada año.</p>
<p>Debido a lo extenso que resultaría el análisis si se considerase cada uno de las combinaciones entre sujetos, ejercicios y unidad, se decidió fijar la descomposición a un sujeto y un ejercicios: el primero, el número de unidades se mantuvo.</p>
<section id="ejercicio-tomado">
<h3>Ejercicio tomado<a class="headerlink" href="#ejercicio-tomado" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Primero:</strong> Este ejercicio consiste en sentarse en una superficie plana y elevada. Desde esa posición, debes levantar la pierna derecha manteniéndola completamente recta. Luego, sostén esa postura durante 5 segundos, asegurándote de que la rodilla derecha permanezca extendida. Finalmente, baja la pierna con control y regresa a la posición inicial. Al ser un ejercicio de piernas, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en rodilla derecha, 4 en rodilla izquierda y 5 en pecho.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">temp_decompose</span><span class="p">(</span><span class="n">sujeto</span><span class="p">,</span> <span class="n">ejercicio</span><span class="p">,</span> <span class="n">unidad</span><span class="p">,</span> <span class="n">variable_set</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Genera la descomposición temporal para las variables asociadas (x, y, z) de un sujeto, ejercicio y unidad.</span>

<span class="sd">    Parámetros:</span>
<span class="sd">    sujeto (int): Número del sujeto.</span>
<span class="sd">    ejercicio (int): Número del ejercicio.</span>
<span class="sd">    unidad (int): Número de la unidad.</span>
<span class="sd">    variable_set (str): Puede ser &#39;gyr&#39;, &#39;acc&#39; o &#39;mag&#39;.</span>
<span class="sd">    freq (int): Frecuencia esperada de estacionalidad (por defecto 30).</span>

<span class="sd">    Retorna:</span>
<span class="sd">    None. Muestra las gráficas de descomposición temporal.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">sujeto</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">ejercicio</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">unidad</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">templates</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datos para la clave </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> no encontrados.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_set</span><span class="si">}</span><span class="s2">_x&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_set</span><span class="si">}</span><span class="s2">_y&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_set</span><span class="si">}</span><span class="s2">_z&quot;</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Descomposición Temporal - Sujeto </span><span class="si">{</span><span class="n">sujeto</span><span class="si">}</span><span class="s2">, Ejercicio </span><span class="si">{</span><span class="n">ejercicio</span><span class="si">}</span><span class="s2">, Unidad </span><span class="si">{</span><span class="n">unidad</span><span class="si">}</span><span class="s2">, Variables: </span><span class="si">{</span><span class="n">variable_set</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">variables</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">var</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Variable </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> no encontrada en los datos.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>
        <span class="n">decomposition</span> <span class="o">=</span> <span class="n">seasonal_decompose</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">var</span><span class="p">],</span> <span class="n">model</span><span class="o">=</span><span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="n">freq</span><span class="p">,</span> <span class="n">extrapolate_trend</span><span class="o">=</span><span class="s1">&#39;freq&#39;</span><span class="p">)</span>

        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">observed</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Observado&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> - Observado&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">trend</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tendencia&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> - Tendencia&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

        <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">seasonal</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Estacionalidad&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> - Estacionalidad&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

        <span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">decomposition</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Residuo&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> - Residuo&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.94</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="primer-ejercicio-y-sujeto-uno">
<h3>Primer ejercicio y sujeto uno<a class="headerlink" href="#primer-ejercicio-y-sujeto-uno" title="Link to this heading">#</a></h3>
<section id="unidad-1">
<h4>Unidad 1<a class="headerlink" href="#unidad-1" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5707c39e4ea952f93c8fa71460b0b929bb7ee9bf694f6daf107521a9fb3c1823.png" src="_images/5707c39e4ea952f93c8fa71460b0b929bb7ee9bf694f6daf107521a9fb3c1823.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;acc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b71b78997f8c50eb0755f8afd6fef58b1631456ca84cd7f284c8596a35fc737f.png" src="_images/b71b78997f8c50eb0755f8afd6fef58b1631456ca84cd7f284c8596a35fc737f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e712c1634fe6bba46c0695b587f1a77c75a97d0c2adb368e7133f9a2805d66cd.png" src="_images/e712c1634fe6bba46c0695b587f1a77c75a97d0c2adb368e7133f9a2805d66cd.png" />
</div>
</div>
<p>Para cada componente, las gráficas se muestran para las dimensiones x, y y z, que representan los ejes tridimensionales de los sensores (acc, gyr, mag). Esto permite analizar cómo el movimiento de la pierna derecha afecta a la señal en diferentes direcciones. La unidad 1 (ubicada en el tobillo izquierdo) es clave para capturar los movimientos compensatorios mientras la pierna derecha se eleva y sostiene la posición. Las variaciones en las gráficas de tendencia y estacionalidad reflejan ajustes específicos del tobillo durante el ejercicio.</p>
<ul class="simple">
<li><p>En el componente <strong>tendencial</strong> de cada sensor, el <em>giroscopio</em> muestra fluctuaciones constantes, lo que sugiere movimientos repetitivos del tobillo en el eje x. Esto podría estar relacionado con el balanceo lateral o ajustes durante el levantamiento de la pierna derecha, los picos abruptos en las tendencias (gyr_y y gyr_z) podrían coincidir con transiciones importantes en el ejercicio, como cuando se sostiene o baja la pierna derecha. Para el <em>acelerómetro</em>, la tendencia de acc_x muestra una disminución gradual hacia el final del ejercicio. Esto sugiere una reducción constante de la aceleración en el eje x, la señal acc_y presenta picos pronunciados a lo largo del ejercicio, indicando variaciones en la aceleración en el plano vertical y en el eje z, la tendencia muestra variaciones significativas al inicio, seguidas de un patrón más estable con pequeñas oscilaciones hacia el final. Por último, para el <em>magnetómetro</em>, la tendencia en mag_x muestra fluctuaciones iniciales y luego un patrón oscilatorio con pequeñas variaciones a lo largo del tiempo, la señal mag_y presenta picos pronunciados y descensos bruscos, lo que indica ajustes significativos en la orientación en el eje y, en mag_z, la tendencia muestra un incremento inicial pronunciado, seguido de una estabilización con oscilaciones menores hacia el final.</p></li>
<li><p>Componentes <strong>estacionales</strong> y <strong>residuales</strong></p>
<ul>
<li><p><strong>gyr</strong>: La estacionalidad de gyr_x refleja un patrón regular y repetitivo con picos y valles constantes, en gyr_y sucede algo similar pero con una amplitud distinta, y la estacionalidad en gyr_z también muestra un patrón repetitivo, con oscilaciones más pequeñas comparadas con gyr_x y gyr_y. Esto puede deberse a un menor impacto del movimiento en el eje z. En cuanto a los residuos de gyr_x muestran fluctuaciones que no son explicadas por la tendencia ni la estacionalidad. Estas variaciones podrían reflejar movimientos aleatorios o ruido en la señal, en gyr_y incluyen un evento atípico cerca del índice 1000 que está presente también el en magnetómetro, y en gyr_z también presentan fluctuaciones consistentes, aunque sin anomalías evidentes.</p></li>
<li><p><strong>acc</strong>: La estacionalidad es clara en los tres ejes, mostrando patrones cíclicos consistentes con el movimiento repetitivo del ejercicio. Los residuos reflejan principalmente ruido o pequeñas variaciones en los movimientos del tobillo, con un pico significativo, lo que podría indicar un movimiento abrupto o una anomalía durante el ejercicio.</p></li>
<li><p><strong>mag</strong>: La estacionalidad es clara en los tres ejes, mostrando patrones cíclicos consistentes con el movimiento repetitivo del ejercicio. Los residuos reflejan principalmente ruido o pequeñas variaciones en los movimientos del tobillo, con picos significativos en y y z, justo en el mismo momento, lo que podría indicar un movimiento abrupto o una anomalía durante el ejercicio.</p></li>
</ul>
</li>
</ul>
</section>
<section id="unidad-2">
<h4>Unidad 2<a class="headerlink" href="#unidad-2" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/51ce8ca75025a6dfe183c132cee3e5714eba733ed2ad9c17d398b0747d18266f.png" src="_images/51ce8ca75025a6dfe183c132cee3e5714eba733ed2ad9c17d398b0747d18266f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;acc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/22cd3d6572ef8e8a99c74704492109efb8daa8144b96fbdc1723df60d9f92a5c.png" src="_images/22cd3d6572ef8e8a99c74704492109efb8daa8144b96fbdc1723df60d9f92a5c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ccd70a78e9487ef2b1391cc95eba4a61d46a1a2c9ccd22b0f782b9421a796d8d.png" src="_images/ccd70a78e9487ef2b1391cc95eba4a61d46a1a2c9ccd22b0f782b9421a796d8d.png" />
</div>
</div>
<ul class="simple">
<li><p><strong>Giroscopio</strong></p>
<ul>
<li><p><strong>Componente tendencial:</strong> en los ejes <code class="docutils literal notranslate"><span class="pre">gyr_x</span></code>, <code class="docutils literal notranslate"><span class="pre">gyr_y</span></code> y <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code>, las tendencias muestran picos regulares y repetitivos. Esto indica movimientos consistentes y cíclicos asociados con el levantamiento de la pierna derecha, donde el tobillo derecho lidera el movimiento. Los picos son más claros y presentan menor variación en <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code>, lo cual sugiere un mayor rango de movimiento rotacional en este eje.</p></li>
<li><p><strong>Componente estacional:</strong> las gráficas muestran patrones altamente repetitivos, lo que confirma la naturaleza periódica del movimiento. La estacionalidad es más notoria en <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code>, que parece capturar mejor las variaciones rítmicas del ejercicio.</p></li>
<li><p><strong>Componente residual:</strong> los residuos en <code class="docutils literal notranslate"><span class="pre">gyr_x</span></code> y <code class="docutils literal notranslate"><span class="pre">gyr_y</span></code> tienen valores pequeños pero con algunas variaciones más marcadas, posiblemente asociadas a ligeros ajustes o inconsistencias durante el movimiento. En <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code>, los residuos son mayores, lo que podría indicar microvariaciones o desajustes en el rango de movimiento del tobillo derecho.</p></li>
</ul>
</li>
<li><p><strong>Acelerómetro</strong></p>
<ul>
<li><p><strong>Componente tendencial:</strong> en los ejes <code class="docutils literal notranslate"><span class="pre">acc_x</span></code>, <code class="docutils literal notranslate"><span class="pre">acc_y</span></code> y <code class="docutils literal notranslate"><span class="pre">acc_z</span></code>, las tendencias muestran picos abruptos y definidos, lo que sugiere una transición marcada entre el inicio, el levantamiento de la pierna y su retorno a la posición inicial. Este comportamiento es consistente con la dinámica del ejercicio donde la aceleración en los tres ejes está influenciada por el control del movimiento.<br />
En <code class="docutils literal notranslate"><span class="pre">acc_x</span></code>, los picos negativos reflejan el descenso controlado, mientras que en <code class="docutils literal notranslate"><span class="pre">acc_y</span></code> y <code class="docutils literal notranslate"><span class="pre">acc_z</span></code>, los valores positivos indican la elevación de la pierna.</p></li>
<li><p><strong>Componente estacional:</strong> las gráficas presentan oscilaciones cíclicas muy pronunciadas y repetitivas, indicando la naturaleza periódica del ejercicio. El eje <code class="docutils literal notranslate"><span class="pre">acc_y</span></code> destaca por capturar patrones de mayor amplitud, posiblemente relacionados con el movimiento vertical del tobillo.</p></li>
<li><p><strong>Componente residual:</strong> los residuos muestran oscilaciones significativas en todos los ejes (<code class="docutils literal notranslate"><span class="pre">acc_x</span></code>, <code class="docutils literal notranslate"><span class="pre">acc_y</span></code>, <code class="docutils literal notranslate"><span class="pre">acc_z</span></code>), con mayores variaciones en <code class="docutils literal notranslate"><span class="pre">acc_x</span></code>. Esto podría ser el resultado de microajustes al estabilizar la pierna o desbalances momentáneos durante el movimiento. Los residuos más controlados en <code class="docutils literal notranslate"><span class="pre">acc_y</span></code> y <code class="docutils literal notranslate"><span class="pre">acc_z</span></code> indican una mayor consistencia en esos ejes.</p></li>
</ul>
</li>
<li><p><strong>Magnetómetro</strong></p>
<ul>
<li><p><strong>Componente tendencial:</strong> en <code class="docutils literal notranslate"><span class="pre">mag_x</span></code>, <code class="docutils literal notranslate"><span class="pre">mag_y</span></code> y <code class="docutils literal notranslate"><span class="pre">mag_z</span></code>, las tendencias presentan oscilaciones marcadas y regulares, lo que indica cambios consistentes en la orientación del tobillo derecho en relación con el campo magnético terrestre. En particular, <code class="docutils literal notranslate"><span class="pre">mag_x</span></code> y <code class="docutils literal notranslate"><span class="pre">mag_y</span></code> tienen variaciones significativas que reflejan la orientación horizontal y vertical durante el levantamiento y descenso de la pierna.<br />
En <code class="docutils literal notranslate"><span class="pre">mag_z</span></code>, los picos son más constantes y con menor amplitud, sugiriendo una estabilidad relativa en este eje, probablemente influida por la naturaleza del movimiento hacia arriba y hacia abajo.</p></li>
<li><p><strong>Componente estacional:</strong> las gráficas muestran patrones cíclicos con alta repetitividad, lo que confirma que el magnetómetro captura la periodicidad del ejercicio. <code class="docutils literal notranslate"><span class="pre">mag_x</span></code> y <code class="docutils literal notranslate"><span class="pre">mag_y</span></code> tienen amplitudes mayores, lo que indica que el movimiento en estos ejes está más influenciado por las variaciones cíclicas del tobillo.</p></li>
<li><p><strong>Componente residual:</strong> los residuos tienen oscilaciones más marcadas en <code class="docutils literal notranslate"><span class="pre">mag_x</span></code> y <code class="docutils literal notranslate"><span class="pre">mag_y</span></code>, lo que sugiere pequeñas inconsistencias o ajustes durante la ejecución del movimiento. En <code class="docutils literal notranslate"><span class="pre">mag_z</span></code>, los residuos son más estables, reflejando una menor influencia de variaciones externas o desbalances en este eje específico.</p></li>
</ul>
</li>
</ul>
</section>
<section id="unidad-3">
<h4>Unidad 3<a class="headerlink" href="#unidad-3" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d4bb12a03a05c0c399ed8c65deb945acb2955782fe004c5f91965a6e2eaf5b4a.png" src="_images/d4bb12a03a05c0c399ed8c65deb945acb2955782fe004c5f91965a6e2eaf5b4a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;acc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/26324d422e550f83bcf67f7353e059389b814e9f0fecbad696e7af1f3187ec21.png" src="_images/26324d422e550f83bcf67f7353e059389b814e9f0fecbad696e7af1f3187ec21.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ef4b5c39a92c843e4c2cefd8b12a3a38b7bb615eaaf43dcc821ad2663310b399.png" src="_images/ef4b5c39a92c843e4c2cefd8b12a3a38b7bb615eaaf43dcc821ad2663310b399.png" />
</div>
</div>
<p>Esta corresponde a la rodilla derecha, por lo que tal como se esperaba, los componentes siguen una distribución similar a la encontrada en la unidad 2 o tobillo derecho, dado que es la articulación principal que guía el movimiento de flexión y extensión de la pierna. La periodicidad del ejercicio es evidente en los componentes estacionales, mientras que las tendencias reflejan los ciclos completos de movimiento</p>
</section>
<section id="unidad-4">
<h4>Unidad 4<a class="headerlink" href="#unidad-4" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ef832f9a3b114f4b235c0b71dc0249d570107ca4ee0fc9304fc25d6dfa17f52e.png" src="_images/ef832f9a3b114f4b235c0b71dc0249d570107ca4ee0fc9304fc25d6dfa17f52e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;acc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1a419df6ba4b8b304f0731919d6c39d98b3f4b18c032394e60a45ebfad300774.png" src="_images/1a419df6ba4b8b304f0731919d6c39d98b3f4b18c032394e60a45ebfad300774.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5fd16cac38cde2265689d13e06614e8d77a8e1ba15ab5660755baff52344d095.png" src="_images/5fd16cac38cde2265689d13e06614e8d77a8e1ba15ab5660755baff52344d095.png" />
</div>
</div>
</section>
<section id="unidad-5">
<h4>Unidad 5<a class="headerlink" href="#unidad-5" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;gyr&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ebd74f22021454ece16994209a8c37458e863ebcd9f886c1def907e5a0a1cd6c.png" src="_images/ebd74f22021454ece16994209a8c37458e863ebcd9f886c1def907e5a0a1cd6c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;acc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b1e1c82022ae31f4b6ab913569144af324331419856ebc40582654c00b24ebe8.png" src="_images/b1e1c82022ae31f4b6ab913569144af324331419856ebc40582654c00b24ebe8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp_decompose</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;mag&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/30c851f89114253c2a0834dc5125992ba1b4dc52b82ef0684a4c9d7d684b1ccb.png" src="_images/30c851f89114253c2a0834dc5125992ba1b4dc52b82ef0684a4c9d7d684b1ccb.png" />
</div>
</div>
<p>Tanto la unidad 4 como la 5 no se encuentran directamente relacionados con la ejecución del ejercicio.</p>
<p>La rodilla izquierda juega un rol secundario en este ejercicio, ya que sirve principalmente como soporte mientras la pierna derecha realiza el movimiento. Sin embargo, su actividad refleja ajustes menores para mantener la estabilidad y equilibrio del cuerpo. La unidad ubicada en el pecho registra el comportamiento del torso, que juega un rol clave en la estabilización y mantenimiento del equilibrio durante el ejercicio.</p>
</section>
</section>
<section id="test-de-dickey-fuller">
<h3>Test de Dickey - Fuller<a class="headerlink" href="#test-de-dickey-fuller" title="Link to this heading">#</a></h3>
<p>El <strong>Test de Dickey-Fuller</strong> (o prueba de Dickey-Fuller) es una prueba estadística ampliamente utilizada en series temporales para verificar si una serie es <strong>estacionaria</strong>. En términos simples, se utiliza para evaluar si una serie tiene una raíz unitaria, lo cual implica que la serie no es estacionaria.</p>
<section id="que-significa-estacionaria">
<h4>¿Qué significa “estacionaria”?<a class="headerlink" href="#que-significa-estacionaria" title="Link to this heading">#</a></h4>
<p>Una serie temporal es estacionaria si sus propiedades estadísticas, como la media, la varianza y la autocovarianza, no cambian con el tiempo. Esto es importante porque muchos modelos de series temporales, como el ARIMA, requieren que los datos sean estacionarios.</p>
</section>
<section id="hipotesis-del-test-de-dickey-fuller">
<h4>Hipótesis del test de Dickey-Fuller<a class="headerlink" href="#hipotesis-del-test-de-dickey-fuller" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p><strong>Hipótesis nula ((H_0)):</strong> La serie tiene una raíz unitaria (no es estacionaria).</p></li>
<li><p><strong>Hipótesis alternativa ((H_a)):</strong> La serie es estacionaria.
El objetivo del test es rechazar (H_0) para concluir que la serie es estacionaria.</p></li>
</ul>
</section>
<section id="resultados">
<h4>Resultados<a class="headerlink" href="#resultados" title="Link to this heading">#</a></h4>
<p>El test produce:</p>
<ol class="arabic simple">
<li><p><strong>Estadístico de prueba:</strong> Un valor que se compara con los valores críticos.</p></li>
<li><p><strong>Valores críticos:</strong> Dependen del nivel de confianza (1%, 5%, 10%).</p></li>
<li><p><strong>p-value:</strong> Probabilidad asociada a la hipótesis nula. Si (p &lt; 0.05), se rechaza (H_0).</p></li>
</ol>
</section>
<section id="interpretacion">
<h4>Interpretación<a class="headerlink" href="#interpretacion" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p><strong>Si se rechaza (H_0):</strong> La serie es estacionaria. Puede usarse directamente en modelos como ARIMA.</p></li>
<li><p><strong>Si no se rechaza (H_0):</strong> La serie no es estacionaria. Se pueden aplicar transformaciones (como diferencias) para lograr estacionariedad.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">check_adf</span><span class="p">(</span><span class="n">variables</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Aplica el test de Dickey-Fuller a todas las combinaciones de sujetos, ejercicios y unidades,</span>
<span class="sd">    y determina qué series temporales son estacionarias.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sujetos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">ejercicios</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
    <span class="n">unidades</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">columnas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;acc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">,</span>
                <span class="s1">&#39;gyr_x&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mag_x&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">]</span>
    <span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sujetos</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">ejercicios</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">unidades</span><span class="p">:</span>
                <span class="n">var_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span>
                <span class="k">if</span> <span class="n">var_name</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">:</span>
                    <span class="n">data</span> <span class="o">=</span> <span class="n">variables</span><span class="p">[</span><span class="n">var_name</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columnas</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="n">adf_result</span> <span class="o">=</span> <span class="n">adfuller</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>
                                <span class="n">p_value</span> <span class="o">=</span> <span class="n">adf_result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                                <span class="n">is_stationary</span> <span class="o">=</span> <span class="n">p_value</span> <span class="o">&lt;</span> <span class="mf">0.05</span>
                                <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                                    <span class="s1">&#39;Sujeto&#39;</span><span class="p">:</span> <span class="n">s</span><span class="p">,</span>
                                    <span class="s1">&#39;Ejercicio&#39;</span><span class="p">:</span> <span class="n">e</span><span class="p">,</span>
                                    <span class="s1">&#39;Unidad&#39;</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
                                    <span class="s1">&#39;Variable&#39;</span><span class="p">:</span> <span class="n">col</span><span class="p">,</span>
                                    <span class="s1">&#39;p-value&#39;</span><span class="p">:</span> <span class="n">p_value</span><span class="p">,</span>
                                    <span class="s1">&#39;Estacionaria&#39;</span><span class="p">:</span> <span class="n">is_stationary</span>
                                <span class="p">})</span>
                            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                                <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                                    <span class="s1">&#39;Sujeto&#39;</span><span class="p">:</span> <span class="n">s</span><span class="p">,</span>
                                    <span class="s1">&#39;Ejercicio&#39;</span><span class="p">:</span> <span class="n">e</span><span class="p">,</span>
                                    <span class="s1">&#39;Unidad&#39;</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
                                    <span class="s1">&#39;Variable&#39;</span><span class="p">:</span> <span class="n">col</span><span class="p">,</span>
                                    <span class="s1">&#39;p-value&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                    <span class="s1">&#39;Estacionaria&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                    <span class="s1">&#39;Error&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
                                <span class="p">})</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datos no encontrados para </span><span class="si">{</span><span class="n">var_name</span><span class="si">}</span><span class="s2">, continuando...&quot;</span><span class="p">)</span>

    <span class="n">df_resultados</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">resultados</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df_resultados</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">resultados</span> <span class="o">=</span> <span class="n">check_adf</span><span class="p">(</span><span class="n">templates</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">resultados</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1800
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">estacionarias</span> <span class="o">=</span> <span class="n">resultados</span><span class="p">[</span><span class="n">resultados</span><span class="p">[</span><span class="s1">&#39;Estacionaria&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Series estacionarias encontradas:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">estacionarias</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Series estacionarias encontradas:
      Sujeto  Ejercicio  Unidad Variable       p-value  Estacionaria
0          1          1       1    acc_x  1.205059e-03          True
1          1          1       1    acc_y  2.235463e-02          True
3          1          1       1    gyr_x  1.439182e-29          True
4          1          1       1    gyr_y  2.103648e-30          True
5          1          1       1    gyr_z  3.074255e-25          True
...      ...        ...     ...      ...           ...           ...
1795       5          8       5    gyr_y  1.305339e-21          True
1796       5          8       5    gyr_z  8.278205e-19          True
1797       5          8       5    mag_x  2.410375e-03          True
1798       5          8       5    mag_y  3.261641e-05          True
1799       5          8       5    mag_z  3.253096e-03          True

[1595 rows x 6 columns]
</pre></div>
</div>
</div>
</div>
<p>Se encontró que de las 1800 series temporales (correspondientes a las 9 variables de las 200 bases de datos) 1595 son estacionarias, basados en el test de Dickey Fuller.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq</span> <span class="o">=</span> <span class="n">estacionarias</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">,</span><span class="s1">&#39;Unidad&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">freq</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>

<span class="k">for</span> <span class="n">unidad</span> <span class="ow">in</span> <span class="n">freq</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
    <span class="n">subset</span> <span class="o">=</span> <span class="n">freq</span><span class="p">[</span><span class="n">freq</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">unidad</span><span class="p">]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span>
        <span class="n">subset</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span>
        <span class="n">subset</span><span class="p">[</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">],</span>
        <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Unidad </span><span class="si">{</span><span class="n">unidad</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="p">)</span>
    <span class="n">bottom</span> <span class="o">+=</span> <span class="n">subset</span><span class="p">[</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Frecuencia de Series Estacionarias por Ejercicio y Unidad&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia de Series Estacionarias&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">freq</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Unidades&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/737f09e4e0595b0301249ce4d7b871945578ca66b6728f203ed7fc70b1d60f39.png" src="_images/737f09e4e0595b0301249ce4d7b871945578ca66b6728f203ed7fc70b1d60f39.png" />
</div>
</div>
<p>Se observa como hay variedad de las series de todas las unidades por ejercicio, realmente no hay una diferencia muy notable entre cada ejercicio que se deba destacar, parece que las proporciones por unidades estacionarias es similar.</p>
</section>
</section>
</section>
<section id="acf-y-pacf">
<h2>ACF y PACF<a class="headerlink" href="#acf-y-pacf" title="Link to this heading">#</a></h2>
<p>En el análisis de series temporales, las gráficas de la Función de Autocorrelación (ACF) y de la Función de Autocorrelación Parcial (PACF) son herramientas clave para identificar la estructura subyacente de una serie temporal. Mientras que la ACF muestra la correlación de una serie con sus propios valores en diferentes retardos (lags), la PACF muestra esta correlación eliminando los efectos de los retardos intermedios.</p>
<section id="funcion-de-autocorrelacion-acf">
<h3>Función de Autocorrelación (ACF)<a class="headerlink" href="#funcion-de-autocorrelacion-acf" title="Link to this heading">#</a></h3>
<p>La ACF es una representación gráfica que muestra la correlación de una serie temporal con ella misma en diferentes retardos. El coeficiente de correlación mide qué tan relacionadas están dos variables.</p>
<ul class="simple">
<li><p>Un coeficiente de correlación de <strong>1</strong> indica una relación positiva perfecta.</p></li>
<li><p>Un coeficiente de <strong>-1</strong> indica una relación negativa perfecta.</p></li>
<li><p>Un coeficiente de <strong>0</strong> indica que no hay relación entre las variables.</p></li>
</ul>
<p>La gráfica de la ACF es útil para identificar el orden de un modelo <strong>AR</strong> (Autorregresivo). El orden del modelo AR corresponde al número de retardos que deben incluirse en el modelo. Los picos en la gráfica de la ACF indican los retardos que tienen correlaciones significativas y, por lo tanto, deben ser considerados en el modelo.</p>
</section>
<section id="funcion-de-autocorrelacion-parcial-pacf">
<h3>Función de Autocorrelación Parcial (PACF)<a class="headerlink" href="#funcion-de-autocorrelacion-parcial-pacf" title="Link to this heading">#</a></h3>
<p>La PACF es una representación gráfica que muestra la correlación de una serie temporal con sus valores en diferentes retardos, eliminando los efectos de los retardos previos. A diferencia de la ACF, la PACF aísla el efecto directo de cada retardo. La PACF se utiliza para identificar el orden de un modelo <strong>MA</strong> (Media Móvil). El orden del modelo MA corresponde al número de retardos que deben incluirse en el modelo. Los picos significativos en la gráfica de la PACF indican los retardos que son relevantes para el modelo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_corrs</span><span class="p">(</span><span class="n">sujeto</span><span class="p">,</span> <span class="n">ejercicio</span><span class="p">,</span> <span class="n">unidad</span><span class="p">):</span>

<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Genera gráficos de ACF y PACF para las 9 variables asociadas a un sujeto, ejercicio y unidad específicos.</span>

<span class="sd">    Parámetros:</span>
<span class="sd">    sujeto (int): Número del sujeto.</span>
<span class="sd">    ejercicio (int): Número del ejercicio.</span>
<span class="sd">    unidad (int): Número de la unidad.</span>
<span class="sd">    variables (dict): Diccionario con los datos organizados por clave &#39;s{sujeto}e{ejercicio}u{unidad}&#39;.</span>

<span class="sd">    Retorna:</span>
<span class="sd">    None. Muestra las gráficas en una matriz 9x2 (ACF y PACF por variable).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="n">templates</span>

    <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">sujeto</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">ejercicio</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">unidad</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datos para la clave </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> no encontrados en el diccionario.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">variables</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="n">columnas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;acc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_x&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_x&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">columnas</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ACF y PACF para Sujeto </span><span class="si">{</span><span class="n">sujeto</span><span class="si">}</span><span class="s1">, Ejercicio </span><span class="si">{</span><span class="n">ejercicio</span><span class="si">}</span><span class="s1">, Unidad </span><span class="si">{</span><span class="n">unidad</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">columnas</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Columna </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2"> no encontrada en los datos.&quot;</span><span class="p">)</span>
            <span class="k">continue</span>


        <span class="n">plot_acf</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;ACF - </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">plot_pacf</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;PACF - </span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>


    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">(</span><span class="n">rect</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Debido a lo extenso que resultaría el análisis si se considerase cada uno de las combinaciones entre sujetos, ejercicios y unidad, se decidió fijar el análisis del ACF y PACF a un sujeto (distinto para cada ejercicio) y tres ejercicios: el primero, cuarto y octavo, el número de unidades se mantuvo.</p>
</section>
<section id="ejercicios-tomados">
<h3>Ejercicios tomados<a class="headerlink" href="#ejercicios-tomados" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Primero:</strong> Este ejercicio consiste en sentarse en una superficie plana y elevada. Desde esa posición, debes levantar la pierna derecha manteniéndola completamente recta. Luego, sostén esa postura durante 5 segundos, asegurándote de que la rodilla derecha permanezca extendida. Finalmente, baja la pierna con control y regresa a la posición inicial. Al ser un ejercicio de piernas, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en rodilla derecha, 4 en rodilla izquierda y 5 en pecho.</p></li>
<li><p><strong>Cuarto:</strong> Este ejercicio consiste en acostarse boca arriba sobre una superficie plana. Desde esa posición, debes levantar la pierna derecha desde la articulación de la cadera, manteniendo tanto la rodilla derecha como la pierna izquierda completamente rectas. Luego, sostén la postura durante 5 segundos. Finalmente, regresa la pierna derecha a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en el tobillo izquierdo, 2 en el tobillo derecho, 3 en la rodilla derecha, 4 en la rodilla izquierda y 5 en el pecho.</p></li>
<li><p><strong>Octavo:</strong> Este ejercicio consiste en acostarse boca abajo sobre una superficie plana y elevada, dejando el brazo derecho colgando por el lado desde el codo. Desde esa posición, eleva el antebrazo derecho hasta extender completamente el codo. Mantén esta posición durante 5 segundos. Finalmente, regresa el brazo a la posición inicial con control. En este ejercicio, la distribución de las unidades de sensores está dada por 1 en la rodilla derecha, 2 en la muñeca derecha, 3 en el codo derecho, 4 en el hombro derecho y 5 en el pecho.</p></li>
</ul>
</section>
<section id="id1">
<h3>Primer ejercicio y sujeto uno<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_corrs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1b03a950f7fb757eccb2ef7a1cd25d122ff983ea1d9e77c124a0f3a98cbd75f2.png" src="_images/1b03a950f7fb757eccb2ef7a1cd25d122ff983ea1d9e77c124a0f3a98cbd75f2.png" />
</div>
</div>
<p><strong>Acelerómetro:</strong> La autocorrelación en <code class="docutils literal notranslate"><span class="pre">acc_z</span></code> muestra una periodicidad fuerte, probablemente asociada con la acción de soporte de la pierna izquierda al equilibrar el movimiento de la derecha. En <code class="docutils literal notranslate"><span class="pre">acc_x</span></code> y <code class="docutils literal notranslate"><span class="pre">acc_y</span></code>, los valores de autocorrelación son menores, lo que indica que las fuerzas laterales y longitudinales son menos significativas. En <code class="docutils literal notranslate"><span class="pre">acc_z</span></code>, el <strong>PACF</strong>, confirma que la estacionalidad es dominante y que los cambios en las observaciones están muy correlacionados con los pasos cíclicos del ejercicio.</p>
<p><strong>Giroscopio:</strong> Las autocorrelaciones en <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code> son relativamente más constantes, reflejando movimientos de rotación regulares en el tobillo izquierdo para estabilizar el cuerpo. En el PACF, los picos iniciales en <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code> refuerzan la idea de un movimiento rotacional rítmico y consistente en el eje vertical del tobillo izquierdo.</p>
<p>Para la unidad 1 (tobillo izquierdo), los datos indican que esta pierna cumple un rol de soporte durante el ejercicio, lo que se refleja en las dependencias cíclicas claras en acc_z, gyr_z y mag_z. Los movimientos rotacionales y cambios de orientación son menores pero regulares, contribuyendo al equilibrio y estabilidad del cuerpo mientras la pierna derecha realiza el movimiento principal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_corrs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8f0076aa22af0c122cee04e1442cdf717891ced2350170d7a66b89000efaede4.png" src="_images/8f0076aa22af0c122cee04e1442cdf717891ced2350170d7a66b89000efaede4.png" />
</div>
</div>
<p>La unidad 2 refleja directamente el movimiento principal del ejercicio. Las altas correlaciones en <code class="docutils literal notranslate"><span class="pre">acc_x</span></code>, <code class="docutils literal notranslate"><span class="pre">acc_z</span></code> y <code class="docutils literal notranslate"><span class="pre">gyr_z</span></code> destacan la importancia de los movimientos de elevación y rotación del tobillo derecho. Los patrones observados en <code class="docutils literal notranslate"><span class="pre">mag_z</span></code> confirman cambios constantes en la orientación durante el ejercicio. Estas gráficas validan que el tobillo derecho es el motor principal del movimiento en este ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_corrs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7d8671d7c02265ce1e36299d8d27037c5a953ef9a2f5c231097fa5e23403124d.png" src="_images/7d8671d7c02265ce1e36299d8d27037c5a953ef9a2f5c231097fa5e23403124d.png" />
</div>
</div>
<p>En la unidad 3, ubicada en la rodilla derecha, las ACF y PACF muestran patrones claros de dependencia en las señales de aceleración y giroscopio, especialmente en acc_x y gyr_z. Esto sugiere que esta unidad captura de manera consistente las dinámicas del movimiento cíclico de la pierna, particularmente en la extensión y flexión de la rodilla, lo cual es clave en este ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_corrs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/52ca7a6262ff6a4ab140c5b7f090ff723823ed36141c8e3a5fcee917ac0cbd1c.png" src="_images/52ca7a6262ff6a4ab140c5b7f090ff723823ed36141c8e3a5fcee917ac0cbd1c.png" />
</div>
</div>
<p>En el giroscopio, los datos son más puntuales y reflejan los ajustes menores de la pierna y el control del movimiento durante la postura. El magnetómetro tiene un patrón más atenuado, lo que podría deberse a las características estáticas del sensor en la rodilla.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_corrs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/124e6c32b5221274b16aeefa2d7774c499d6f3fb281e25f4ff84047c8d6a70c8.png" src="_images/124e6c32b5221274b16aeefa2d7774c499d6f3fb281e25f4ff84047c8d6a70c8.png" />
</div>
</div>
<p>La unidad 5 corresponde al sensor ubicado en el pecho, lo que implica que los datos reflejan el movimiento y la estabilización del torso durante el ejercicio. El ACF del acelerómetro muestra una alta correlación en los lags iniciales, disminuyendo gradualmente. Esto sugiere que los movimientos del torso tienen cierta periodicidad, probablemente reflejando el equilibrio y la estabilización del cuerpo mientras se realiza el ejercicio. En el giroscopio, el ACF cae rápidamente, lo que sugiere movimientos más puntuales y menos persistentes. Esto refleja que los giros del torso son mínimos y ocurren en momentos específicos (como para mantener el equilibrio), mientra sque el PACF muestra correlaciones significativas solo en los primeros lags, lo cual es coherente con los ajustes menores y breves en el torso.</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modelos">
<h1>Modelos<a class="headerlink" href="#modelos" title="Link to this heading">#</a></h1>
<section id="pliegues">
<h2>Pliegues<a class="headerlink" href="#pliegues" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">particiones</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">28</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pliegues</span> <span class="p">(</span><span class="n">inicio</span><span class="p">,</span> <span class="n">fin</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">]</span>
    <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span> <span class="o">+</span> <span class="n">sep</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span> <span class="o">+</span> <span class="n">sep</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">obtener_pligues_plot</span><span class="p">(</span><span class="n">isep</span><span class="p">):</span>
    <span class="n">plieguess</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
                <span class="n">variable</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span>
                <span class="n">X</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time index&#39;</span><span class="p">,</span><span class="s1">&#39;acc_x&#39;</span><span class="p">])</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">][</span><span class="s1">&#39;acc_x&#39;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">sep</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">isep</span><span class="p">,</span> <span class="n">isep</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">ti</span> <span class="ow">in</span> <span class="n">particiones</span><span class="p">:</span>
                        <span class="n">iniciotrain</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">while</span> <span class="p">(</span><span class="n">iniciotrain</span> <span class="o">+</span> <span class="n">ti</span> <span class="o">+</span> <span class="n">sep</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">]):</span>
                            <span class="n">fintrain</span> <span class="o">=</span> <span class="n">iniciotrain</span> <span class="o">+</span> <span class="n">ti</span> <span class="o">-</span> <span class="mi">1</span>
                            <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">pliegues</span> <span class="p">(</span><span class="n">iniciotrain</span><span class="p">,</span> <span class="n">fintrain</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                            <span class="n">plieguess</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">iniciotrain</span><span class="p">,</span> <span class="n">fintrain</span><span class="p">,</span> <span class="n">fintrain</span> <span class="o">+</span> <span class="n">sep</span><span class="p">,</span><span class="n">sep</span><span class="p">])</span>
                            <span class="n">iniciotrain</span> <span class="o">=</span> <span class="n">iniciotrain</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">plieguess</span>
</pre></div>
</div>
</div>
</div>
<p>Para la visualización de los pliegues, se tomó de ejemplo del primer sujeto con el primer ejercicio y la primera unidad.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_pliegues_inv</span><span class="p">(</span><span class="n">plieguess_df</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Grafica las primeras n particiones y resalta en rojo los segmentos de entrenamiento.</span>

<span class="sd">    Args:</span>
<span class="sd">        plieguess_df (pd.DataFrame): DataFrame con las columnas [&#39;inicio&#39;, &#39;fin&#39;, &#39;train&#39;, &#39;T&#39;].</span>
<span class="sd">        n (int): Número de particiones iniciales a graficar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">plieguess_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="n">n</span><span class="p">:]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;train&#39;</span><span class="p">],</span> <span class="n">xmin</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;inicio&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;fin&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Split&#39;</span> <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;train&#39;</span><span class="p">],</span> <span class="n">xmin</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;train&#39;</span><span class="p">],</span> <span class="n">xmax</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;train&#39;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Training&#39;</span> <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Índice Temporal&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Valores de Train&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">plieguess</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;inicio&#39;</span><span class="p">,</span> <span class="s1">&#39;fin&#39;</span><span class="p">,</span> <span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_pliegues</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/196e52b2293e521da1301a2bd65394f69f396ebf96fb2b5085b50914ec7a1d39.png" src="_images/196e52b2293e521da1301a2bd65394f69f396ebf96fb2b5085b50914ec7a1d39.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">obtener_pligues_plot</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;inicio&#39;</span><span class="p">,</span> <span class="s1">&#39;fin&#39;</span><span class="p">,</span> <span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_pliegues</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/099a42187039824c0ff2997ebdff2ad580aa038fa8a863dc5d533007407affae.png" src="_images/099a42187039824c0ff2997ebdff2ad580aa038fa8a863dc5d533007407affae.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">obtener_pligues_plot</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;inicio&#39;</span><span class="p">,</span> <span class="s1">&#39;fin&#39;</span><span class="p">,</span> <span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">])</span>
<span class="n">plot_pliegues</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/33cdbb73e7763b89e2c1fe5dac7b790e8ef7374b6b417af0fa7ad96627a27f5f.png" src="_images/33cdbb73e7763b89e2c1fe5dac7b790e8ef7374b6b417af0fa7ad96627a27f5f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">obtener_pligues_plot</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;inicio&#39;</span><span class="p">,</span> <span class="s1">&#39;fin&#39;</span><span class="p">,</span> <span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">])</span>
<span class="n">plot_pliegues_inv</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\Valen\AppData\Local\Temp\ipykernel_11160\759576281.py:19: UserWarning: No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
  plt.legend()
</pre></div>
</div>
<img alt="_images/7d3d82b81c675b3a9f9ba0d4164257068612fc4a1161145a810e83443904314f.png" src="_images/7d3d82b81c675b3a9f9ba0d4164257068612fc4a1161145a810e83443904314f.png" />
</div>
</div>
<p>Por cuestiones de tiempo, se limitó la realización de los modelos a un solo sujeto. Además de que se modificó la función de los pliegues para hacerla por segundos, es decir, 25 registros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pliegues_25</span> <span class="p">(</span><span class="n">inicio</span><span class="p">,</span> <span class="n">fin</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">]</span>
    <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span><span class="o">*</span><span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span><span class="o">*</span><span class="mi">25</span><span class="p">)],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span><span class="o">*</span><span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span><span class="o">*</span><span class="mi">25</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">errorporc</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">predicho</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">actual</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">actual</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">predicho</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">/</span> <span class="n">actual</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">predicho</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>

<span class="k">def</span> <span class="nf">MAPE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">errorporc</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_true</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_pred</span><span class="p">))))</span><span class="o">*</span><span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<p>Este proceso se puede resumir con el siguiente código, para tomar el mejor modelo por cada variable del dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mejor_modelo</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="n">best_models</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">model_data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
        <span class="n">modelodata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">model_data</span><span class="p">)</span>
        <span class="n">modelodata</span> <span class="o">=</span> <span class="n">modelodata</span><span class="p">[</span><span class="n">modelodata</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">e</span><span class="p">]</span>
        <span class="n">modelodata</span> <span class="o">=</span> <span class="n">modelodata</span><span class="p">[</span><span class="n">modelodata</span><span class="p">[</span><span class="s1">&#39;R^2&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">modelodata</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">modelodata</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
            <span class="n">best_model</span> <span class="o">=</span> <span class="n">modelodata</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
                <span class="n">modelodata</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Modelo&#39;</span><span class="p">,</span> <span class="s1">&#39;Unidad&#39;</span><span class="p">])[</span><span class="s1">&#39;RMSE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmin</span><span class="p">()</span>
            <span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">best_models</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">best_model</span><span class="p">)</span>

    <span class="n">all_best_models</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">best_models</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;level_0&#39;</span><span class="p">:</span> <span class="s1">&#39;Variable_Index&#39;</span><span class="p">})</span>
    <span class="k">return</span> <span class="n">all_best_models</span>
</pre></div>
</div>
</div>
</div>
<p>Además, se presentan funcioes útiles para el análisis de los resultados obtenidos por los modelos.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="mejores-modelos-finales-por-ejercicio-unidad-y-variable">
<h1>Mejores modelos finales por ejercicio, unidad y variable<a class="headerlink" href="#mejores-modelos-finales-por-ejercicio-unidad-y-variable" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive/&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mounted at /content/drive/
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="s2">&quot;/content/drive/My Drive/data-mlpar3&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/content/drive/.shortcut-targets-by-id/1TiL2HS-l5J0x3ow3MDYYlYLi7vP1sUSQ/data-mlpar3
</pre></div>
</div>
</div>
</div>
<p>Fueron ejecutados en una maquina virtual con el siguiente código.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
            <span class="n">var_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="n">var_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">rf</span><span class="s1">&#39;fisioterapia_dataset_regresion/s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">/e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">/u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">/template_session.txt&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;;&#39;</span><span class="p">)</span>

<span class="n">templates</span> <span class="o">=</span> <span class="p">{</span><span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)}</span>

<span class="k">def</span> <span class="nf">pliegues_25</span><span class="p">(</span><span class="n">inicio</span><span class="p">,</span> <span class="n">fin</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">inicio</span><span class="p">:</span><span class="n">fin</span><span class="p">]</span>
    <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span><span class="p">:</span><span class="n">fin</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span>

<span class="k">def</span> <span class="nf">errorporc</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">predicho</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">actual</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="k">if</span> <span class="n">actual</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">actual</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">predicho</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">/</span> <span class="n">actual</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">predicho</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>

<span class="k">def</span> <span class="nf">MAPE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">errorporc</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_true</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_pred</span><span class="p">))))</span> <span class="o">*</span> <span class="mi">100</span>


<span class="k">def</span> <span class="nf">run_model</span><span class="p">(</span><span class="n">objetivo</span><span class="p">,</span> <span class="n">modelo_elegido</span><span class="p">):</span>
    <span class="n">metricas</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">param_grids</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;lineal&#39;</span><span class="p">:</span> <span class="p">{},</span>  <span class="c1"># No hay hiperparámetros para Lineal</span>
        <span class="s1">&#39;lasso&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">&#39;ridge&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
            <span class="s1">&#39;max_iter&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1000</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">&#39;knn&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;n_neighbors&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
            <span class="s1">&#39;weights&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="s1">&#39;distance&#39;</span><span class="p">],</span>
            <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">&#39;random_forest&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">],</span>
            <span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">&#39;svr&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;kernel&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="s1">&#39;rbf&#39;</span><span class="p">],</span>
            <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="s1">&#39;xgboost&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;learning_rate&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
            <span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">],</span>
            <span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">procesar_comb</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">ti</span><span class="p">,</span> <span class="n">modelo_elegido</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">objetivo</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time index&#39;</span><span class="p">,</span> <span class="n">objetivo</span><span class="p">])</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">][</span><span class="n">objetivo</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;knn&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;lineal&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;lasso&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">Lasso</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;ridge&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">Ridge</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">XGBRegressor</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;svr&#39;</span><span class="p">:</span>
            <span class="n">modelo_base</span> <span class="o">=</span> <span class="n">SVR</span><span class="p">()</span>

        <span class="n">param_grid</span> <span class="o">=</span> <span class="n">param_grids</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">modelo_elegido</span><span class="p">,</span> <span class="p">{})</span>
        <span class="n">param_combinations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ParameterGrid</span><span class="p">(</span><span class="n">param_grid</span><span class="p">))</span> <span class="k">if</span> <span class="n">param_grid</span> <span class="k">else</span> <span class="p">[{}]</span>

        <span class="n">resultado_local</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">params</span> <span class="ow">in</span> <span class="n">param_combinations</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">conjunto_test_total</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">conjunto_validacion_total</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">total_rmse_val</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">total_mape_val</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">total_r2_val</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">total_ljungbox_pvalue</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">total_jarquebera_pvalue</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">errores_train</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">errores_val</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">errores_test</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="n">modelo</span> <span class="o">=</span> <span class="n">modelo_base</span><span class="o">.</span><span class="n">set_params</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>

            <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">ti</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">*</span> <span class="mi">7</span><span class="p">)</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
                <span class="n">fin_train</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">ti</span> <span class="o">*</span> <span class="mi">25</span>
                <span class="n">fin_val</span> <span class="o">=</span> <span class="n">fin_train</span> <span class="o">+</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">25</span>
                <span class="n">fin_test</span> <span class="o">=</span> <span class="n">fin_val</span> <span class="o">+</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">25</span>

                <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">fin_train</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">fin_train</span><span class="p">]</span>
                <span class="n">X_val</span><span class="p">,</span> <span class="n">y_val</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_train</span><span class="p">:</span><span class="n">fin_val</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_train</span><span class="p">:</span><span class="n">fin_val</span><span class="p">]</span>
                <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_val</span><span class="p">:</span><span class="n">fin_test</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_val</span><span class="p">:</span><span class="n">fin_test</span><span class="p">]</span>

                <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

                <span class="n">y_pred_val</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_val</span><span class="p">)</span>
                <span class="n">y_pred_test</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

                <span class="n">rmse_val</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">rmse_test</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

                <span class="n">errores_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_val</span><span class="p">)</span>
                <span class="n">errores_test</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_test</span><span class="p">)</span>

                <span class="n">residuos_val</span> <span class="o">=</span> <span class="n">y_val</span> <span class="o">-</span> <span class="n">y_pred_val</span>
                <span class="n">ljungbox_result</span> <span class="o">=</span> <span class="n">acorr_ljungbox</span><span class="p">(</span><span class="n">residuos_val</span><span class="p">,</span> <span class="n">lags</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="n">return_df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">ljungbox_pvalue</span> <span class="o">=</span> <span class="n">ljungbox_result</span><span class="p">[</span><span class="s1">&#39;lb_pvalue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">jarque_bera_result</span> <span class="o">=</span> <span class="n">jarque_bera</span><span class="p">(</span><span class="n">residuos_val</span><span class="p">)</span>
                <span class="n">jarquebera_pvalue</span> <span class="o">=</span> <span class="n">jarque_bera_result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

                <span class="n">total_rmse_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_val</span><span class="p">)</span>
                <span class="n">total_mape_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">MAPE</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">))</span>
                <span class="n">total_r2_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r2_score</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">))</span>
                <span class="n">total_ljungbox_pvalue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ljungbox_pvalue</span><span class="p">)</span>
                <span class="n">total_jarquebera_pvalue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jarquebera_pvalue</span><span class="p">)</span>

                <span class="n">conjunto_test_total</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>

                <span class="n">start</span> <span class="o">+=</span> <span class="n">fin_test</span>

            <span class="n">promedio_rmse_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_rmse_val</span><span class="p">)</span>
            <span class="n">promedio_mape_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_mape_val</span><span class="p">)</span>
            <span class="n">promedio_r2_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_r2_val</span><span class="p">)</span>
            <span class="n">promedio_ljungbox_pvalue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_ljungbox_pvalue</span><span class="p">)</span>
            <span class="n">promedio_jarquebera_pvalue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_jarquebera_pvalue</span><span class="p">)</span>

            <span class="n">resultado_local</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s1">&#39;Modelo&#39;</span><span class="p">:</span> <span class="n">modelo_elegido</span><span class="p">,</span>
                    <span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">:</span> <span class="n">params</span><span class="p">,</span>
                    <span class="s1">&#39;Segundos&#39;</span><span class="p">:</span> <span class="n">ti</span><span class="p">,</span>
                    <span class="s1">&#39;Separación&#39;</span><span class="p">:</span> <span class="n">sep</span><span class="p">,</span>
                    <span class="s1">&#39;Unidad&#39;</span><span class="p">:</span> <span class="n">variable</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;u&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                    <span class="s1">&#39;Ejercicio&#39;</span><span class="p">:</span> <span class="n">variable</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;e&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                    <span class="s1">&#39;MAPE&#39;</span><span class="p">:</span> <span class="n">promedio_mape_val</span><span class="p">,</span>
                    <span class="s1">&#39;RMSE&#39;</span><span class="p">:</span> <span class="n">promedio_rmse_val</span><span class="p">,</span>
                    <span class="s1">&#39;R^2&#39;</span><span class="p">:</span> <span class="n">promedio_r2_val</span><span class="p">,</span>
                    <span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">:</span> <span class="n">promedio_ljungbox_pvalue</span><span class="p">,</span>
                    <span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">:</span> <span class="n">promedio_jarquebera_pvalue</span><span class="p">,</span>
                    <span class="s1">&#39;Objetivo&#39;</span><span class="p">:</span> <span class="n">objetivo</span><span class="p">,</span>
                    <span class="s1">&#39;Predicciones&#39;</span><span class="p">:</span> <span class="n">conjunto_test_total</span>
                <span class="p">})</span>

        <span class="k">return</span> <span class="n">resultado_local</span>

    <span class="n">resultados</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s1">&#39;loky&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">2</span><span class="p">)(</span>
        <span class="n">delayed</span><span class="p">(</span><span class="n">procesar_comb</span><span class="p">)(</span><span class="sa">f</span><span class="s1">&#39;s</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s1">e</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">u</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">ti</span><span class="p">,</span> <span class="n">modelo_elegido</span><span class="p">,</span> <span class="n">objetivo</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">sep</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ti</span> <span class="ow">in</span> <span class="n">particiones</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">resultados</span><span class="p">:</span>
        <span class="n">metricas</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">metricas</span>


<span class="n">columnas</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gyr_x&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_x&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">]</span>

<span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lineal&#39;</span><span class="p">,</span><span class="s1">&#39;lasso&#39;</span><span class="p">,</span><span class="s1">&#39;ridge&#39;</span><span class="p">,</span><span class="s1">&#39;svr&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">,</span> <span class="s1">&#39;knn&#39;</span><span class="p">]</span>

<span class="n">particiones</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">28</span><span class="p">]</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">for modelo in modelos:</span>
<span class="sd">    modelo_results = []</span>
<span class="sd">    for col in columnas:</span>
<span class="sd">        modelo_results.append(run_model(col, modelo))</span>

<span class="sd">    pickle_file_path = f&quot;modelos/{modelo}_ff.pkl&quot;</span>
<span class="sd">    with open(pickle_file_path, &#39;wb&#39;) as file:</span>
<span class="sd">        pickle.dump(modelo_results, file)</span>
<span class="sd">    print(f&quot;Resultados del modelo &#39;{modelo}&#39; guardados en {pickle_file_path}.&quot;)</span>

<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\nfor modelo in modelos:\n    modelo_results = []\n    for col in columnas:\n        modelo_results.append(run_model(col, modelo))\n\n    pickle_file_path = f&quot;modelos/{modelo}_ff.pkl&quot;\n    with open(pickle_file_path, \&#39;wb\&#39;) as file:\n        pickle.dump(modelo_results, file)\n    print(f&quot;Resultados del modelo \&#39;{modelo}\&#39; guardados en {pickle_file_path}.&quot;)\n\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lineal&#39;</span><span class="p">,</span> <span class="s1">&#39;ridge&#39;</span><span class="p">,</span> <span class="s1">&#39;lasso&#39;</span><span class="p">,</span> <span class="s1">&#39;svr&#39;</span><span class="p">,</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;knn&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">modelos</span><span class="p">:</span>
    <span class="n">pickle_file_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_ff.pkl&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s1">_varmodel&#39;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">pickle_file_path</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="nb">globals</span><span class="p">()[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Resultados del modelo &#39;</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">&#39; cargados correctamente.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Archivo &#39;</span><span class="si">{</span><span class="n">pickle_file_path</span><span class="si">}</span><span class="s2">&#39; no encontrado.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error al cargar &#39;</span><span class="si">{</span><span class="n">pickle_file_path</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Resultados del modelo &#39;lineal&#39; cargados correctamente.
Resultados del modelo &#39;ridge&#39; cargados correctamente.
Resultados del modelo &#39;lasso&#39; cargados correctamente.
Resultados del modelo &#39;svr&#39; cargados correctamente.
Resultados del modelo &#39;random_forest&#39; cargados correctamente.
Resultados del modelo &#39;xgboost&#39; cargados correctamente.
Resultados del modelo &#39;knn&#39; cargados correctamente.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mejores_modelos</span><span class="p">(</span><span class="n">ejercicio</span><span class="p">,</span> <span class="n">indice</span><span class="p">):</span>
    <span class="n">modelos_positivos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lineal&#39;</span><span class="p">,</span> <span class="s1">&#39;ridge&#39;</span><span class="p">,</span> <span class="s1">&#39;lasso&#39;</span><span class="p">,</span> <span class="s1">&#39;svr&#39;</span><span class="p">,</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;knn&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">modelos</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s1">_varmodel&#39;</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="n">key</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">indice</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">ejercicio</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;R^2&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">modelos_positivos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">df_modelos_positivos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">modelos_positivos</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df_modelos_positivos</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mejores_modelos</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span> <span class="s1">&#39;RMSE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Predicciones&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mejores_modelos</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span> <span class="s1">&#39;MAPE&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-408d1cec-5688-47de-9def-c7ff362fc50b" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>R^2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
      <th>Objetivo</th>
      <th>Predicciones</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>230</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>98.091224</td>
      <td>0.017196</td>
      <td>0.232975</td>
      <td>0.324761</td>
      <td>0.533079</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.01646, 'y_pred': 0.02169762}, {'...</td>
    </tr>
    <tr>
      <th>169</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>98.547920</td>
      <td>0.017284</td>
      <td>0.254626</td>
      <td>0.337996</td>
      <td>0.539178</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.097889, 'y_pred': 0.0397648}, {'...</td>
    </tr>
    <tr>
      <th>168</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>99.389691</td>
      <td>0.017065</td>
      <td>0.310151</td>
      <td>0.334766</td>
      <td>0.536550</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.097889, 'y_pred': 0.038046446}, ...</td>
    </tr>
    <tr>
      <th>176</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>100.393590</td>
      <td>0.017408</td>
      <td>0.240280</td>
      <td>0.337893</td>
      <td>0.513389</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.097889, 'y_pred': 0.036083452}, ...</td>
    </tr>
    <tr>
      <th>223</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>100.447735</td>
      <td>0.017116</td>
      <td>0.231732</td>
      <td>0.323948</td>
      <td>0.561753</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.01646, 'y_pred': 0.015632726}, {...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>245</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>731.510090</td>
      <td>0.024409</td>
      <td>0.022197</td>
      <td>0.329701</td>
      <td>0.618546</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.00716, 'y_pred': 0.0076966453}, ...</td>
    </tr>
    <tr>
      <th>243</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>744.784799</td>
      <td>0.024190</td>
      <td>0.023098</td>
      <td>0.338914</td>
      <td>0.618086</td>
      <td>gyr_y</td>
      <td>[{'y_real': -0.003531, 'y_pred': 0.0044662254}...</td>
    </tr>
    <tr>
      <th>242</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>770.853517</td>
      <td>0.024101</td>
      <td>0.016559</td>
      <td>0.345387</td>
      <td>0.585617</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.037106, 'y_pred': 0.07025526}, {...</td>
    </tr>
    <tr>
      <th>246</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>804.119991</td>
      <td>0.023857</td>
      <td>0.023288</td>
      <td>0.349939</td>
      <td>0.636744</td>
      <td>gyr_y</td>
      <td>[{'y_real': 0.00716, 'y_pred': 0.008411847}, {...</td>
    </tr>
    <tr>
      <th>244</th>
      <td>xgboost</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>829.076260</td>
      <td>0.023643</td>
      <td>0.037110</td>
      <td>0.359312</td>
      <td>0.625847</td>
      <td>gyr_y</td>
      <td>[{'y_real': -0.003531, 'y_pred': 0.00050275854...</td>
    </tr>
  </tbody>
</table>
<p>247 rows × 13 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-408d1cec-5688-47de-9def-c7ff362fc50b')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-408d1cec-5688-47de-9def-c7ff362fc50b button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-408d1cec-5688-47de-9def-c7ff362fc50b');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-09819712-42e9-442e-8cb9-a0de0fab537a">
  <button class="colab-df-quickchart" onclick="quickchart('df-09819712-42e9-442e-8cb9-a0de0fab537a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-09819712-42e9-442e-8cb9-a0de0fab537a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">modeloespecifico</span><span class="p">(</span><span class="n">ejercicio</span><span class="p">,</span> <span class="n">unidad</span><span class="p">,</span> <span class="n">ti</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">modelo_elegido</span><span class="p">,</span> <span class="n">hyperparams</span><span class="p">,</span> <span class="n">objetivo</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">MAPE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">y_true</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="n">variable</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;s1e</span><span class="si">{</span><span class="n">ejercicio</span><span class="si">}</span><span class="s1">u</span><span class="si">{</span><span class="n">unidad</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="k">if</span> <span class="n">variable</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">templates</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Variable </span><span class="si">{</span><span class="n">variable</span><span class="si">}</span><span class="s2"> no encontrada en templates&quot;</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;time index&#39;</span><span class="p">,</span> <span class="n">objetivo</span><span class="p">])</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">templates</span><span class="p">[</span><span class="n">variable</span><span class="p">][</span><span class="n">objetivo</span><span class="p">]</span>

    <span class="n">start</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">resultados</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">conjunto_test_total</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">conjunto_validacion_total</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">conjunto_entrenamiento</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">total_rmse_val</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">total_mape_val</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">total_r2_val</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">total_ljungbox_pvalue</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">total_jarquebera_pvalue</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">errores_train</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">errores_val</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">errores_test</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">ti</span> <span class="o">+</span> <span class="n">sep</span> <span class="o">*</span> <span class="mi">7</span><span class="p">)</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;knn&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;lineal&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;lasso&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">Lasso</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;ridge&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">Ridge</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">RandomForestRegressor</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">XGBRegressor</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">modelo_elegido</span> <span class="o">==</span> <span class="s1">&#39;svr&#39;</span><span class="p">:</span>
            <span class="n">modelo</span> <span class="o">=</span> <span class="n">SVR</span><span class="p">(</span><span class="o">**</span><span class="n">hyperparams</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Modelo </span><span class="si">{</span><span class="n">modelo_elegido</span><span class="si">}</span><span class="s2"> no soportado&quot;</span><span class="p">)</span>

        <span class="n">fin_train</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">ti</span> <span class="o">*</span> <span class="mi">25</span>
        <span class="n">fin_val</span> <span class="o">=</span> <span class="n">fin_train</span> <span class="o">+</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">25</span>
        <span class="n">fin_test</span> <span class="o">=</span> <span class="n">fin_val</span> <span class="o">+</span> <span class="mi">7</span> <span class="o">*</span> <span class="mi">25</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span>

        <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">fin_train</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">fin_train</span><span class="p">]</span>
        <span class="n">X_val</span><span class="p">,</span> <span class="n">y_val</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_train</span><span class="p">:</span><span class="n">fin_val</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_train</span><span class="p">:</span><span class="n">fin_val</span><span class="p">]</span>
        <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_val</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span><span class="p">:</span><span class="n">fin_test</span><span class="p">],</span> <span class="n">y</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">fin_val</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span> <span class="p">:</span><span class="n">fin_test</span><span class="p">]</span>

        <span class="n">modelo</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

        <span class="n">y_pred_train</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
        <span class="n">y_pred_val</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_val</span><span class="p">)</span>
        <span class="n">y_pred_test</span> <span class="o">=</span> <span class="n">modelo</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

        <span class="n">rmse_train</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">y_pred_train</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">rmse_val</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">rmse_test</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">errores_train</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_train</span><span class="p">)</span>
        <span class="n">errores_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_val</span><span class="p">)</span>
        <span class="n">errores_test</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_test</span><span class="p">)</span>

        <span class="n">residuos_val</span> <span class="o">=</span> <span class="n">y_val</span> <span class="o">-</span> <span class="n">y_pred_val</span>
        <span class="n">ljungbox_result</span> <span class="o">=</span> <span class="n">acorr_ljungbox</span><span class="p">(</span><span class="n">residuos_val</span><span class="p">,</span> <span class="n">lags</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="n">return_df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ljungbox_pvalue</span> <span class="o">=</span> <span class="n">ljungbox_result</span><span class="p">[</span><span class="s1">&#39;lb_pvalue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">jarque_bera_result</span> <span class="o">=</span> <span class="n">jarque_bera</span><span class="p">(</span><span class="n">residuos_val</span><span class="p">)</span>
        <span class="n">jarquebera_pvalue</span> <span class="o">=</span> <span class="n">jarque_bera_result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">total_rmse_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rmse_val</span><span class="p">)</span>
        <span class="n">total_mape_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">MAPE</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">))</span>
        <span class="n">total_r2_val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r2_score</span><span class="p">(</span><span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">))</span>
        <span class="n">total_ljungbox_pvalue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ljungbox_pvalue</span><span class="p">)</span>
        <span class="n">total_jarquebera_pvalue</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jarquebera_pvalue</span><span class="p">)</span>

        <span class="n">conjunto_test_total</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_test</span><span class="p">))</span>
        <span class="n">conjunto_validacion_total</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">y_val</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y_val</span><span class="p">,</span> <span class="n">y_pred_val</span><span class="p">))</span>
        <span class="n">conjunto_entrenamiento</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_pred_train</span><span class="p">))</span>

        <span class="n">start</span> <span class="o">+=</span> <span class="n">fin_test</span> <span class="o">+</span> <span class="p">(</span><span class="n">sep</span> <span class="o">*</span> <span class="mi">25</span><span class="p">)</span> <span class="o">-</span> <span class="mi">24</span>

    <span class="n">promedio_rmse_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_rmse_val</span><span class="p">)</span>
    <span class="n">promedio_mape_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_mape_val</span><span class="p">)</span>
    <span class="n">promedio_r2_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_r2_val</span><span class="p">)</span>
    <span class="n">promedio_ljungbox_pvalue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_ljungbox_pvalue</span><span class="p">)</span>
    <span class="n">promedio_jarquebera_pvalue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">total_jarquebera_pvalue</span><span class="p">)</span>

    <span class="n">resultado</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Modelo&#39;</span><span class="p">:</span> <span class="n">modelo_elegido</span><span class="p">,</span>
        <span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">:</span> <span class="n">hyperparams</span><span class="p">,</span>
        <span class="s1">&#39;RMSE_Validación&#39;</span><span class="p">:</span> <span class="n">promedio_rmse_val</span><span class="p">,</span>
        <span class="s1">&#39;MAPE_Validación&#39;</span><span class="p">:</span> <span class="n">promedio_mape_val</span><span class="p">,</span>
        <span class="s1">&#39;R2_Validación&#39;</span><span class="p">:</span> <span class="n">promedio_r2_val</span><span class="p">,</span>
        <span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">:</span> <span class="n">promedio_ljungbox_pvalue</span><span class="p">,</span>
        <span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">:</span> <span class="n">promedio_jarquebera_pvalue</span><span class="p">,</span>
        <span class="s1">&#39;Ejercicio&#39;</span><span class="p">:</span> <span class="n">ejercicio</span><span class="p">,</span>
        <span class="s1">&#39;Unidad&#39;</span><span class="p">:</span> <span class="n">unidad</span>
    <span class="p">}</span>
    <span class="n">resultados</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">errores_train</span><span class="p">,</span> <span class="n">errores_val</span><span class="p">,</span> <span class="n">errores_test</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;train&#39;</span><span class="p">,</span> <span class="s1">&#39;validación&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;RMSE&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Boxplots de los errores para train, validación y test&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">resultados</span><span class="p">,</span> <span class="n">conjunto_test_total</span><span class="p">,</span> <span class="n">conjunto_validacion_total</span><span class="p">,</span> <span class="n">conjunto_entrenamiento</span>
</pre></div>
</div>
</div>
</div>
<p>Para todos los ejercicios en general, se hará uso de la siguiente función para obtener el mejor modelo por ejercicio, en cada unidad y cada variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bm_eu</span><span class="p">(</span><span class="n">ejercicio</span><span class="p">,</span> <span class="n">unidad</span><span class="p">,</span> <span class="n">templates</span><span class="o">=</span><span class="n">templates</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">MAPE</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="n">y_true</span> <span class="o">-</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">/</span> <span class="n">y_true</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

    <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gyr_x&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_x&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">]</span>
    <span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lineal&#39;</span><span class="p">,</span> <span class="s1">&#39;ridge&#39;</span><span class="p">,</span> <span class="s1">&#39;lasso&#39;</span><span class="p">,</span> <span class="s1">&#39;svr&#39;</span><span class="p">,</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;knn&#39;</span><span class="p">]</span>
    <span class="n">mejores_resultados</span> <span class="o">=</span> <span class="p">{</span><span class="n">var</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Modelo&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;R2&#39;</span><span class="p">:</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;MAPE&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;RMSE&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Segundos&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Separación&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">variables</span><span class="p">}</span>

    <span class="k">for</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">modelos</span><span class="p">:</span>
        <span class="n">resultados_modelo</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_varmodel&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">variable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">variables</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">resultado</span> <span class="ow">in</span> <span class="n">resultados_modelo</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">ejercicio</span> <span class="ow">and</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">unidad</span><span class="p">:</span>
                    <span class="n">predicciones</span> <span class="o">=</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Predicciones&#39;</span><span class="p">]</span>
                    <span class="n">y_real</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">pred</span><span class="p">[</span><span class="s1">&#39;y_real&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">predicciones</span><span class="p">])</span>
                    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">pred</span><span class="p">[</span><span class="s1">&#39;y_pred&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">pred</span> <span class="ow">in</span> <span class="n">predicciones</span><span class="p">])</span>

                    <span class="n">r2_val</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_real</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
                    <span class="n">rmse_val</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_real</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                    <span class="n">mape_val</span> <span class="o">=</span> <span class="n">MAPE</span><span class="p">(</span><span class="n">y_real</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">r2_val</span> <span class="o">&gt;</span> <span class="n">mejores_resultados</span><span class="p">[</span><span class="n">variable</span><span class="p">][</span><span class="s1">&#39;R2&#39;</span><span class="p">]:</span>
                        <span class="n">mejores_resultados</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;Modelo&#39;</span><span class="p">:</span> <span class="n">modelo</span><span class="p">,</span>
                            <span class="s1">&#39;R2&#39;</span><span class="p">:</span> <span class="n">r2_val</span><span class="p">,</span>
                            <span class="s1">&#39;MAPE&#39;</span><span class="p">:</span> <span class="n">mape_val</span><span class="p">,</span>
                            <span class="s1">&#39;RMSE&#39;</span><span class="p">:</span> <span class="n">rmse_val</span><span class="p">,</span>
                            <span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span>
                            <span class="s1">&#39;Segundos&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Segundos&#39;</span><span class="p">],</span>
                            <span class="s1">&#39;Separación&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">]</span>
                        <span class="p">}</span>

    <span class="k">return</span> <span class="n">mejores_resultados</span>
</pre></div>
</div>
</div>
</div>
<section id="ejercicio-1">
<h2>Ejercicio 1<a class="headerlink" href="#ejercicio-1" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-56f58e24-011a-435d-a479-f9898c56d140" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.878669</td>
      <td>2.341633</td>
      <td>0.002064</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>random_forest</td>
      <td>0.651354</td>
      <td>8.894334</td>
      <td>0.041813</td>
      <td>{'max_depth': None, 'n_estimators': 100}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.554418</td>
      <td>0.178535</td>
      <td>0.001054</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.225632</td>
      <td>0.107073</td>
      <td>0.000793</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.121907</td>
      <td>0.143141</td>
      <td>0.017356</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>xgboost</td>
      <td>0.091835</td>
      <td>1.614234</td>
      <td>0.036943</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.030541</td>
      <td>442.326823</td>
      <td>0.009529</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>lineal</td>
      <td>0.010044</td>
      <td>1005.800203</td>
      <td>0.008278</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>ridge</td>
      <td>0.00384</td>
      <td>350.553394</td>
      <td>0.010646</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-56f58e24-011a-435d-a479-f9898c56d140')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-56f58e24-011a-435d-a479-f9898c56d140 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-56f58e24-011a-435d-a479-f9898c56d140');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-1ce16589-c116-498e-8a87-26fa6e44b354">
  <button class="colab-df-quickchart" onclick="quickchart('df-1ce16589-c116-498e-8a87-26fa6e44b354')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-1ce16589-c116-498e-8a87-26fa6e44b354 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-868bc7ec-f61a-4924-b39d-a7b0c8aa5374" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>xgboost</td>
      <td>0.999622</td>
      <td>7.349916</td>
      <td>0.007591</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>random_forest</td>
      <td>0.999177</td>
      <td>0.276066</td>
      <td>0.00316</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>xgboost</td>
      <td>0.998943</td>
      <td>4.922022</td>
      <td>0.109617</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.995781</td>
      <td>4.605045</td>
      <td>0.217153</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.995262</td>
      <td>20.29772</td>
      <td>0.072016</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.991048</td>
      <td>93.610371</td>
      <td>0.006333</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.97618</td>
      <td>188.951293</td>
      <td>0.076481</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.972456</td>
      <td>102.951212</td>
      <td>0.019433</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>knn</td>
      <td>0.375398</td>
      <td>223.432405</td>
      <td>0.031063</td>
      <td>{'n_neighbors': 7, 'p': 1, 'weights': 'distance'}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-868bc7ec-f61a-4924-b39d-a7b0c8aa5374')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-868bc7ec-f61a-4924-b39d-a7b0c8aa5374 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-868bc7ec-f61a-4924-b39d-a7b0c8aa5374');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-fef68075-0aa6-4148-8ae3-596f03064ab6">
  <button class="colab-df-quickchart" onclick="quickchart('df-fef68075-0aa6-4148-8ae3-596f03064ab6')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-fef68075-0aa6-4148-8ae3-596f03064ab6 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-19f3b9cf-7ec6-4f56-bdb6-67953d890d4a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.996104</td>
      <td>0.093908</td>
      <td>0.000919</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.995561</td>
      <td>0.866818</td>
      <td>0.002445</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.990482</td>
      <td>1.029023</td>
      <td>0.042911</td>
      <td>{}</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.984651</td>
      <td>2.994386</td>
      <td>0.004745</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.975879</td>
      <td>4.713129</td>
      <td>0.078973</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.565477</td>
      <td>0.408741</td>
      <td>0.059843</td>
      <td>{}</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.55575</td>
      <td>583.011174</td>
      <td>0.029147</td>
      <td>{'max_depth': None, 'n_estimators': 100}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.481003</td>
      <td>710.744189</td>
      <td>0.041675</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>21</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.128685</td>
      <td>599.639738</td>
      <td>0.066988</td>
      <td>{'max_depth': 10, 'n_estimators': 50}</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-19f3b9cf-7ec6-4f56-bdb6-67953d890d4a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-19f3b9cf-7ec6-4f56-bdb6-67953d890d4a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-19f3b9cf-7ec6-4f56-bdb6-67953d890d4a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-4d69720b-0ebe-4da3-ae9c-dca51b9380a7">
  <button class="colab-df-quickchart" onclick="quickchart('df-4d69720b-0ebe-4da3-ae9c-dca51b9380a7')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-4d69720b-0ebe-4da3-ae9c-dca51b9380a7 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-d588c8f9-3c7a-447a-a374-867c0f98cd40" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.95071</td>
      <td>0.167546</td>
      <td>0.001156</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.945566</td>
      <td>0.154262</td>
      <td>0.001099</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.829055</td>
      <td>1.014459</td>
      <td>0.039432</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.770159</td>
      <td>0.811112</td>
      <td>0.025086</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>random_forest</td>
      <td>0.762195</td>
      <td>336.5872</td>
      <td>0.002442</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.572349</td>
      <td>0.220261</td>
      <td>0.026075</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.050502</td>
      <td>175.252144</td>
      <td>0.014406</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.022377</td>
      <td>445.533394</td>
      <td>0.011817</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.011335</td>
      <td>284.32941</td>
      <td>0.009102</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-d588c8f9-3c7a-447a-a374-867c0f98cd40')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-d588c8f9-3c7a-447a-a374-867c0f98cd40 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-d588c8f9-3c7a-447a-a374-867c0f98cd40');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-4a20ae3a-8adf-403c-bd3c-ea8577ae0368">
  <button class="colab-df-quickchart" onclick="quickchart('df-4a20ae3a-8adf-403c-bd3c-ea8577ae0368')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-4a20ae3a-8adf-403c-bd3c-ea8577ae0368 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-2dc6debe-f193-4a9d-8c2b-5b66ceb9c266" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.953947</td>
      <td>0.429908</td>
      <td>0.001256</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.934376</td>
      <td>0.266746</td>
      <td>0.016198</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.903357</td>
      <td>0.080801</td>
      <td>0.000737</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.8862</td>
      <td>0.259018</td>
      <td>0.013739</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.878048</td>
      <td>60.518529</td>
      <td>0.00126</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.83022</td>
      <td>0.115969</td>
      <td>0.011268</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>lineal</td>
      <td>0.142536</td>
      <td>182.049748</td>
      <td>0.01532</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.142326</td>
      <td>186.348465</td>
      <td>0.008091</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lasso</td>
      <td>0.000389</td>
      <td>382.017151</td>
      <td>0.008164</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>21</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-2dc6debe-f193-4a9d-8c2b-5b66ceb9c266')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-2dc6debe-f193-4a9d-8c2b-5b66ceb9c266 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-2dc6debe-f193-4a9d-8c2b-5b66ceb9c266');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-b8ebdaaf-3e4f-4205-b479-a682451f0ba4">
  <button class="colab-df-quickchart" onclick="quickchart('df-b8ebdaaf-3e4f-4205-b479-a682451f0ba4')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-b8ebdaaf-3e4f-4205-b479-a682451f0ba4 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-2">
<h2>Ejercicio 2<a class="headerlink" href="#ejercicio-2" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-e7a78062-cc44-441e-8259-8c3683d19bec" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.947579</td>
      <td>2.242315</td>
      <td>0.004348</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.882769</td>
      <td>3.529433</td>
      <td>0.085037</td>
      <td>{}</td>
      <td>21</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.867466</td>
      <td>0.09188</td>
      <td>0.000931</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.863455</td>
      <td>0.878428</td>
      <td>0.002504</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.784997</td>
      <td>0.799128</td>
      <td>0.043022</td>
      <td>{}</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>random_forest</td>
      <td>0.725215</td>
      <td>0.254228</td>
      <td>0.039926</td>
      <td>{'max_depth': None, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.337403</td>
      <td>168.420211</td>
      <td>0.012998</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.214623</td>
      <td>456.581368</td>
      <td>0.025079</td>
      <td>{'max_depth': None, 'n_estimators': 50}</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.107965</td>
      <td>205.275857</td>
      <td>0.021693</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e7a78062-cc44-441e-8259-8c3683d19bec')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e7a78062-cc44-441e-8259-8c3683d19bec button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e7a78062-cc44-441e-8259-8c3683d19bec');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-d60ca478-fb5b-4a6d-99a2-739ea5d530f3">
  <button class="colab-df-quickchart" onclick="quickchart('df-d60ca478-fb5b-4a6d-99a2-739ea5d530f3')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-d60ca478-fb5b-4a6d-99a2-739ea5d530f3 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-4d252dc3-4888-458b-aa41-5c661d7c9ae2" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.977468</td>
      <td>0.46371</td>
      <td>0.001961</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.967872</td>
      <td>0.08821</td>
      <td>0.000803</td>
      <td>{}</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.895055</td>
      <td>2.755321</td>
      <td>0.054441</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.799007</td>
      <td>155.402729</td>
      <td>0.00412</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>svr</td>
      <td>0.759924</td>
      <td>3.16975</td>
      <td>0.07568</td>
      <td>{'C': 10, 'kernel': 'linear'}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>knn</td>
      <td>0.23235</td>
      <td>0.252481</td>
      <td>0.063523</td>
      <td>{'n_neighbors': 3, 'p': 1, 'weights': 'distance'}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.219314</td>
      <td>179.605345</td>
      <td>0.016634</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.162056</td>
      <td>162.291575</td>
      <td>0.022695</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>knn</td>
      <td>0.021894</td>
      <td>inf</td>
      <td>0.027171</td>
      <td>{'n_neighbors': 5, 'p': 1, 'weights': 'distance'}</td>
      <td>14</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-4d252dc3-4888-458b-aa41-5c661d7c9ae2')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-4d252dc3-4888-458b-aa41-5c661d7c9ae2 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-4d252dc3-4888-458b-aa41-5c661d7c9ae2');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-d88154e7-4b89-4748-abb0-4519c6a90086">
  <button class="colab-df-quickchart" onclick="quickchart('df-d88154e7-4b89-4748-abb0-4519c6a90086')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-d88154e7-4b89-4748-abb0-4519c6a90086 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-c4891391-d52d-40e8-a983-61aeb3d619ce" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.994292</td>
      <td>0.101247</td>
      <td>0.000883</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.992055</td>
      <td>0.448251</td>
      <td>0.001848</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.979212</td>
      <td>47.636825</td>
      <td>0.053381</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.938668</td>
      <td>2.958711</td>
      <td>0.00374</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.619224</td>
      <td>2.851811</td>
      <td>0.067841</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.340656</td>
      <td>263.248538</td>
      <td>0.046505</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>ridge</td>
      <td>0.304138</td>
      <td>177.728796</td>
      <td>0.022203</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.290274</td>
      <td>211.936216</td>
      <td>0.016084</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.047109</td>
      <td>0.282774</td>
      <td>0.046749</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c4891391-d52d-40e8-a983-61aeb3d619ce')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c4891391-d52d-40e8-a983-61aeb3d619ce button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c4891391-d52d-40e8-a983-61aeb3d619ce');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-65b88eec-b1c0-4f56-848b-f947b387caaa">
  <button class="colab-df-quickchart" onclick="quickchart('df-65b88eec-b1c0-4f56-848b-f947b387caaa')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-65b88eec-b1c0-4f56-848b-f947b387caaa button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-481c2f73-6064-46f3-9df3-fde129f0e7d2" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>xgboost</td>
      <td>0.997332</td>
      <td>5.026869</td>
      <td>0.006938</td>
      <td>{'learning_rate': 0.1, 'max_depth': 7, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>xgboost</td>
      <td>0.997267</td>
      <td>0.416426</td>
      <td>0.003385</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.995376</td>
      <td>10.612844</td>
      <td>0.137448</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.974258</td>
      <td>1.059266</td>
      <td>0.004571</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>svr</td>
      <td>0.933625</td>
      <td>0.728757</td>
      <td>0.092705</td>
      <td>{'C': 1, 'kernel': 'rbf'}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.923348</td>
      <td>5.390916</td>
      <td>0.062795</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.808137</td>
      <td>599.778954</td>
      <td>0.098095</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.780603</td>
      <td>1083.128374</td>
      <td>0.044579</td>
      <td>{'max_depth': None, 'n_estimators': 50}</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.410775</td>
      <td>271.592841</td>
      <td>0.016567</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-481c2f73-6064-46f3-9df3-fde129f0e7d2')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-481c2f73-6064-46f3-9df3-fde129f0e7d2 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-481c2f73-6064-46f3-9df3-fde129f0e7d2');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-38282998-3f1a-44a4-93b5-6c65050b5951">
  <button class="colab-df-quickchart" onclick="quickchart('df-38282998-3f1a-44a4-93b5-6c65050b5951')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-38282998-3f1a-44a4-93b5-6c65050b5951 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-449e3e49-0e59-44ec-836f-615b81fdf650" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.985038</td>
      <td>0.109868</td>
      <td>0.000916</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.984919</td>
      <td>0.256353</td>
      <td>0.001289</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.924604</td>
      <td>1.423001</td>
      <td>0.003045</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.891671</td>
      <td>0.488031</td>
      <td>0.046437</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.886922</td>
      <td>0.27541</td>
      <td>0.034466</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.845206</td>
      <td>1.318312</td>
      <td>0.041924</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>random_forest</td>
      <td>0.27189</td>
      <td>1319.861913</td>
      <td>0.024696</td>
      <td>{'max_depth': 20, 'n_estimators': 50}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.164381</td>
      <td>150.682239</td>
      <td>0.021707</td>
      <td>{'max_depth': 20, 'n_estimators': 50}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>ridge</td>
      <td>0.155534</td>
      <td>297.447887</td>
      <td>0.013961</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-449e3e49-0e59-44ec-836f-615b81fdf650')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-449e3e49-0e59-44ec-836f-615b81fdf650 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-449e3e49-0e59-44ec-836f-615b81fdf650');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-97d689e6-734a-443f-9757-65006ad3b34e">
  <button class="colab-df-quickchart" onclick="quickchart('df-97d689e6-734a-443f-9757-65006ad3b34e')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-97d689e6-734a-443f-9757-65006ad3b34e button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-3">
<h2>Ejercicio 3<a class="headerlink" href="#ejercicio-3" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-38802c45-370a-4066-9f6a-7c41f373ddc9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.952735</td>
      <td>0.1118</td>
      <td>0.000882</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.947512</td>
      <td>1.195896</td>
      <td>0.026964</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.942804</td>
      <td>0.157713</td>
      <td>0.000978</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.938015</td>
      <td>0.960835</td>
      <td>0.001487</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.917712</td>
      <td>138.420854</td>
      <td>0.020028</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.521322</td>
      <td>0.163856</td>
      <td>0.02125</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.115371</td>
      <td>373.727016</td>
      <td>0.007715</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.098198</td>
      <td>175.113441</td>
      <td>0.019128</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.046527</td>
      <td>374.498126</td>
      <td>0.009092</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-38802c45-370a-4066-9f6a-7c41f373ddc9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-38802c45-370a-4066-9f6a-7c41f373ddc9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-38802c45-370a-4066-9f6a-7c41f373ddc9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-ed6a55b7-6576-4d3c-9fe3-4fd46a15ab55">
  <button class="colab-df-quickchart" onclick="quickchart('df-ed6a55b7-6576-4d3c-9fe3-4fd46a15ab55')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-ed6a55b7-6576-4d3c-9fe3-4fd46a15ab55 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-5f119ef6-f09e-4ed8-9878-90b9a93ad869" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>random_forest</td>
      <td>0.999423</td>
      <td>0.208486</td>
      <td>0.001704</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>random_forest</td>
      <td>0.999363</td>
      <td>0.468049</td>
      <td>0.002472</td>
      <td>{'max_depth': 20, 'n_estimators': 100}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>random_forest</td>
      <td>0.997532</td>
      <td>1.80049</td>
      <td>0.081865</td>
      <td>{'max_depth': 20, 'n_estimators': 100}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.936894</td>
      <td>58.410885</td>
      <td>0.008399</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.936098</td>
      <td>3.881375</td>
      <td>0.136373</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>ridge</td>
      <td>0.903621</td>
      <td>124.809032</td>
      <td>0.020692</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>random_forest</td>
      <td>0.899045</td>
      <td>1.893474</td>
      <td>0.252043</td>
      <td>{'max_depth': 20, 'n_estimators': 50}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.852025</td>
      <td>625.022558</td>
      <td>0.070242</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.633852</td>
      <td>373.579148</td>
      <td>0.049848</td>
      <td>{'max_depth': 20, 'n_estimators': 100}</td>
      <td>21</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-5f119ef6-f09e-4ed8-9878-90b9a93ad869')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-5f119ef6-f09e-4ed8-9878-90b9a93ad869 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-5f119ef6-f09e-4ed8-9878-90b9a93ad869');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-11bf4f92-3838-467f-b1cf-010fad1c19e2">
  <button class="colab-df-quickchart" onclick="quickchart('df-11bf4f92-3838-467f-b1cf-010fad1c19e2')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-11bf4f92-3838-467f-b1cf-010fad1c19e2 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-b7169ace-a79f-4da1-9292-5f6a20c6a62d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>random_forest</td>
      <td>0.99909</td>
      <td>0.295345</td>
      <td>0.002185</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>xgboost</td>
      <td>0.998942</td>
      <td>0.392533</td>
      <td>0.002574</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.997595</td>
      <td>38.542544</td>
      <td>0.068809</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>random_forest</td>
      <td>0.882604</td>
      <td>0.959706</td>
      <td>0.137981</td>
      <td>{'max_depth': 20, 'n_estimators': 100}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>ridge</td>
      <td>0.841323</td>
      <td>148.504415</td>
      <td>0.013617</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>random_forest</td>
      <td>0.836118</td>
      <td>15.761356</td>
      <td>0.171631</td>
      <td>{'max_depth': None, 'n_estimators': 150}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.312876</td>
      <td>282.036952</td>
      <td>0.135639</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.293746</td>
      <td>1057.07116</td>
      <td>0.067266</td>
      <td>{'max_depth': None, 'n_estimators': 50}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>knn</td>
      <td>0.231943</td>
      <td>517.312615</td>
      <td>0.047506</td>
      <td>{'n_neighbors': 7, 'p': 1, 'weights': 'distance'}</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-b7169ace-a79f-4da1-9292-5f6a20c6a62d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-b7169ace-a79f-4da1-9292-5f6a20c6a62d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-b7169ace-a79f-4da1-9292-5f6a20c6a62d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-4daeef82-18f1-4816-887c-1920497cec58">
  <button class="colab-df-quickchart" onclick="quickchart('df-4daeef82-18f1-4816-887c-1920497cec58')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-4daeef82-18f1-4816-887c-1920497cec58 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-6ecdbada-5106-4eae-97d2-f369a0aeff0a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.994368</td>
      <td>0.923299</td>
      <td>0.002593</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.992766</td>
      <td>0.147913</td>
      <td>0.001045</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.974785</td>
      <td>1.093472</td>
      <td>0.08414</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.971019</td>
      <td>0.30204</td>
      <td>0.001409</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.953919</td>
      <td>0.620335</td>
      <td>0.074165</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.871329</td>
      <td>38.906698</td>
      <td>0.054586</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>ridge</td>
      <td>0.237168</td>
      <td>291.297979</td>
      <td>0.018429</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>lineal</td>
      <td>0.209847</td>
      <td>250.386298</td>
      <td>0.035465</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.152487</td>
      <td>266.468255</td>
      <td>0.020397</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6ecdbada-5106-4eae-97d2-f369a0aeff0a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6ecdbada-5106-4eae-97d2-f369a0aeff0a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6ecdbada-5106-4eae-97d2-f369a0aeff0a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-f55a9c90-7f26-4d64-9f0d-e6212ac118af">
  <button class="colab-df-quickchart" onclick="quickchart('df-f55a9c90-7f26-4d64-9f0d-e6212ac118af')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-f55a9c90-7f26-4d64-9f0d-e6212ac118af button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-d5bab7bf-b470-4ed3-84e0-939e77ddae4a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.97189</td>
      <td>540.220357</td>
      <td>0.03326</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.97079</td>
      <td>6.082988</td>
      <td>0.00212</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.959898</td>
      <td>0.237896</td>
      <td>0.001189</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.932629</td>
      <td>0.108142</td>
      <td>0.00092</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.89482</td>
      <td>144.354646</td>
      <td>0.030299</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.409659</td>
      <td>0.218687</td>
      <td>0.030158</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.10707</td>
      <td>305.908405</td>
      <td>0.025281</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.080957</td>
      <td>196.354878</td>
      <td>0.011664</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.062966</td>
      <td>157.563951</td>
      <td>0.008609</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-d5bab7bf-b470-4ed3-84e0-939e77ddae4a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-d5bab7bf-b470-4ed3-84e0-939e77ddae4a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-d5bab7bf-b470-4ed3-84e0-939e77ddae4a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-d3788e3c-1484-45c9-8696-b6b4d72821a9">
  <button class="colab-df-quickchart" onclick="quickchart('df-d3788e3c-1484-45c9-8696-b6b4d72821a9')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-d3788e3c-1484-45c9-8696-b6b4d72821a9 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-4">
<h2>Ejercicio 4<a class="headerlink" href="#ejercicio-4" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-f77dcaa4-5b4f-4daf-ad7a-cc8724ecbe44" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.888751</td>
      <td>1.730776</td>
      <td>0.002316</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.836863</td>
      <td>2.660134</td>
      <td>0.047834</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.813978</td>
      <td>0.110884</td>
      <td>0.000929</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.700765</td>
      <td>0.114215</td>
      <td>0.000816</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.672162</td>
      <td>1.620264</td>
      <td>0.021802</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>xgboost</td>
      <td>0.531165</td>
      <td>0.382846</td>
      <td>0.10833</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.215279</td>
      <td>320.111552</td>
      <td>0.009557</td>
      <td>{'max_depth': None, 'n_estimators': 50}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.141745</td>
      <td>165.534046</td>
      <td>0.00745</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.131027</td>
      <td>200.641421</td>
      <td>0.023999</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-f77dcaa4-5b4f-4daf-ad7a-cc8724ecbe44')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-f77dcaa4-5b4f-4daf-ad7a-cc8724ecbe44 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-f77dcaa4-5b4f-4daf-ad7a-cc8724ecbe44');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-03757035-3eed-4dd6-8894-e2fb824f5205">
  <button class="colab-df-quickchart" onclick="quickchart('df-03757035-3eed-4dd6-8894-e2fb824f5205')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-03757035-3eed-4dd6-8894-e2fb824f5205 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-00e70a44-6d93-4497-bd2a-9dc1a42c8a29" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.996107</td>
      <td>0.787821</td>
      <td>0.00408</td>
      <td>{}</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.993666</td>
      <td>0.358368</td>
      <td>0.002951</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.993565</td>
      <td>29.442998</td>
      <td>0.093123</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.975246</td>
      <td>1.308938</td>
      <td>0.00627</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.778218</td>
      <td>7.432416</td>
      <td>0.221067</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.586925</td>
      <td>655.34785</td>
      <td>0.105097</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>xgboost</td>
      <td>0.57778</td>
      <td>2.791719</td>
      <td>0.449208</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.518864</td>
      <td>210.807334</td>
      <td>0.040552</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.434233</td>
      <td>287.914692</td>
      <td>0.075654</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-00e70a44-6d93-4497-bd2a-9dc1a42c8a29')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-00e70a44-6d93-4497-bd2a-9dc1a42c8a29 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-00e70a44-6d93-4497-bd2a-9dc1a42c8a29');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-671845f5-129f-4542-8661-3326440871ab">
  <button class="colab-df-quickchart" onclick="quickchart('df-671845f5-129f-4542-8661-3326440871ab')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-671845f5-129f-4542-8661-3326440871ab button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-9b44afc8-e3d9-499c-af05-d348f6d7ce6d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.993773</td>
      <td>25.50222</td>
      <td>0.091863</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>xgboost</td>
      <td>0.99342</td>
      <td>1.122503</td>
      <td>0.005281</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>xgboost</td>
      <td>0.990913</td>
      <td>0.363678</td>
      <td>0.003292</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.974212</td>
      <td>3.957227</td>
      <td>0.010604</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.917822</td>
      <td>27.772116</td>
      <td>0.193673</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.73589</td>
      <td>1.441837</td>
      <td>0.20356</td>
      <td>{}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.55785</td>
      <td>1170.569508</td>
      <td>0.122264</td>
      <td>{'max_depth': 10, 'n_estimators': 50}</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.519342</td>
      <td>787.088542</td>
      <td>0.075953</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>knn</td>
      <td>0.434566</td>
      <td>315.995313</td>
      <td>0.038166</td>
      <td>{'n_neighbors': 7, 'p': 2, 'weights': 'distance'}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-9b44afc8-e3d9-499c-af05-d348f6d7ce6d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-9b44afc8-e3d9-499c-af05-d348f6d7ce6d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-9b44afc8-e3d9-499c-af05-d348f6d7ce6d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-0d0ed5a5-b527-4faa-b5c2-a32cceedec38">
  <button class="colab-df-quickchart" onclick="quickchart('df-0d0ed5a5-b527-4faa-b5c2-a32cceedec38')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-0d0ed5a5-b527-4faa-b5c2-a32cceedec38 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-7c90051d-1894-41d9-b598-934310396d1a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.974448</td>
      <td>2.107526</td>
      <td>0.002786</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.970272</td>
      <td>0.454333</td>
      <td>0.001587</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.969727</td>
      <td>0.109618</td>
      <td>0.000919</td>
      <td>{}</td>
      <td>14</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.968782</td>
      <td>2.42627</td>
      <td>0.038856</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.94666</td>
      <td>1.398878</td>
      <td>0.035786</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.554179</td>
      <td>0.215325</td>
      <td>0.029929</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.189888</td>
      <td>1396.633735</td>
      <td>0.029819</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.18254</td>
      <td>126.653311</td>
      <td>0.018222</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.100338</td>
      <td>187.978025</td>
      <td>0.011847</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>14</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-7c90051d-1894-41d9-b598-934310396d1a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-7c90051d-1894-41d9-b598-934310396d1a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-7c90051d-1894-41d9-b598-934310396d1a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-4fa19695-ed1a-4375-ad9b-f5a3937376dc">
  <button class="colab-df-quickchart" onclick="quickchart('df-4fa19695-ed1a-4375-ad9b-f5a3937376dc')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-4fa19695-ed1a-4375-ad9b-f5a3937376dc button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-ee36c617-a7ae-4a52-811d-249596fdeb7d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.979717</td>
      <td>0.85188</td>
      <td>0.026085</td>
      <td>{}</td>
      <td>21</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.978569</td>
      <td>44.571011</td>
      <td>0.001942</td>
      <td>{}</td>
      <td>21</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.932017</td>
      <td>0.195147</td>
      <td>0.000988</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.926634</td>
      <td>0.089808</td>
      <td>0.000801</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.881146</td>
      <td>2.38815</td>
      <td>0.017412</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.379697</td>
      <td>0.361308</td>
      <td>0.067161</td>
      <td>{}</td>
      <td>21</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.189229</td>
      <td>346.164151</td>
      <td>0.018068</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.080472</td>
      <td>385.06504</td>
      <td>0.010074</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.024588</td>
      <td>159.542098</td>
      <td>0.006584</td>
      <td>{'learning_rate': 0.1, 'max_depth': 7, 'n_esti...</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ee36c617-a7ae-4a52-811d-249596fdeb7d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ee36c617-a7ae-4a52-811d-249596fdeb7d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ee36c617-a7ae-4a52-811d-249596fdeb7d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-27814e09-c42e-46b7-8f58-2bfbfeef1cf4">
  <button class="colab-df-quickchart" onclick="quickchart('df-27814e09-c42e-46b7-8f58-2bfbfeef1cf4')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-27814e09-c42e-46b7-8f58-2bfbfeef1cf4 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-5">
<h2>Ejercicio 5<a class="headerlink" href="#ejercicio-5" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-b5b1ee03-7ab7-4345-be76-e5a9c937fe87" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.984979</td>
      <td>0.179156</td>
      <td>0.001067</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.982293</td>
      <td>1.900741</td>
      <td>0.002264</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.979979</td>
      <td>0.681508</td>
      <td>0.02809</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.978672</td>
      <td>1.754564</td>
      <td>0.023317</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.978231</td>
      <td>0.121199</td>
      <td>0.001022</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.794712</td>
      <td>313.179077</td>
      <td>0.01045</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>ridge</td>
      <td>0.758162</td>
      <td>0.242092</td>
      <td>0.036142</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.686025</td>
      <td>220.716481</td>
      <td>0.025072</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.515546</td>
      <td>214.604955</td>
      <td>0.009182</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-b5b1ee03-7ab7-4345-be76-e5a9c937fe87')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-b5b1ee03-7ab7-4345-be76-e5a9c937fe87 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-b5b1ee03-7ab7-4345-be76-e5a9c937fe87');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-68e15bcf-6170-410a-92ea-54c80a80550d">
  <button class="colab-df-quickchart" onclick="quickchart('df-68e15bcf-6170-410a-92ea-54c80a80550d')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-68e15bcf-6170-410a-92ea-54c80a80550d button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-80d20c9d-ab03-4fa4-9c6b-37fdcc4557c3" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.994195</td>
      <td>0.935229</td>
      <td>0.006441</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.994023</td>
      <td>13.608876</td>
      <td>0.12398</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.981259</td>
      <td>0.664853</td>
      <td>0.006905</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.98084</td>
      <td>1.838693</td>
      <td>0.010278</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>xgboost</td>
      <td>0.962484</td>
      <td>3.468823</td>
      <td>0.25092</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.796187</td>
      <td>2.532987</td>
      <td>0.340495</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.486952</td>
      <td>657.965589</td>
      <td>0.163505</td>
      <td>{'learning_rate': 0.2, 'max_depth': 7, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.26102</td>
      <td>439.175737</td>
      <td>0.209509</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.070671</td>
      <td>242.857789</td>
      <td>0.037187</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>14</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-80d20c9d-ab03-4fa4-9c6b-37fdcc4557c3')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-80d20c9d-ab03-4fa4-9c6b-37fdcc4557c3 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-80d20c9d-ab03-4fa4-9c6b-37fdcc4557c3');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-eca0e9c2-6ea2-4f7f-a9bb-e43a971f1b0a">
  <button class="colab-df-quickchart" onclick="quickchart('df-eca0e9c2-6ea2-4f7f-a9bb-e43a971f1b0a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-eca0e9c2-6ea2-4f7f-a9bb-e43a971f1b0a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-b20aeca3-88d0-4cc7-99ff-2ea76f9a477a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.995652</td>
      <td>0.617118</td>
      <td>0.002855</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.994769</td>
      <td>0.235597</td>
      <td>0.002487</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.987754</td>
      <td>27.488779</td>
      <td>0.060986</td>
      <td>{}</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.920478</td>
      <td>33.091812</td>
      <td>0.008709</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.869423</td>
      <td>480.773997</td>
      <td>0.142461</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>knn</td>
      <td>0.526656</td>
      <td>352.219249</td>
      <td>0.050229</td>
      <td>{'n_neighbors': 5, 'p': 1, 'weights': 'distance'}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.444159</td>
      <td>1.106602</td>
      <td>0.179736</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.369106</td>
      <td>216.156326</td>
      <td>0.049372</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>knn</td>
      <td>0.24382</td>
      <td>265.536348</td>
      <td>0.086107</td>
      <td>{'n_neighbors': 7, 'p': 1, 'weights': 'distance'}</td>
      <td>14</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-b20aeca3-88d0-4cc7-99ff-2ea76f9a477a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-b20aeca3-88d0-4cc7-99ff-2ea76f9a477a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-b20aeca3-88d0-4cc7-99ff-2ea76f9a477a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-56b93573-c05c-42a2-82ad-059e94fc078a">
  <button class="colab-df-quickchart" onclick="quickchart('df-56b93573-c05c-42a2-82ad-059e94fc078a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-56b93573-c05c-42a2-82ad-059e94fc078a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-69ff3f99-5ca9-4553-9f67-e470abcfbe51" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.970457</td>
      <td>0.228801</td>
      <td>0.001265</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.954879</td>
      <td>0.159357</td>
      <td>0.00117</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.931791</td>
      <td>0.335049</td>
      <td>0.030843</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.91325</td>
      <td>0.514705</td>
      <td>0.015315</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.901377</td>
      <td>0.434798</td>
      <td>0.039075</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.8996</td>
      <td>0.363029</td>
      <td>0.001117</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>random_forest</td>
      <td>0.302301</td>
      <td>322.46439</td>
      <td>0.00929</td>
      <td>{'max_depth': None, 'n_estimators': 150}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.1701</td>
      <td>224.946363</td>
      <td>0.010574</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.045948</td>
      <td>249.772638</td>
      <td>0.019671</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>7</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-69ff3f99-5ca9-4553-9f67-e470abcfbe51')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-69ff3f99-5ca9-4553-9f67-e470abcfbe51 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-69ff3f99-5ca9-4553-9f67-e470abcfbe51');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-87f976da-6b20-40b8-9439-ab5c873a48d6">
  <button class="colab-df-quickchart" onclick="quickchart('df-87f976da-6b20-40b8-9439-ab5c873a48d6')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-87f976da-6b20-40b8-9439-ab5c873a48d6 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-2b6c565d-d23d-4189-bfde-f65d2e639231" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.962801</td>
      <td>0.271599</td>
      <td>0.001281</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.908854</td>
      <td>0.264704</td>
      <td>0.001572</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.857201</td>
      <td>0.747696</td>
      <td>0.016152</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.792631</td>
      <td>0.148592</td>
      <td>0.000905</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.720192</td>
      <td>0.376986</td>
      <td>0.039502</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.625456</td>
      <td>0.528717</td>
      <td>0.049344</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.275151</td>
      <td>230.003694</td>
      <td>0.010553</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>lineal</td>
      <td>0.219758</td>
      <td>278.420207</td>
      <td>0.020594</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.176328</td>
      <td>1291.915918</td>
      <td>0.011603</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>21</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-2b6c565d-d23d-4189-bfde-f65d2e639231')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-2b6c565d-d23d-4189-bfde-f65d2e639231 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-2b6c565d-d23d-4189-bfde-f65d2e639231');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-7c44908b-e28b-413d-9b97-041e34fd8a1a">
  <button class="colab-df-quickchart" onclick="quickchart('df-7c44908b-e28b-413d-9b97-041e34fd8a1a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-7c44908b-e28b-413d-9b97-041e34fd8a1a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-6">
<h2>Ejercicio 6<a class="headerlink" href="#ejercicio-6" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-296581b2-5e47-4b84-bc0f-478c6b57e4cf" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>acc_z</th>
      <td>xgboost</td>
      <td>0.673398</td>
      <td>3.236856</td>
      <td>0.018056</td>
      <td>{'learning_rate': 0.2, 'max_depth': 5, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>random_forest</td>
      <td>0.568087</td>
      <td>1.343582</td>
      <td>0.001232</td>
      <td>{'max_depth': 10, 'n_estimators': 100}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.552437</td>
      <td>0.205708</td>
      <td>0.000921</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>random_forest</td>
      <td>0.363832</td>
      <td>0.20925</td>
      <td>0.012316</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>xgboost</td>
      <td>0.315828</td>
      <td>0.077498</td>
      <td>0.010688</td>
      <td>{'learning_rate': 0.2, 'max_depth': 5, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.277698</td>
      <td>0.087577</td>
      <td>0.00076</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.205027</td>
      <td>203.609667</td>
      <td>0.006632</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.147478</td>
      <td>260.004119</td>
      <td>0.012072</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.103266</td>
      <td>738.577633</td>
      <td>0.0102</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-296581b2-5e47-4b84-bc0f-478c6b57e4cf')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-296581b2-5e47-4b84-bc0f-478c6b57e4cf button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-296581b2-5e47-4b84-bc0f-478c6b57e4cf');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-50193322-4a10-40b8-8b6d-b437f44a4428">
  <button class="colab-df-quickchart" onclick="quickchart('df-50193322-4a10-40b8-8b6d-b437f44a4428')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-50193322-4a10-40b8-8b6d-b437f44a4428 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-00224373-bfbd-45ff-b14c-ab20319dd46b" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>xgboost</td>
      <td>0.998241</td>
      <td>9.047744</td>
      <td>0.017436</td>
      <td>{'learning_rate': 0.2, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>svr</td>
      <td>0.997918</td>
      <td>15.672034</td>
      <td>0.306249</td>
      <td>{'C': 10, 'kernel': 'linear'}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>knn</td>
      <td>0.986435</td>
      <td>12.761003</td>
      <td>0.023099</td>
      <td>{'n_neighbors': 7, 'p': 2, 'weights': 'distance'}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.97347</td>
      <td>3.80761</td>
      <td>0.289614</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>ridge</td>
      <td>0.968117</td>
      <td>1.927595</td>
      <td>0.013727</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.966654</td>
      <td>2.9357</td>
      <td>0.162543</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>svr</td>
      <td>0.938229</td>
      <td>1839.850085</td>
      <td>0.086097</td>
      <td>{'C': 10, 'kernel': 'rbf'}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>svr</td>
      <td>0.937712</td>
      <td>384.261496</td>
      <td>0.193738</td>
      <td>{'C': 10, 'kernel': 'rbf'}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.178056</td>
      <td>386.051381</td>
      <td>0.121403</td>
      <td>{'learning_rate': 0.01, 'max_depth': 7, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-00224373-bfbd-45ff-b14c-ab20319dd46b')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-00224373-bfbd-45ff-b14c-ab20319dd46b button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-00224373-bfbd-45ff-b14c-ab20319dd46b');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-49300184-0962-42bd-a9e2-112095ff5612">
  <button class="colab-df-quickchart" onclick="quickchart('df-49300184-0962-42bd-a9e2-112095ff5612')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-49300184-0962-42bd-a9e2-112095ff5612 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-129f54a3-32cc-4f33-860f-5a87e88db6e8" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.996885</td>
      <td>0.209432</td>
      <td>0.001478</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.995859</td>
      <td>0.402548</td>
      <td>0.002027</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.992347</td>
      <td>0.47168</td>
      <td>0.002107</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.967444</td>
      <td>2.308652</td>
      <td>0.075502</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.956131</td>
      <td>1.262902</td>
      <td>0.092813</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.926408</td>
      <td>0.583681</td>
      <td>0.066717</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.46777</td>
      <td>654.639365</td>
      <td>0.029142</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.463582</td>
      <td>254.500853</td>
      <td>0.048329</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.367512</td>
      <td>242.420297</td>
      <td>0.047223</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-129f54a3-32cc-4f33-860f-5a87e88db6e8')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-129f54a3-32cc-4f33-860f-5a87e88db6e8 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-129f54a3-32cc-4f33-860f-5a87e88db6e8');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-2cf497bf-770a-40b8-9c62-5c295c743159">
  <button class="colab-df-quickchart" onclick="quickchart('df-2cf497bf-770a-40b8-9c62-5c295c743159')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-2cf497bf-770a-40b8-9c62-5c295c743159 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-038e7eb0-cda2-4888-8686-dd6f295121fe" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.989516</td>
      <td>0.105382</td>
      <td>0.000981</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.987468</td>
      <td>1.497913</td>
      <td>0.002882</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.987008</td>
      <td>0.44948</td>
      <td>0.034741</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.974356</td>
      <td>0.483611</td>
      <td>0.046383</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.958169</td>
      <td>0.447094</td>
      <td>0.001767</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.800526</td>
      <td>0.874338</td>
      <td>0.051851</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.217185</td>
      <td>230.990098</td>
      <td>0.017512</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.160263</td>
      <td>204.771426</td>
      <td>0.014259</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>lasso</td>
      <td>0.001477</td>
      <td>390.132444</td>
      <td>0.019918</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-038e7eb0-cda2-4888-8686-dd6f295121fe')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-038e7eb0-cda2-4888-8686-dd6f295121fe button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-038e7eb0-cda2-4888-8686-dd6f295121fe');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-95594652-c8e9-425c-afcb-373ab50419e8">
  <button class="colab-df-quickchart" onclick="quickchart('df-95594652-c8e9-425c-afcb-373ab50419e8')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-95594652-c8e9-425c-afcb-373ab50419e8 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-107768c6-cc0d-4ec3-8fcd-f55226b53021" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.952913</td>
      <td>0.157884</td>
      <td>0.00106</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.903609</td>
      <td>2.965798</td>
      <td>0.024812</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.901052</td>
      <td>0.153324</td>
      <td>0.001025</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.893973</td>
      <td>0.743086</td>
      <td>0.001882</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.810015</td>
      <td>0.730865</td>
      <td>0.038264</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.720781</td>
      <td>0.217362</td>
      <td>0.024767</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lineal</td>
      <td>0.061675</td>
      <td>155.671646</td>
      <td>0.008465</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.034598</td>
      <td>208.799492</td>
      <td>0.011465</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>21</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.015878</td>
      <td>488.640846</td>
      <td>0.013355</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-107768c6-cc0d-4ec3-8fcd-f55226b53021')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-107768c6-cc0d-4ec3-8fcd-f55226b53021 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-107768c6-cc0d-4ec3-8fcd-f55226b53021');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c3eb1993-c0ef-4d76-86ba-4c34e190eab1">
  <button class="colab-df-quickchart" onclick="quickchart('df-c3eb1993-c0ef-4d76-86ba-4c34e190eab1')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c3eb1993-c0ef-4d76-86ba-4c34e190eab1 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-7">
<h2>Ejercicio 7<a class="headerlink" href="#ejercicio-7" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-e155be92-a0dc-481a-a8ad-4129775e97db" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.956878</td>
      <td>0.354424</td>
      <td>0.001611</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.936865</td>
      <td>0.099034</td>
      <td>0.000894</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.899402</td>
      <td>0.921495</td>
      <td>0.044967</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.898896</td>
      <td>0.124317</td>
      <td>0.015455</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>random_forest</td>
      <td>0.565794</td>
      <td>58.001752</td>
      <td>0.042285</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>ridge</td>
      <td>0.377825</td>
      <td>3.626891</td>
      <td>0.002662</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.21503</td>
      <td>338.834094</td>
      <td>0.011458</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.153298</td>
      <td>280.348972</td>
      <td>0.022068</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>14</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.073464</td>
      <td>211.468831</td>
      <td>0.012372</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e155be92-a0dc-481a-a8ad-4129775e97db')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e155be92-a0dc-481a-a8ad-4129775e97db button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e155be92-a0dc-481a-a8ad-4129775e97db');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-97bf2e4f-0a71-4c40-9aaa-0d4967efceaa">
  <button class="colab-df-quickchart" onclick="quickchart('df-97bf2e4f-0a71-4c40-9aaa-0d4967efceaa')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-97bf2e4f-0a71-4c40-9aaa-0d4967efceaa button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-c3d389d7-2cc1-465b-b561-267a37be194e" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>ridge</td>
      <td>0.996546</td>
      <td>40.941133</td>
      <td>0.015185</td>
      <td>{'alpha': 10, 'max_iter': 1000}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>xgboost</td>
      <td>0.993087</td>
      <td>4.171699</td>
      <td>0.249906</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>ridge</td>
      <td>0.977067</td>
      <td>6.636813</td>
      <td>0.389415</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>xgboost</td>
      <td>0.962175</td>
      <td>1.933444</td>
      <td>0.019171</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>xgboost</td>
      <td>0.877989</td>
      <td>56.169548</td>
      <td>0.304858</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>xgboost</td>
      <td>0.801081</td>
      <td>6.820835</td>
      <td>0.027323</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.744764</td>
      <td>390.89945</td>
      <td>0.219096</td>
      <td>{'max_depth': 20, 'n_estimators': 50}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>random_forest</td>
      <td>0.695106</td>
      <td>1811.167826</td>
      <td>0.091975</td>
      <td>{'max_depth': 10, 'n_estimators': 100}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>svr</td>
      <td>0.339803</td>
      <td>408.197042</td>
      <td>0.240442</td>
      <td>{'C': 10, 'kernel': 'rbf'}</td>
      <td>21</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c3d389d7-2cc1-465b-b561-267a37be194e')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c3d389d7-2cc1-465b-b561-267a37be194e button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c3d389d7-2cc1-465b-b561-267a37be194e');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-6584e7be-e971-41f6-986e-7843ee9cc51c">
  <button class="colab-df-quickchart" onclick="quickchart('df-6584e7be-e971-41f6-986e-7843ee9cc51c')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-6584e7be-e971-41f6-986e-7843ee9cc51c button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-05b2c89a-198b-443b-a7a6-55421236b163" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>ridge</td>
      <td>0.996695</td>
      <td>3.571618</td>
      <td>0.012084</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.992076</td>
      <td>2.298308</td>
      <td>0.217376</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>xgboost</td>
      <td>0.991914</td>
      <td>1.609813</td>
      <td>0.010426</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>svr</td>
      <td>0.990867</td>
      <td>1839.705537</td>
      <td>0.180811</td>
      <td>{'C': 10, 'kernel': 'linear'}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>random_forest</td>
      <td>0.960095</td>
      <td>6.448995</td>
      <td>0.37702</td>
      <td>{'max_depth': 10, 'n_estimators': 50}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>xgboost</td>
      <td>0.836706</td>
      <td>5.804975</td>
      <td>0.030908</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.82759</td>
      <td>1017.534976</td>
      <td>0.149621</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.785777</td>
      <td>893.422727</td>
      <td>0.071382</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.502777</td>
      <td>332.686534</td>
      <td>0.19432</td>
      <td>{'max_depth': 20, 'n_estimators': 100}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-05b2c89a-198b-443b-a7a6-55421236b163')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-05b2c89a-198b-443b-a7a6-55421236b163 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-05b2c89a-198b-443b-a7a6-55421236b163');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-069e4802-7b1c-42a6-b355-447547a0e39f">
  <button class="colab-df-quickchart" onclick="quickchart('df-069e4802-7b1c-42a6-b355-447547a0e39f')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-069e4802-7b1c-42a6-b355-447547a0e39f button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-58fb773e-29d5-4d00-94e0-9ede6f8acbc3" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.983423</td>
      <td>3.427351</td>
      <td>0.08761</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>ridge</td>
      <td>0.98307</td>
      <td>0.885544</td>
      <td>0.006105</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.976308</td>
      <td>0.559548</td>
      <td>0.007955</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.945629</td>
      <td>13.77728</td>
      <td>0.01567</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.913206</td>
      <td>3.86098</td>
      <td>0.124785</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.699891</td>
      <td>0.905435</td>
      <td>0.1923</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>svr</td>
      <td>0.337509</td>
      <td>1393.641336</td>
      <td>0.115375</td>
      <td>{'C': 10, 'kernel': 'linear'}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.116016</td>
      <td>485.170337</td>
      <td>0.158903</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.017939</td>
      <td>607.760998</td>
      <td>0.180666</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-58fb773e-29d5-4d00-94e0-9ede6f8acbc3')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-58fb773e-29d5-4d00-94e0-9ede6f8acbc3 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-58fb773e-29d5-4d00-94e0-9ede6f8acbc3');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c46381ef-8eef-4762-a45f-39f49b6da526">
  <button class="colab-df-quickchart" onclick="quickchart('df-c46381ef-8eef-4762-a45f-39f49b6da526')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c46381ef-8eef-4762-a45f-39f49b6da526 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-3897ab91-9eab-4365-85e4-05e3ad4267ff" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.978554</td>
      <td>0.26324</td>
      <td>0.002083</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.952806</td>
      <td>0.262314</td>
      <td>0.002478</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.916917</td>
      <td>1.255416</td>
      <td>0.057648</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.85535</td>
      <td>21.561231</td>
      <td>0.01467</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.755725</td>
      <td>0.26045</td>
      <td>0.035592</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>random_forest</td>
      <td>0.641162</td>
      <td>35.997725</td>
      <td>0.120303</td>
      <td>{'max_depth': None, 'n_estimators': 100}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>ridge</td>
      <td>0.258285</td>
      <td>185.728309</td>
      <td>0.025846</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>ridge</td>
      <td>0.082773</td>
      <td>249.930545</td>
      <td>0.032745</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.080751</td>
      <td>375.569464</td>
      <td>0.095868</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>14</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3897ab91-9eab-4365-85e4-05e3ad4267ff')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3897ab91-9eab-4365-85e4-05e3ad4267ff button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3897ab91-9eab-4365-85e4-05e3ad4267ff');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-20558428-061c-48a3-beaf-97dbe6eca23d">
  <button class="colab-df-quickchart" onclick="quickchart('df-20558428-061c-48a3-beaf-97dbe6eca23d')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-20558428-061c-48a3-beaf-97dbe6eca23d button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="ejercicio-8">
<h2>Ejercicio 8<a class="headerlink" href="#ejercicio-8" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-03d62dc0-b0e3-4a6d-897d-5c2455fe6af4" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.960786</td>
      <td>1.122765</td>
      <td>0.001372</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.928003</td>
      <td>0.245541</td>
      <td>0.001091</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.926714</td>
      <td>0.250039</td>
      <td>0.019733</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.888319</td>
      <td>0.430855</td>
      <td>0.02623</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.743288</td>
      <td>0.096732</td>
      <td>0.000862</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.61787</td>
      <td>0.302822</td>
      <td>0.025947</td>
      <td>{}</td>
      <td>14</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>lineal</td>
      <td>0.087514</td>
      <td>inf</td>
      <td>0.011681</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>lineal</td>
      <td>0.081355</td>
      <td>412.1541</td>
      <td>0.014424</td>
      <td>{}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>lasso</td>
      <td>-0.000882</td>
      <td>198.39496</td>
      <td>0.009897</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-03d62dc0-b0e3-4a6d-897d-5c2455fe6af4')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-03d62dc0-b0e3-4a6d-897d-5c2455fe6af4 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-03d62dc0-b0e3-4a6d-897d-5c2455fe6af4');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-e5e76a65-64f1-4e5a-b4e1-d3bb5f15fcc5">
  <button class="colab-df-quickchart" onclick="quickchart('df-e5e76a65-64f1-4e5a-b4e1-d3bb5f15fcc5')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-e5e76a65-64f1-4e5a-b4e1-d3bb5f15fcc5 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-5e4d8298-bdd7-49a5-b3e8-2dfeb14dba1d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_z</th>
      <td>random_forest</td>
      <td>0.998812</td>
      <td>0.765684</td>
      <td>0.005665</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>random_forest</td>
      <td>0.998497</td>
      <td>10.289123</td>
      <td>0.009151</td>
      <td>{'max_depth': 10, 'n_estimators': 100}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>xgboost</td>
      <td>0.993584</td>
      <td>13.58315</td>
      <td>0.234833</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>svr</td>
      <td>0.972055</td>
      <td>4.703387</td>
      <td>0.333414</td>
      <td>{'C': 10, 'kernel': 'rbf'}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>ridge</td>
      <td>0.940826</td>
      <td>90.635693</td>
      <td>0.014776</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.93708</td>
      <td>2.321913</td>
      <td>0.167394</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>svr</td>
      <td>0.610856</td>
      <td>1451.492837</td>
      <td>0.0837</td>
      <td>{'C': 1, 'kernel': 'rbf'}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.538657</td>
      <td>515.594348</td>
      <td>0.338165</td>
      <td>{'max_depth': 20, 'n_estimators': 50}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.422238</td>
      <td>383.90923</td>
      <td>0.090945</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-5e4d8298-bdd7-49a5-b3e8-2dfeb14dba1d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-5e4d8298-bdd7-49a5-b3e8-2dfeb14dba1d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-5e4d8298-bdd7-49a5-b3e8-2dfeb14dba1d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-6ab5cb3f-279c-4f9a-8cdc-d65a2d6587f0">
  <button class="colab-df-quickchart" onclick="quickchart('df-6ab5cb3f-279c-4f9a-8cdc-d65a2d6587f0')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-6ab5cb3f-279c-4f9a-8cdc-d65a2d6587f0 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-efa94d23-f629-4f5a-8bca-6721f6e00bd0" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.989004</td>
      <td>4.824924</td>
      <td>0.009678</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.987672</td>
      <td>1.924245</td>
      <td>0.127448</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.986958</td>
      <td>15.44354</td>
      <td>0.008748</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.981408</td>
      <td>1.531691</td>
      <td>0.149185</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.97751</td>
      <td>1.479262</td>
      <td>0.119212</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.962896</td>
      <td>0.421486</td>
      <td>0.004913</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.806647</td>
      <td>378.639442</td>
      <td>0.070195</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>svr</td>
      <td>0.743051</td>
      <td>257.837932</td>
      <td>0.051073</td>
      <td>{'C': 10, 'kernel': 'rbf'}</td>
      <td>28</td>
      <td>3</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>random_forest</td>
      <td>0.40571</td>
      <td>257.279328</td>
      <td>0.134204</td>
      <td>{'max_depth': None, 'n_estimators': 150}</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-efa94d23-f629-4f5a-8bca-6721f6e00bd0')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-efa94d23-f629-4f5a-8bca-6721f6e00bd0 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-efa94d23-f629-4f5a-8bca-6721f6e00bd0');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-40b150f9-2c72-42f6-8248-80a4bb645f14">
  <button class="colab-df-quickchart" onclick="quickchart('df-40b150f9-2c72-42f6-8248-80a4bb645f14')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-40b150f9-2c72-42f6-8248-80a4bb645f14 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-f0a7cb21-032f-439d-9939-43ccdb91f9b4" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.99361</td>
      <td>1.725315</td>
      <td>0.076137</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.991403</td>
      <td>14.622342</td>
      <td>0.006166</td>
      <td>{}</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.985411</td>
      <td>0.994361</td>
      <td>0.004054</td>
      <td>{}</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.982789</td>
      <td>0.800748</td>
      <td>0.071466</td>
      <td>{}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.974848</td>
      <td>0.278133</td>
      <td>0.00295</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.944014</td>
      <td>0.481082</td>
      <td>0.069369</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>random_forest</td>
      <td>0.656634</td>
      <td>651.995276</td>
      <td>0.040731</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>random_forest</td>
      <td>0.468753</td>
      <td>279.407632</td>
      <td>0.053213</td>
      <td>{'max_depth': 10, 'n_estimators': 150}</td>
      <td>21</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>ridge</td>
      <td>0.197617</td>
      <td>289.544701</td>
      <td>0.083603</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
      <td>28</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-f0a7cb21-032f-439d-9939-43ccdb91f9b4')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-f0a7cb21-032f-439d-9939-43ccdb91f9b4 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-f0a7cb21-032f-439d-9939-43ccdb91f9b4');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-55e64474-1ccf-4efe-998e-23e3ac431fc1">
  <button class="colab-df-quickchart" onclick="quickchart('df-55e64474-1ccf-4efe-998e-23e3ac431fc1')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-55e64474-1ccf-4efe-998e-23e3ac431fc1 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bm_eu</span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="s1">&#39;5&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;R2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-c859468f-9dde-44e9-a647-e797a9bbc930" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>R2</th>
      <th>MAPE</th>
      <th>RMSE</th>
      <th>Hiperparámetros</th>
      <th>Segundos</th>
      <th>Separación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>mag_y</th>
      <td>lineal</td>
      <td>0.925998</td>
      <td>0.125574</td>
      <td>0.000812</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_y</th>
      <td>lineal</td>
      <td>0.914374</td>
      <td>0.300792</td>
      <td>0.014426</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_x</th>
      <td>lineal</td>
      <td>0.893019</td>
      <td>0.434132</td>
      <td>0.000922</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_x</th>
      <td>lineal</td>
      <td>0.89291</td>
      <td>0.572132</td>
      <td>0.013594</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>mag_z</th>
      <td>lineal</td>
      <td>0.887722</td>
      <td>0.137115</td>
      <td>0.000915</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>acc_z</th>
      <td>lineal</td>
      <td>0.631572</td>
      <td>0.196155</td>
      <td>0.022864</td>
      <td>{}</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_z</th>
      <td>xgboost</td>
      <td>0.160125</td>
      <td>161.673988</td>
      <td>0.006723</td>
      <td>{'learning_rate': 0.1, 'max_depth': 5, 'n_esti...</td>
      <td>28</td>
      <td>1</td>
    </tr>
    <tr>
      <th>gyr_y</th>
      <td>xgboost</td>
      <td>0.044578</td>
      <td>344.942863</td>
      <td>0.008265</td>
      <td>{'learning_rate': 0.01, 'max_depth': 5, 'n_est...</td>
      <td>28</td>
      <td>2</td>
    </tr>
    <tr>
      <th>gyr_x</th>
      <td>xgboost</td>
      <td>0.008172</td>
      <td>188.675613</td>
      <td>0.009067</td>
      <td>{'learning_rate': 0.01, 'max_depth': 3, 'n_est...</td>
      <td>28</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c859468f-9dde-44e9-a647-e797a9bbc930')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c859468f-9dde-44e9-a647-e797a9bbc930 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c859468f-9dde-44e9-a647-e797a9bbc930');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-208d0b28-fbc5-4b7a-b01d-42733a3c7c73">
  <button class="colab-df-quickchart" onclick="quickchart('df-208d0b28-fbc5-4b7a-b01d-42733a3c7c73')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-208d0b28-fbc5-4b7a-b01d-42733a3c7c73 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="analisis-de-modelos-elegidos">
<h1>Análisis de modelos elegidos<a class="headerlink" href="#analisis-de-modelos-elegidos" title="Link to this heading">#</a></h1>
<p>Debido a la gran cantidad de modelos construidos, se seleccionaron cinco (uno de cada tipo de modelo requerido) para realizar el análisis profundo de las predicciones realizadas y residuos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">seleccionar_mejores_modelos</span><span class="p">(</span><span class="n">templates</span><span class="o">=</span><span class="n">templates</span><span class="p">):</span>
    <span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;knn&#39;</span><span class="p">,</span> <span class="s1">&#39;lineal&#39;</span><span class="p">,</span> <span class="s1">&#39;lasso&#39;</span><span class="p">,</span> <span class="s1">&#39;ridge&#39;</span><span class="p">,</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;svr&#39;</span><span class="p">]</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;gyr_x&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_y&#39;</span><span class="p">,</span> <span class="s1">&#39;gyr_z&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_y&#39;</span><span class="p">,</span> <span class="s1">&#39;acc_z&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_x&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_y&#39;</span><span class="p">,</span> <span class="s1">&#39;mag_z&#39;</span><span class="p">]</span>
    <span class="n">mejores_resultados</span> <span class="o">=</span> <span class="p">{</span><span class="n">modelo</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Variable&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;R2&#39;</span><span class="p">:</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">),</span> <span class="s1">&#39;Unidad&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Ejercicio&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span> <span class="k">for</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">modelos</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">modelo</span> <span class="ow">in</span> <span class="n">modelos</span><span class="p">:</span>
        <span class="n">resultados_modelo</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">modelo</span><span class="si">}</span><span class="s2">_varmodel&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">variable</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">variables</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">resultado</span> <span class="ow">in</span> <span class="n">resultados_modelo</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">r2_val</span> <span class="o">=</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;R^2&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">r2_val</span> <span class="o">&gt;</span> <span class="n">mejores_resultados</span><span class="p">[</span><span class="n">modelo</span><span class="p">][</span><span class="s1">&#39;R2&#39;</span><span class="p">]:</span>
                    <span class="n">mejores_resultados</span><span class="p">[</span><span class="n">modelo</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;Variable&#39;</span><span class="p">:</span> <span class="n">variable</span><span class="p">,</span>
                        <span class="s1">&#39;R2&#39;</span><span class="p">:</span> <span class="n">r2_val</span><span class="p">,</span>
                        <span class="s1">&#39;Unidad&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;Ejercicio&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;Separación&#39;</span><span class="p">:</span><span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;Ventana&#39;</span><span class="p">:</span><span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Segundos&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                        <span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">:</span> <span class="n">resultado</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="p">}</span>
    <span class="n">df_mejores_modelos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">mejores_resultados</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;R2&#39;</span><span class="p">,</span> <span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">,</span> <span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">])</span>
    <span class="n">df_mejores_modelos</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df_mejores_modelos</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="s1">&#39;Modelo&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df_mejores_modelos</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">seleccionar_mejores_modelos</span><span class="p">()</span>
<span class="n">temp</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-52270d8f-8b0a-4ac7-989e-9021679ce996" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>knn</td>
      <td>acc_y</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>28</td>
      <td>{'n_neighbors': 7, 'p': 1, 'weights': 'distance'}</td>
    </tr>
    <tr>
      <th>1</th>
      <td>lineal</td>
      <td>mag_y</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>21</td>
      <td>{}</td>
    </tr>
    <tr>
      <th>2</th>
      <td>lasso</td>
      <td>acc_y</td>
      <td>5</td>
      <td>3</td>
      <td>3</td>
      <td>28</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ridge</td>
      <td>gyr_y</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>28</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
    </tr>
    <tr>
      <th>4</th>
      <td>random_forest</td>
      <td>acc_x</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>28</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
    </tr>
    <tr>
      <th>5</th>
      <td>xgboost</td>
      <td>gyr_y</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>21</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>svr</td>
      <td>acc_y</td>
      <td>4</td>
      <td>7</td>
      <td>3</td>
      <td>28</td>
      <td>{'C': 10, 'kernel': 'linear'}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-52270d8f-8b0a-4ac7-989e-9021679ce996')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-52270d8f-8b0a-4ac7-989e-9021679ce996 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-52270d8f-8b0a-4ac7-989e-9021679ce996');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-c82c403e-18f9-434b-a435-92d2a2331e70">
  <button class="colab-df-quickchart" onclick="quickchart('df-c82c403e-18f9-434b-a435-92d2a2331e70')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-c82c403e-18f9-434b-a435-92d2a2331e70 button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

  <div id="id_32d53f99-5685-409f-ab89-4c1dae85fc45">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('temp')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_32d53f99-5685-409f-ab89-4c1dae85fc45 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('temp');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">rvsp</span><span class="p">(</span><span class="n">df_val</span><span class="p">,</span> <span class="n">df_test</span><span class="p">):</span>
    <span class="n">r2_val</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">df_val</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">df_val</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">rmse_val</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">df_val</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">df_val</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">r2_test</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">rmse_test</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">squared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_val</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_val</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Valores Reales (Validación)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_val</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_val</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Valores Predichos (Validación)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Índice&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Valores&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reales vs Predichos - Conjunto de Validación</span><span class="se">\n</span><span class="s1">R2: </span><span class="si">{</span><span class="n">r2_val</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">, RMSE: </span><span class="si">{</span><span class="n">rmse_val</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_test</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Valores Reales (Test)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_test</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">df_test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Valores Predichos (Test)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Índice&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Valores&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reales vs Predichos - Conjunto de Test</span><span class="se">\n</span><span class="s1">R2: </span><span class="si">{</span><span class="n">r2_test</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">, RMSE: </span><span class="si">{</span><span class="n">rmse_test</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">analizar_residuos</span><span class="p">(</span><span class="n">df_test</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">df_train</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">calcular_residuos</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="n">mae</span> <span class="o">=</span> <span class="n">mean_absolute_error</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">rmse</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">mse</span><span class="p">)</span>
        <span class="n">mape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="o">*</span> <span class="mi">100</span>
        <span class="n">r2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

        <span class="n">ljung_box</span> <span class="o">=</span> <span class="n">acorr_ljungbox</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">],</span> <span class="n">lags</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="n">return_df</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">ljung_box_pvalue</span> <span class="o">=</span> <span class="n">ljung_box</span><span class="p">[</span><span class="s1">&#39;lb_pvalue&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">jarque_bera_result</span> <span class="o">=</span> <span class="n">jarque_bera</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">])</span>
        <span class="n">jarque_bera_pvalue</span> <span class="o">=</span> <span class="n">jarque_bera_result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">tabla_resumen</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
            <span class="s1">&#39;MAPE (%)&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">mape</span><span class="p">],</span>
            <span class="s1">&#39;MAE&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">mae</span><span class="p">],</span>
            <span class="s1">&#39;MSE&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">mse</span><span class="p">],</span>
            <span class="s1">&#39;RMSE&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">rmse</span><span class="p">],</span>
            <span class="s1">&#39;R2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">r2</span><span class="p">],</span>
            <span class="s1">&#39;Ljung-Box p-value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">ljung_box_pvalue</span><span class="p">],</span>
            <span class="s1">&#39;Jarque-Bera p-value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">jarque_bera_pvalue</span><span class="p">]</span>
        <span class="p">})</span>

        <span class="k">return</span> <span class="n">df</span><span class="p">,</span> <span class="n">tabla_resumen</span>

    <span class="k">def</span> <span class="nf">generar_graficos_lado_a_lado</span><span class="p">(</span><span class="n">df_train</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">df_test</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

        <span class="n">qqplot</span><span class="p">(</span><span class="n">df_train</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">],</span> <span class="n">line</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;QQPlot (Entrenamiento)&#39;</span><span class="p">)</span>

        <span class="n">qqplot</span><span class="p">(</span><span class="n">df_test</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">],</span> <span class="n">line</span><span class="o">=</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;QQPlot (Test)&#39;</span><span class="p">)</span>

        <span class="n">plot_acf</span><span class="p">(</span><span class="n">df_train</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">lags</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;ACF (Entrenamiento)&#39;</span><span class="p">)</span>

        <span class="n">plot_acf</span><span class="p">(</span><span class="n">df_test</span><span class="p">[</span><span class="s1">&#39;Residuos&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">lags</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;ACF (Test)&#39;</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="n">df_train</span><span class="p">,</span> <span class="n">tabla_train</span> <span class="o">=</span> <span class="n">calcular_residuos</span><span class="p">(</span><span class="n">df_train</span><span class="p">)</span>

    <span class="c1"># Calcular residuos y métricas para el conjunto de test</span>
    <span class="n">df_test</span><span class="p">,</span> <span class="n">tabla_test</span> <span class="o">=</span> <span class="n">calcular_residuos</span><span class="p">(</span><span class="n">df_test</span><span class="p">)</span>

    <span class="c1"># Generar gráficos lado a lado (solo QQPlot y ACF)</span>
    <span class="n">generar_graficos_lado_a_lado</span><span class="p">(</span><span class="n">df_train</span><span class="p">,</span> <span class="n">df_test</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;Entrenamiento&quot;</span><span class="p">:</span> <span class="n">tabla_train</span><span class="p">,</span> <span class="s2">&quot;Test&quot;</span><span class="p">:</span> <span class="n">tabla_test</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<section id="knn">
<h2>KNN<a class="headerlink" href="#knn" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">knn</span><span class="p">,</span> <span class="n">knn_test</span><span class="p">,</span> <span class="n">knn_val</span><span class="p">,</span> <span class="n">knn_train</span> <span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b7e8b1b6f0b44e8c5f6ab0fe476a64109c3c0403f4fc29d8be9c31e5cb5fe001.png" src="_images/b7e8b1b6f0b44e8c5f6ab0fe476a64109c3c0403f4fc29d8be9c31e5cb5fe001.png" />
</div>
</div>
<p>Nótese que la mediana del RMSE de los conjuntos de validación y test son cercanas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-7404cffd-1c2d-43fb-b2e6-78d678ad83de" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>knn</td>
      <td>acc_y</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>28</td>
      <td>{'n_neighbors': 7, 'p': 1, 'weights': 'distance'}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-7404cffd-1c2d-43fb-b2e6-78d678ad83de')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-7404cffd-1c2d-43fb-b2e6-78d678ad83de button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-7404cffd-1c2d-43fb-b2e6-78d678ad83de');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>El mejor modelo encontrado para KNN fue para la variable acc_y, es decir, el acelerómetro en el eje y, para el tercer ejercicio y la tercera unidad, la cual es de hecho, en el contexto del ejercicio el sensor en una de las ubicaciones más importantes, la rodilla derecha.</p>
<p>Este ejercicio en particular, consiste en acostarse boca arriba sobre una superficie plana, levantar la pierna derecha manteniendo tanto la rodilla derecha como la pierna izquierda completamente rectas. Luego, sostén la postura durante 5 segundos. Finalmente, regresa la pierna derecha a la posición inicial con control.</p>
<p>Se encontró que el mejor modelo no tiene una separación del conjunto de validación y una ventana de predicción en el conjunto de entrenamiento de 28 días, los mejores parámetros encontrados fueron 7 vecinos, p igual a 1 y como peso la distancia.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">knn_val</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">knn_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1daa2994b842a538cec41bc90db242dc46329497ac07207486139b17cc264ea4.png" src="_images/1daa2994b842a538cec41bc90db242dc46329497ac07207486139b17cc264ea4.png" />
</div>
</div>
<p>Se obtuvo un <span class="math notranslate nohighlight">\(R^2\)</span> de 0.86 en el conjunto de validación con un <span class="math notranslate nohighlight">\(RMSE\)</span> de 0.13, ambos buenos indicadores de la eficiencia del modelo. En el conjunto de test, se obtuvo un <span class="math notranslate nohighlight">\(R^2\)</span> de 0.89 y un <span class="math notranslate nohighlight">\(RMSE\)</span> de 0.16, ambos un poco más altos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">knn_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">knn_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0e3c4e2e6753e0673d6ab1ea1ea4c8a12d794ae1af27eeb8c5b9ac80bf12b92b.png" src="_images/0e3c4e2e6753e0673d6ab1ea1ea4c8a12d794ae1af27eeb8c5b9ac80bf12b92b.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-151e29a7-3e6b-455b-9d7e-4ef1a7cc1983" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-151e29a7-3e6b-455b-9d7e-4ef1a7cc1983')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-151e29a7-3e6b-455b-9d7e-4ef1a7cc1983 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-151e29a7-3e6b-455b-9d7e-4ef1a7cc1983');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-8549fb0d-6845-468f-9c45-d7aae1ab40db" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1.179781</td>
      <td>0.11063</td>
      <td>0.024726</td>
      <td>0.157244</td>
      <td>0.892235</td>
      <td>5.052984e-24</td>
      <td>1.308037e-12</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-8549fb0d-6845-468f-9c45-d7aae1ab40db')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-8549fb0d-6845-468f-9c45-d7aae1ab40db button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-8549fb0d-6845-468f-9c45-d7aae1ab40db');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Para los residuos en el caso del conjunto de entrenamiento, el modelo parece ajustar perfectamente a los datos de entrenamiento, esto sugiere cierto sobreajuste en el caso de knn. Los p valores aparecen como <strong>NaN</strong> debido a que todos los residuos son 0, lo que impide realizar las pruebas correctamente. El ACF no refleja ningún tipo de autocorrelación.</p>
<p>Para el caso de test, el modeo tiene un buen desempeño con un <span class="math notranslate nohighlight">\(R^2\)</span> de 0.89, los errores también son bastante bajos por tanto generaliza bien al conjunto. Al revisar los p - valores,ambos con muy cercanos a 0, lo que en el caso de la prueba <span class="math notranslate nohighlight">\(\texttt{Ljung-Box}\)</span> indica que los residuos tienen autocorrelación, restándole validez al modelo. El valor de <span class="math notranslate nohighlight">\(\texttt{Jarque-Bera}\)</span> al ser también cercano a 0, indica que los residuos tampoco siguen una distribución normal.</p>
</section>
<section id="regresion-lineal">
<h2>Regresión lineal<a class="headerlink" href="#regresion-lineal" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">lineal</span><span class="p">,</span> <span class="n">lineal_test</span><span class="p">,</span> <span class="n">lineal_val</span><span class="p">,</span> <span class="n">lineal_train</span> <span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0c42063b9c6ab2771a6920d131cd9f489f9740d8a4ad5dc337c42e4f4d9b2633.png" src="_images/0c42063b9c6ab2771a6920d131cd9f489f9740d8a4ad5dc337c42e4f4d9b2633.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-63cf0728-5f5e-4ffc-9205-1f77d9086949" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>lineal</td>
      <td>mag_y</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>21</td>
      <td>{}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-63cf0728-5f5e-4ffc-9205-1f77d9086949')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-63cf0728-5f5e-4ffc-9205-1f77d9086949 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-63cf0728-5f5e-4ffc-9205-1f77d9086949');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Para el modelo de regresión lineal, el mejor obtenido fue para la variable mag_y o magnetómetro en y, para la unidad 3, ejercicio 2, ninguna separación del conjjunto de validación y una ventana de predicción en el conjunto de entrenamiento de 21 días. Al ser un modelo de regresión lineal, no tiene hiperparámetros.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lineal_val</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lineal_test</span><span class="p">)[:</span><span class="mi">100</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f22170d47cabeed4f59243a6c569033ab31de7199c5302c283d2309a2d703b4f.png" src="_images/f22170d47cabeed4f59243a6c569033ab31de7199c5302c283d2309a2d703b4f.png" />
</div>
</div>
<p>Ajusta demasiado bien, podrían sugerir sobreajuste en ambos conjuntos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lineal_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lineal_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3affd162e1ead59e5ac9c4335bc67e499e9589eb8882744a988f58971ab7b678.png" src="_images/3affd162e1ead59e5ac9c4335bc67e499e9589eb8882744a988f58971ab7b678.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-18346968-6cc3-4eca-bfa3-5431d64dea6f" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.100007</td>
      <td>0.000692</td>
      <td>7.561042e-07</td>
      <td>0.00087</td>
      <td>0.994687</td>
      <td>1.280441e-72</td>
      <td>0.660765</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-18346968-6cc3-4eca-bfa3-5431d64dea6f')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-18346968-6cc3-4eca-bfa3-5431d64dea6f button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-18346968-6cc3-4eca-bfa3-5431d64dea6f');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-dced9fb2-de45-4ef6-aee7-952c7d5a50f1" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.116151</td>
      <td>0.00079</td>
      <td>9.940178e-07</td>
      <td>0.000997</td>
      <td>0.989414</td>
      <td>3.383875e-31</td>
      <td>0.415658</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-dced9fb2-de45-4ef6-aee7-952c7d5a50f1')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-dced9fb2-de45-4ef6-aee7-952c7d5a50f1 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-dced9fb2-de45-4ef6-aee7-952c7d5a50f1');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>En ambos modelos se obtienen <span class="math notranslate nohighlight">\(R^2\)</span> bastante altos y errores muy pequeños, esto indica que el modelo predice casi que perfectamente los datos de entrenamiento y test. Din embargo, en ambos caso el p - valor de <span class="math notranslate nohighlight">\(\texttt{Ljung Box}\)</span> indican que existe una autocorrelación significativa entre los residuos, es decir no son independientes. El valor de <span class="math notranslate nohighlight">\(\texttt{Jarque-Bera}\)</span>, por otro lado, sí sugiere que los residuos son normales.</p>
</section>
<section id="regresion-lasso">
<h2>Regresión Lasso<a class="headerlink" href="#regresion-lasso" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">lasso</span><span class="p">,</span> <span class="n">lasso_test</span><span class="p">,</span> <span class="n">lasso_val</span><span class="p">,</span> <span class="n">lasso_train</span> <span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/d3ef88e56ac48891084df03161b3a89681da0786fdec8e5ce4af8225f18c90a6.png" src="_images/d3ef88e56ac48891084df03161b3a89681da0786fdec8e5ce4af8225f18c90a6.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-02d1d77f-4411-4bd3-a9d7-035a3d4a94d1" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>lasso</td>
      <td>acc_y</td>
      <td>5</td>
      <td>3</td>
      <td>3</td>
      <td>28</td>
      <td>{'alpha': 0.1, 'max_iter': 1000}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-02d1d77f-4411-4bd3-a9d7-035a3d4a94d1')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-02d1d77f-4411-4bd3-a9d7-035a3d4a94d1 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-02d1d77f-4411-4bd3-a9d7-035a3d4a94d1');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Lasso realmente no funcionóC con ninguna variable, no ajustó bien bajo nigún hiperparámetro, ejercicio, unidad, ventana o separación. El mejor modelo de regresión con penalización de Lasso, fue realizado para la variable de aceleración en y, unidad 5, tercer ejercicio y con una separación de 2 segundos o 50 registros del conjunto de validación. Los mejores hiperparámetros encontrados fueron un alpha de 0.1 y 1000 iteraciones máximas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lasso_val</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lasso_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9d89184d25e9cfce17e94c6bfeba8df43620df9e556865ea3610d5c547ef7cf4.png" src="_images/9d89184d25e9cfce17e94c6bfeba8df43620df9e556865ea3610d5c547ef7cf4.png" />
</div>
</div>
<p>Como se puede observar, predijo el mismo valor  tanto en validación como en test.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lasso_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">lasso_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/30e76931aca5afd544aa81d462db6516a298d514d260c718e94ead2dd099cb27.png" src="_images/30e76931aca5afd544aa81d462db6516a298d514d260c718e94ead2dd099cb27.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-05766644-ec53-444b-82da-0a59a76e25e9" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.280075</td>
      <td>0.027516</td>
      <td>0.001662</td>
      <td>0.040762</td>
      <td>0.0</td>
      <td>1.054963e-37</td>
      <td>1.250797e-124</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-05766644-ec53-444b-82da-0a59a76e25e9')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-05766644-ec53-444b-82da-0a59a76e25e9 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-05766644-ec53-444b-82da-0a59a76e25e9');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-3f428217-af73-42f8-921c-81e2a39dacd5" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.296399</td>
      <td>0.02914</td>
      <td>0.001485</td>
      <td>0.038534</td>
      <td>-0.008199</td>
      <td>0.000844</td>
      <td>0.000858</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3f428217-af73-42f8-921c-81e2a39dacd5')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3f428217-af73-42f8-921c-81e2a39dacd5 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3f428217-af73-42f8-921c-81e2a39dacd5');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Se obtuvieron errores bastante bajos pero también pésimos <span class="math notranslate nohighlight">\(R^2\)</span>, los p - valores de las pruebas realizadas a los residuos indican que no son independientes ni tampoco normales.</p>
</section>
<section id="regresion-ridge">
<h2>Regresión Ridge<a class="headerlink" href="#regresion-ridge" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">ridge</span><span class="p">,</span> <span class="n">ridge_test</span><span class="p">,</span> <span class="n">ridge_val</span><span class="p">,</span> <span class="n">ridge_train</span> <span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e8bae078505ca8a9ba6475486b13b9e3a5b3f506628061ea3c35da5deedd66f0.png" src="_images/e8bae078505ca8a9ba6475486b13b9e3a5b3f506628061ea3c35da5deedd66f0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-2ee3edc3-09fa-47d7-8219-d2fea31de700" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>ridge</td>
      <td>gyr_y</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>28</td>
      <td>{'alpha': 1, 'max_iter': 1000}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-2ee3edc3-09fa-47d7-8219-d2fea31de700')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-2ee3edc3-09fa-47d7-8219-d2fea31de700 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-2ee3edc3-09fa-47d7-8219-d2fea31de700');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>El mejor mmodelo obtenido para regresión con Ridge fue para la variable del giroscopio en y, gyr_y, en la unidad 2 y el ejercicio 1, con un conjunto de test justo después del de validación y una ventana de predicción en entrenamiento de 28 segundos.</p>
<p>Este ejercicio consiste en consiste en sentarse en una superficie plana y elevada. Desde esa posición, debes levantar la pierna derecha manteniéndola completamente recta. Luego, sostén esa postura durante 5 segundos, asegurándote de que la rodilla derecha permanezca extendida. Finalmente, baja la pierna con control y regresa a la posición inicial.</p>
<p>La unidad involucrada en este modelo corresponde a la encontrada en el tobillo derecho, la cual juega un papel fundamental durante la realización del ejercicio.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ridge_val</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ridge_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/9a6439d0a5373b0b89fb89fbb9e1ca2b5c3a12f917ca560369d2b63e2ae7517e.png" src="_images/9a6439d0a5373b0b89fb89fbb9e1ca2b5c3a12f917ca560369d2b63e2ae7517e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ridge_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ridge_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a4afd9020ad5cf624c2c5b215056c06afef555ceb2a61e418b2094edcad8ca3d.png" src="_images/a4afd9020ad5cf624c2c5b215056c06afef555ceb2a61e418b2094edcad8ca3d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-39872c9e-63d6-4c61-8b46-9495f9d676ba" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>101.574877</td>
      <td>0.01393</td>
      <td>0.000457</td>
      <td>0.02137</td>
      <td>0.968481</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-39872c9e-63d6-4c61-8b46-9495f9d676ba')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-39872c9e-63d6-4c61-8b46-9495f9d676ba button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-39872c9e-63d6-4c61-8b46-9495f9d676ba');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-1d91bf30-f053-4575-8dc2-66ea2b026f7a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>87.584141</td>
      <td>0.019208</td>
      <td>0.000855</td>
      <td>0.029247</td>
      <td>0.960738</td>
      <td>7.272001e-173</td>
      <td>2.766085e-32</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-1d91bf30-f053-4575-8dc2-66ea2b026f7a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-1d91bf30-f053-4575-8dc2-66ea2b026f7a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-1d91bf30-f053-4575-8dc2-66ea2b026f7a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Si bien se obtuvo un muy bien <span class="math notranslate nohighlight">\(R^2\)</span> y algunos errores bastante bajos, la métrica del error porcental <span class="math notranslate nohighlight">\(MAPE\)</span> y los p-valores de las pruebas realizadas a los residuos sugieren problemas en el ajuste, no son ni normales ni independientes.</p>
</section>
<section id="random-forest">
<h2>Random Forest<a class="headerlink" href="#random-forest" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="n">rf</span><span class="p">,</span> <span class="n">rf_test</span><span class="p">,</span> <span class="n">rf_val</span><span class="p">,</span> <span class="n">rf_train</span> <span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ce1b05a7fba7914d4f842991da345cc7ac7d25a18c0f1d8755053d384bfd8bf8.png" src="_images/ce1b05a7fba7914d4f842991da345cc7ac7d25a18c0f1d8755053d384bfd8bf8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-f9f7ee57-cc25-4256-844f-492ee94bfab5" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>random_forest</td>
      <td>acc_x</td>
      <td>2</td>
      <td>4</td>
      <td>1</td>
      <td>28</td>
      <td>{'max_depth': 20, 'n_estimators': 150}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-f9f7ee57-cc25-4256-844f-492ee94bfab5')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-f9f7ee57-cc25-4256-844f-492ee94bfab5 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-f9f7ee57-cc25-4256-844f-492ee94bfab5');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rf_val</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rf_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/545b3a477152e4600f98847b04ffe98178a1708ca673b438debed6171b8cff21.png" src="_images/545b3a477152e4600f98847b04ffe98178a1708ca673b438debed6171b8cff21.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rf_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rf_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0cc68ebe328733fd1d42a7bfb793a4d26e2d582e2a3b3cb78784556a635cf50f.png" src="_images/0cc68ebe328733fd1d42a7bfb793a4d26e2d582e2a3b3cb78784556a635cf50f.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-ae056a0e-39c8-450e-ac0f-a0593c1dd22b" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.629574</td>
      <td>0.017395</td>
      <td>0.001201</td>
      <td>0.034654</td>
      <td>0.999491</td>
      <td>6.806554e-40</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-ae056a0e-39c8-450e-ac0f-a0593c1dd22b')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-ae056a0e-39c8-450e-ac0f-a0593c1dd22b button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-ae056a0e-39c8-450e-ac0f-a0593c1dd22b');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-fc66a764-53b0-48ac-8766-084150dd807e" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>8.161946</td>
      <td>0.059689</td>
      <td>0.010004</td>
      <td>0.100018</td>
      <td>0.994838</td>
      <td>2.908990e-28</td>
      <td>2.617335e-47</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-fc66a764-53b0-48ac-8766-084150dd807e')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-fc66a764-53b0-48ac-8766-084150dd807e button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-fc66a764-53b0-48ac-8766-084150dd807e');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Se obtuvieron errores muy bajos, un buen <span class="math notranslate nohighlight">\(R^2\)</span> sin embargo, los resultados de las pruebas aplicadas a los residuos tanto en el conjunto de entrenamiento como en el conjunto de test, demuestran que los residuos no son independientes ni normales.</p>
</section>
<section id="xgboost">
<h2>XGBoost<a class="headerlink" href="#xgboost" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="n">xg</span><span class="p">,</span> <span class="n">xg_test</span><span class="p">,</span> <span class="n">xg_val</span><span class="p">,</span> <span class="n">xg_train</span><span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/bfb72812c9360e6e633c5af5ae8f2b7596a1eb45868b6abf64a77b15b4d9582c.png" src="_images/bfb72812c9360e6e633c5af5ae8f2b7596a1eb45868b6abf64a77b15b4d9582c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-3c3cec68-39fa-4643-823a-5345f3a2bee6" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>xgboost</td>
      <td>gyr_y</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>21</td>
      <td>{'learning_rate': 0.1, 'max_depth': 3, 'n_esti...</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3c3cec68-39fa-4643-823a-5345f3a2bee6')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3c3cec68-39fa-4643-823a-5345f3a2bee6 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3c3cec68-39fa-4643-823a-5345f3a2bee6');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">xg_val</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">xg_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/fa177283b955e3691adea4de64dbf1e7d7dfee6ae01451d7e60607824020bd65.png" src="_images/fa177283b955e3691adea4de64dbf1e7d7dfee6ae01451d7e60607824020bd65.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">xg_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">xg_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/169ca63649ad74b182e4987359201b0de58b68f103ecb405f2967bccc0db203e.png" src="_images/169ca63649ad74b182e4987359201b0de58b68f103ecb405f2967bccc0db203e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-565d83e9-0889-480e-84d4-697dd191f848" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>86.39569</td>
      <td>0.008996</td>
      <td>0.000144</td>
      <td>0.01199</td>
      <td>0.99228</td>
      <td>5.036854e-52</td>
      <td>1.120875e-54</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-565d83e9-0889-480e-84d4-697dd191f848')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-565d83e9-0889-480e-84d4-697dd191f848 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-565d83e9-0889-480e-84d4-697dd191f848');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-b44febb0-5273-41de-8317-aee4b4dcc886" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>77.976109</td>
      <td>0.01133</td>
      <td>0.000254</td>
      <td>0.015924</td>
      <td>0.972163</td>
      <td>8.487276e-16</td>
      <td>2.948930e-21</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-b44febb0-5273-41de-8317-aee4b4dcc886')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-b44febb0-5273-41de-8317-aee4b4dcc886 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-b44febb0-5273-41de-8317-aee4b4dcc886');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>Los errores porcentuales y los p - valores de las pruebas aplicadas a los residuos confirman que el modelo no está ajustando tan bien como lo sugiere el <span class="math notranslate nohighlight">\(R^2\)</span>, el cual es bastante alto, debido a que los residuos tampoco cumplieron los supuestos, es decir, no son normales ni tampoco independientes. Se observa como las colas de los QQplot salen de la línea recta.</p>
</section>
<section id="svr">
<h2>SVR<a class="headerlink" href="#svr" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
<span class="n">svr</span><span class="p">,</span> <span class="n">svr_test</span><span class="p">,</span> <span class="n">svr_val</span><span class="p">,</span> <span class="n">svr_train</span><span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1ee41ffa085c822d1e7d5e25445ad4bacb3808d1336459bb69aa68276bcb96d4.png" src="_images/1ee41ffa085c822d1e7d5e25445ad4bacb3808d1336459bb69aa68276bcb96d4.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-11dc341c-8bf8-4147-a5cf-dec432252f69" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Modelo</th>
      <th>Variable</th>
      <th>Unidad</th>
      <th>Ejercicio</th>
      <th>Separación</th>
      <th>Ventana</th>
      <th>Hiperparámetros</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>svr</td>
      <td>acc_y</td>
      <td>4</td>
      <td>7</td>
      <td>3</td>
      <td>28</td>
      <td>{'C': 10, 'kernel': 'linear'}</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-11dc341c-8bf8-4147-a5cf-dec432252f69')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-11dc341c-8bf8-4147-a5cf-dec432252f69 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-11dc341c-8bf8-4147-a5cf-dec432252f69');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>El mejor modelo encontrado para SVR corresponde al ejercicio 7, este ejercicio consiste en permanecer de pie, con la espalda recta, sosteniendo un peso de 1 kg en la mano derecha, con el brazo colgando recto hacia abajo. Desde esa posición, eleva el peso hacia el lado derecho desde la articulación del hombro hasta alcanzar una posición horizontal, manteniendo el codo completamente recto. Luego, mantén esta posición durante 5 segundos. Finalmente, regresa el brazo a la posición inicial con control.</p>
<p>Para la unidad 4, posicionada en el hombro derecho en la variable del acelerómetro en y. Este modelo tuvo un ventana de predicción en entrenamiento de 28 segundos y una separación de 3 segundos del conjunto de validación y test. Los mejores hiperparámetros encontrados fueron de kernel lineal con C 10.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rvsp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">svr_val</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">svr_test</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/8e22e5f885fcde167784b8643ba97cf2f530c2f4432d5b693489dd7f0b9966c9.png" src="_images/8e22e5f885fcde167784b8643ba97cf2f530c2f4432d5b693489dd7f0b9966c9.png" />
</div>
</div>
<p>Se obtuvieron valores de <span class="math notranslate nohighlight">\(R^2\)</span> bastante altos en ambos conjuntos, tanto de validación como en test, siendo más alto en test con 0.92. Los <span class="math notranslate nohighlight">\(RMSE\)</span> también son bastante bajos en ambos conjuntos, siendo muy ligeramente mayor en test.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">svr_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">svr_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/16face00639094ecbca8288a1f6989ac63dc889113ca549fba8d91c7dc1b3e54.png" src="_images/16face00639094ecbca8288a1f6989ac63dc889113ca549fba8d91c7dc1b3e54.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Entrenamiento&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-6d5d5506-f113-4770-a761-3231f14380c7" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9.130908</td>
      <td>0.093525</td>
      <td>0.149123</td>
      <td>0.386164</td>
      <td>0.726431</td>
      <td>1.249499e-14</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6d5d5506-f113-4770-a761-3231f14380c7')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6d5d5506-f113-4770-a761-3231f14380c7 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6d5d5506-f113-4770-a761-3231f14380c7');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-6f2a086f-f1de-4e60-a5a1-63819ed69339" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4.10939</td>
      <td>0.053941</td>
      <td>0.006261</td>
      <td>0.079128</td>
      <td>0.920384</td>
      <td>0.096078</td>
      <td>4.807450e-196</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6f2a086f-f1de-4e60-a5a1-63819ed69339')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6f2a086f-f1de-4e60-a5a1-63819ed69339 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6f2a086f-f1de-4e60-a5a1-63819ed69339');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    </div>
  </div>
</div></div>
</div>
<p>En la gráfica se observa del conjunto de entrenamiento se nota inmediatamente que los residuos no son normales, esto es confirmado por el p valor de <span class="math notranslate nohighlight">\(\texttt{Jarque-Bera}\)</span> el cual confirma la no normalidad de los residuos, en test parecen tener una distribución más normal, sin embargo los resultados del test arrojados confirman que no tienen tampoco una distribución normal.</p>
<p>En el caso de la prueba de <span class="math notranslate nohighlight">\(\texttt{Ljung-Box}\)</span>, los residuos en el conjunto de entrenamiento presentan autocorrelación significativa, en cambio, en el conjunto de test, con un nivel de significancia del 0.05, no se rechaza la hipótesis nula de independencia, es decir, los residuos no están autocorrelacionados.</p>
<p>En cuanto a las métricas en el conjunto de entrenamiento, se obtuvo un error porcentual medio del 9.13%, es decir, las predicciones del conjunto de entrenamiento se desvían ese porcentaje de los valores reales en promedio, el <span class="math notranslate nohighlight">\(MAE\)</span> es bajo, sin embargo el <span class="math notranslate nohighlight">\(MSE\)</span> y <span class="math notranslate nohighlight">\(RMSE\)</span> son un poco más altos, es decir, el modelo comete errores con impactos sifnificativos.</p>
<p>Para el conjunto de test el <span class="math notranslate nohighlight">\(MAPE\)</span> es menor, es decir, los valores predichos del test se desvían un 4.1% del valor real, tando el <span class="math notranslate nohighlight">\(MAE\)</span>, <span class="math notranslate nohighlight">\(MSE\)</span> y <span class="math notranslate nohighlight">\(RMSE\)</span> son menores en este conjunto.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="resultados-finales">
<h1>Resultados finales<a class="headerlink" href="#resultados-finales" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">modelos_finales</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">modelos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;knn&#39;</span><span class="p">,</span> <span class="s1">&#39;lineal&#39;</span><span class="p">,</span> <span class="s1">&#39;lasso&#39;</span><span class="p">,</span> <span class="s1">&#39;ridge&#39;</span><span class="p">,</span> <span class="s1">&#39;random_forest&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;svr&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">):</span>
  <span class="n">modelo</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="n">modelo</span><span class="p">,</span> <span class="n">modelo_test</span><span class="p">,</span> <span class="n">modelo_val</span><span class="p">,</span> <span class="n">modelo_train</span><span class="o">=</span> <span class="n">modeloespecifico</span><span class="p">(</span><span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ejercicio&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Unidad&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Ventana&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Separación&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Modelo&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Hiperparámetros&#39;</span><span class="p">],</span> <span class="n">modelo</span><span class="p">[</span><span class="s1">&#39;Variable&#39;</span><span class="p">])</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">analizar_residuos</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo_test</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelo_train</span><span class="p">))</span>
  <span class="n">jej</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span>
  <span class="n">jej</span> <span class="o">=</span> <span class="p">[</span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">jej</span><span class="p">)</span>
  <span class="n">modelos_finales</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jej</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">modelos_finales</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="n">modelos</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s1">&#39;Test&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-247dc4a2-3b3e-43f3-b3ec-2a103fd588ee" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MAPE (%)</th>
      <th>MAE</th>
      <th>MSE</th>
      <th>RMSE</th>
      <th>R2</th>
      <th>Ljung-Box p-value</th>
      <th>Jarque-Bera p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>knn</th>
      <td>1.179781</td>
      <td>0.110630</td>
      <td>2.472567e-02</td>
      <td>0.157244</td>
      <td>0.892235</td>
      <td>5.052984e-24</td>
      <td>1.308037e-12</td>
    </tr>
    <tr>
      <th>lineal</th>
      <td>0.116151</td>
      <td>0.000790</td>
      <td>9.940178e-07</td>
      <td>0.000997</td>
      <td>0.989414</td>
      <td>3.383875e-31</td>
      <td>4.156584e-01</td>
    </tr>
    <tr>
      <th>lasso</th>
      <td>0.296399</td>
      <td>0.029140</td>
      <td>1.484897e-03</td>
      <td>0.038534</td>
      <td>-0.008199</td>
      <td>8.441934e-04</td>
      <td>8.580741e-04</td>
    </tr>
    <tr>
      <th>ridge</th>
      <td>87.584141</td>
      <td>0.019208</td>
      <td>8.553685e-04</td>
      <td>0.029247</td>
      <td>0.960738</td>
      <td>7.272001e-173</td>
      <td>2.766085e-32</td>
    </tr>
    <tr>
      <th>random_forest</th>
      <td>8.568616</td>
      <td>0.061894</td>
      <td>9.483475e-03</td>
      <td>0.097383</td>
      <td>0.995107</td>
      <td>2.459596e-32</td>
      <td>5.902667e-48</td>
    </tr>
    <tr>
      <th>xgboost</th>
      <td>77.976109</td>
      <td>0.011330</td>
      <td>2.535730e-04</td>
      <td>0.015924</td>
      <td>0.972163</td>
      <td>8.487276e-16</td>
      <td>2.948930e-21</td>
    </tr>
    <tr>
      <th>svr</th>
      <td>4.109390</td>
      <td>0.053941</td>
      <td>6.261236e-03</td>
      <td>0.079128</td>
      <td>0.920384</td>
      <td>9.607772e-02</td>
      <td>4.807450e-196</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-247dc4a2-3b3e-43f3-b3ec-2a103fd588ee')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-247dc4a2-3b3e-43f3-b3ec-2a103fd588ee button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-247dc4a2-3b3e-43f3-b3ec-2a103fd588ee');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


<div id="df-6696eabb-5868-4439-bdef-cef52fe4048a">
  <button class="colab-df-quickchart" onclick="quickchart('df-6696eabb-5868-4439-bdef-cef52fe4048a')"
            title="Suggest charts"
            style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
  </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

  <script>
    async function quickchart(key) {
      const quickchartButtonEl =
        document.querySelector('#' + key + ' button');
      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
      quickchartButtonEl.classList.add('colab-df-spinner');
      try {
        const charts = await google.colab.kernel.invokeFunction(
            'suggestCharts', [key], {});
      } catch (error) {
        console.error('Error during call to suggestCharts:', error);
      }
      quickchartButtonEl.classList.remove('colab-df-spinner');
      quickchartButtonEl.classList.add('colab-df-quickchart-complete');
    }
    (() => {
      let quickchartButtonEl =
        document.querySelector('#df-6696eabb-5868-4439-bdef-cef52fe4048a button');
      quickchartButtonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';
    })();
  </script>
</div>

    </div>
  </div>
</div></div>
</div>
<p><strong>KNN</strong><br />
El modelo de KNN tiene un buen rendimiento con un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> bajo (1.18%), lo que indica que se ajusta bastante bien a los datos. Su <span class="math notranslate nohighlight">\( R^2 \)</span> de 0.89 muestra una buena capacidad predictiva. Sin embargo, los residuos no son totalmente normales y la prueba de <span class="math notranslate nohighlight">\( \text{Ljung-Box} \)</span> sugiere que hay autocorrelación en los residuos, lo que quiere decir que el modelo no ha capturado toda la estructura temporal de los datos. Podría mejorar con algunos ajustes adicionales.</p>
<p><strong>Regresión lineal</strong><br />
La regresión lineal es excelente en cuanto a precisión, con un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> de 0.12% y un <span class="math notranslate nohighlight">\( R^2 \)</span> de 0.99, lo que indica un ajuste muy bueno a los datos. Sin embargo, también muestra autocorrelación en los residuos, según la prueba de <span class="math notranslate nohighlight">\( \text{Ljung-Box} \)</span>. Aunque es muy preciso, el modelo podría necesitar mejorar en la captura de las dinámicas temporales.</p>
<p><strong>Lasso</strong><br />
El modelo de Lasso tiene un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> decente de 0.30%, pero su <span class="math notranslate nohighlight">\( R^2 \)</span> negativo (-0.01) indica que no se ajusta bien a los datos. Además, la prueba de <span class="math notranslate nohighlight">\( \text{Ljung-Box} \)</span> muestra autocorrelación en los residuos, lo que sugiere que el modelo no está capturando toda la dinámica temporal. Los residuos tampoco son normales, lo que indica que el modelo podría no ser el mejor para estos datos.</p>
<p><strong>Ridge</strong><br />
Aunque el modelo de Ridge tiene un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> altísimo (87.58%), su <span class="math notranslate nohighlight">\( R^2 \)</span> alto (0.96) muestra que está sobreajustando los datos. Los residuos no presentan autocorrelación, lo que significa que el modelo ha capturado la parte temporal bien. Sin embargo, los residuos no son normales, lo que sugiere que hay espacio para mejoras.</p>
<p><strong>Random Forest</strong><br />
Random Forest tiene un rendimiento bastante bueno, con un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> de 8.57% y un <span class="math notranslate nohighlight">\( R^2 \)</span> de 0.99, lo que indica que tiene una excelente capacidad predictiva. Además, no hay autocorrelación en los residuos, lo que es una buena señal de que ha capturado bien la dinámica temporal. Los residuos no siguen una distribución normal, pero, en general, el modelo parece estar funcionando bastante bien.</p>
<p><strong>XGBoost</strong><br />
El modelo de XGBoost no tiene un buen desempeño en cuanto a precisión, con un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> alto (77.98%), aunque su <span class="math notranslate nohighlight">\( R^2 \)</span> de 0.97 muestra que tiene algo de capacidad predictiva. Los residuos tienen autocorrelación, lo que sugiere que no ha capturado completamente la estructura temporal. Además, los residuos tampoco son normales, lo que indica que podría haber margen para mejorar.</p>
<p><strong>SVR</strong><br />
SVR tiene un rendimiento moderado, con un <span class="math notranslate nohighlight">\( \text{MAPE} \)</span> de 4.11% y un <span class="math notranslate nohighlight">\( R^2 \)</span> de 0.92, lo que lo hace decente en cuanto a capacidad predictiva. No hay autocorrelación significativa en los residuos, lo que es positivo. Sin embargo, los residuos no son normales, lo que sugiere que el modelo también podría mejorarse.</p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="clas_ex.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Satisfacción de clientes</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Physical Therapy Dataset</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#sobre-los-datos">Sobre los datos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#estructura-de-los-datos">Estructura de los datos</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio">Análisis exploratorio</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#comportamiento-de-las-series">Comportamiento de las series</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primer-ejercicio">Primer ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#segundo-ejercicio">Segundo ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tercer-ejercicio">Tercer ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cuarto-ejercicio">Cuarto ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quinto-ejercicio">Quinto ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sexto-ejercicio">Sexto ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#septimo-ejercicio">Séptimo ejercicio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#octavo-ejercicio">Octavo ejercicio</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#correlacion">Correlación</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-uno-unidad-2-y-3">Ejercicio uno: unidad 2 y 3</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-dos-unidad-5">Ejercicio dos: unidad 5</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-cinco-unidad-2-y-3">Ejercicio cinco: unidad 2 y 3</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#descomposicion-estacional">Descomposición estacional</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-tomado">Ejercicio tomado</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#primer-ejercicio-y-sujeto-uno">Primer ejercicio y sujeto uno</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-1">Unidad 1</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-2">Unidad 2</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-3">Unidad 3</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-4">Unidad 4</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#unidad-5">Unidad 5</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-de-dickey-fuller">Test de Dickey - Fuller</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#que-significa-estacionaria">¿Qué significa “estacionaria”?</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#hipotesis-del-test-de-dickey-fuller">Hipótesis del test de Dickey-Fuller</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados">Resultados</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretacion">Interpretación</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#acf-y-pacf">ACF y PACF</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-de-autocorrelacion-acf">Función de Autocorrelación (ACF)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcion-de-autocorrelacion-parcial-pacf">Función de Autocorrelación Parcial (PACF)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicios-tomados">Ejercicios tomados</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Primer ejercicio y sujeto uno</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelos">Modelos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pliegues">Pliegues</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#mejores-modelos-finales-por-ejercicio-unidad-y-variable">Mejores modelos finales por ejercicio, unidad y variable</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-1">Ejercicio 1</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-2">Ejercicio 2</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-3">Ejercicio 3</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-4">Ejercicio 4</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-5">Ejercicio 5</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-6">Ejercicio 6</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-7">Ejercicio 7</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-8">Ejercicio 8</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-de-modelos-elegidos">Análisis de modelos elegidos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#knn">KNN</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-lineal">Regresión lineal</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-lasso">Regresión Lasso</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-ridge">Regresión Ridge</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest">Random Forest</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#xgboost">XGBoost</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#svr">SVR</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados-finales">Resultados finales</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Valentina Cabrera, Valentina Bustamante
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>